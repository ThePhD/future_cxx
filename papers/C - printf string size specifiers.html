<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>NXX91: printf string size specifiers (and general precision length modifiers)</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
			border-bottom: 3px solid transparent;
			margin-bottom: -3px;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom-color: #054572;
			border-bottom-color: var(--toclink-underline);
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      vertical-align: top;
    }
    th, td {
      border-left: none;
      border-right: none;
      padding: 0px 10px;
    }
    th {
      text-align: center;
    }
  </style>
  <meta content="Bikeshed version c3a8ac783, updated Wed Jul 24 12:20:06 2024 -0700" name="generator">
  <link href="https://thephd.dev/_vendor/future_cxx/papers/C%20-%20printf%20string%20size%20specifiers.html" rel="canonical">
  <link href="https://isocpp.org/favicon.ico" rel="icon">
  <meta content="b77040ef2d5140882dab76d5770a39f6ef260a21" name="revision">
  <meta content="dark light" name="color-scheme">
<style>
:root {
	/* Default (light) theme */
	--foreground-point: rgb(0,0,0);
	--background-point: rgb(255,255,255);

	--ins-text-color: rgb(0, 182, 15);
	--diff-ins-text-color: rgb(0, 176, 189);
	--del-text-color: rgb(255, 58, 58);
	--diff-del-text-color: rgb(139, 0, 194);
}

/* dark theme */
@media (prefers-color-scheme: dark) {
	:root {
		--foreground-point: rgb(255,255,255);
		--background-point: rgb(0,0,0);

		--ins-text-color: rgb(48, 255, 48);
		--diff-ins-text-color: rgb(91, 250, 255);
		--del-text-color: rgb(255, 52, 52);
		--diff-del-text-color: rgb(244, 129, 255);
	}
}

:root {
	--ins-text-background-color: color-mix(in srgb, var(--ins-text-color) 5%, var(--background-point));
	--ins-code-background-color: color-mix(in srgb, var(--ins-text-color) 15%, var(--background-point));
	--ins-text-decoration-color: color-mix(in srgb, var(--ins-text-color) 10%, var(--foreground-point));
	--ins-text-border-color: color-mix(in srgb, var(--ins-text-color) 50%, var(--foreground-point));
	--diff-ins-text-background-color: color-mix(in srgb, var(--diff-ins-text-color) 5%, var(--background-point));
	--diff-ins-code-background-color: color-mix(in srgb, var(--diff-ins-text-color) 15%, var(--background-point));
	--diff-ins-text-decoration-color: color-mix(in srgb, var(--diff-ins-text-color) 10%, var(--foreground-point));

	--del-text-background-color: color-mix(in srgb, var(--del-text-color) 5%, var(--background-point));
	--del-code-background-color: color-mix(in srgb, var(--del-text-color) 15%, var(--background-point));
	--del-text-decoration-color: color-mix(in srgb, var(--del-text-color) 10%, var(--foreground-point));
	--diff-del-text-background-color: color-mix(in srgb, var(--diff-del-text-color) 5%, var(--background-point));
	--diff-del-code-background-color: color-mix(in srgb, var(--diff-del-text-color) 15%, var(--background-point));
	--diff-del-text-decoration-color: color-mix(in srgb, var(--diff-del-text-color) 10%, var(--foreground-point));
}

@media print {
	.pagebreak { break-after: always }
}

ins .wording-section .highlight:not(.idl) { background: var(--ins-code-background-color); }
diff-ins .wording-section .highlight:not(.idl) { background: var(--diff-ins-code-background-color); }
del .wording-section .highlight:not(.idl) { background: var(--del-code-background-color); }
diff-del .wording-section .highlight:not(.idl) { background: var(--diff-del-code-background-color); }


.tg  {
	border-collapse: collapse;
	border-spacing:0;
}

.tg td{
	padding:10px 10px;
	border-style: solid;
	border-width:1px;
	overflow: hidden;
	word-break: normal;
	border-color: var(--foreground-point, unset);
}
.tg th{
	font-weight: normal;
	padding: 10px 10px;
	border-style: solid;
	border-width: 1px;
	overflow: hidden;
	word-break: normal;
	border-color: black;
}
.tg .tg-c3ow { 
	border-color: unset;
	text-align: center;
	vertical-align: top
}

.quote-ins, quote-ins, quote-ins p, quote-ins div, span.quote-ins, span.quote-ins * {
	border-color: var(--ins-text-border-color);
}

.ins, ins, ins p, ins div, span.ins, span.ins * {
	background-color: var(--ins-text-background-color);
	background: var(--ins-text-background-color);
	color: var(--ins-text-color);
	text-decoration: underline;
	text-decoration-color: var(--ins-text-decoration-color);
	border-color: var(--ins-text-decoration-color);
}

.diff-ins, diff-ins, diff-ins p, diff-ins div, span.diff-ins, span.diff-ins * {
	background-color: var(--diff-ins-text-background-color);
	background: var(--diff-ins-text-background-color);
	color: var(--diff-ins-text-color);
	text-decoration: underline double;
	text-decoration-color: var(--diff-ins-text-decoration-color);
}

.del, del, del p, del div, span.del, span.del * {
	background-color: var(--del-text-background-color);
	background: var(--del-text-background-color);
	color: var(--del-text-color);
	text-decoration: line-through;
	text-decoration-color: var(--del-text-decoration-color);
}

.diff-del, diff-del, diff-del p, diff-del div, span.diff-del, span.diff-del * {
	background-color: var(--diff-del-text-background-color);
	background: var(--diff-del-text-background-color);
	color: var(--diff-del-text-color);
	text-decoration: line-through double;
	text-decoration-color: var(--diff-del-text-decoration-color);
}

code.c-kw {
	font-weight: bold;
}

math, span.math {
	font-family: serif;
	font-style: italic;
}

ul {
	list-style-type: "— ";
}

.wording-clause {
	counter-reset: wording-paragraph;
}

.wording-clause-header {
	font-size: 115%;
	display: block;
	padding-bottom: 1em;
	clear: both;
}

.wording-clause-number {
	font-weight: bold;
}

.wording-clause-title {
	font-weight: bold;
	margin: 2em;
}

.wording-clause-stable-tag {
	float: right;
}

.wording-clause-section-title {
	font-size: 105%;
	font-weight: bold;
}

.clause-stable-tag {
	float: right;
}

.footnote-ref {
	font-size: 75%;
	vertical-align: super;
}

.footnote {
	font-size: 75%;
	vertical-align: bottom;
}

table.invis, table.printf-specifiers {
	padding: 15px;
	border: 0px;
	tr {
		border: 0px;
	}
	th {
		width: 13%;
		border: 0px;
	}
	th ~ th {
		width:initial;
		border: 0px;
	}
	td {
		border: 0px;
	}
}

table.basic {
	*, tbody {
		margin: auto;
		tr {
			border: 1px solid var(--foreground-point);
			margin: auto;
		}
		td {
			border: 1px solid var(--foreground-point);
			margin: auto;
		}
		th {
			border: 1px solid var(--foreground-point);
			margin: auto;
		}
	}
}

div.wording-section {
	counter-reset: wording-paragraph;
}

div.wording-numbered, div.wording-newnumbered {
	margin-left: 2.5em;
	margin-top: 1em;
	margin-bottom: 1em;
}

div.wording-numbered:before, div.wording-newnumbered:before {
	position: absolute;
	margin-left: -2.5em;
	display: block;
}

div.wording-numbered:before {
	content: counter(wording-paragraph);
	counter-increment: wording-paragraph;
	font-size: smaller;
}

div.wording-newnumbered:before {
	content: counter(wording-paragraph)"✨";
	counter-increment: wording-paragraph;
	font-size: smaller;
}

div.wording-numbered-list ul, div.wording-newnumbered ul {
	counter-reset: wording-list-item;
}

div.wording-numbered-list li, div.wording-newnumbered li {
	margin-left: 4em;
}

div.wording-numbered-list li:before, div.wording-newnumbered li:before {
	position: absolute;
	margin-left: -4em;
	display: block;
}

div.wording-numbered-list li:before {
	font-size: smaller;
	content: "(" counter(wording-paragraph) "." counter(wording-list-item) ")";
	counter-increment: wording-list-item;
}

div.wording-newnumbered-list li:before {
	content: "(✨" counter(wording-paragraph) "." counter(wording-list-item) ")";
	counter-increment: wording-list-item;
}

div.wording-numbered-0 {
	counter-reset: wording-paragraph -1;
}

div.wording-numbered-1 {
	counter-reset: wording-paragraph 0;
}

div.wording-numbered-2 {
	counter-reset: wording-paragraph 1;
}

div.wording-numbered-3 {
	counter-reset: wording-paragraph 2;
}

div.wording-numbered-4 {
	counter-reset: wording-paragraph 3;
}

div.wording-numbered-5 {
	counter-reset: wording-paragraph 4;
}

div.wording-numbered-6 {
	counter-reset: wording-paragraph 5;
}

div.wording-numbered-7 {
	counter-reset: wording-paragraph 6;
}

div.wording-numbered-8 {
	counter-reset: wording-paragraph 7;
}

div.wording-numbered-9 {
	counter-reset: wording-paragraph 8;
}

div.wording-numbered-10 {
	counter-reset: wording-paragraph 9;
}

div.wording-numbered-11 {
	counter-reset: wording-paragraph 10;
}

div.wording-numbered-12 {
	counter-reset: wording-paragraph 11;
}

div.wording-numbered-13 {
	counter-reset: wording-paragraph 12;
}

div.wording-numbered-14 {
	counter-reset: wording-paragraph 13;
}

div.wording-numbered-15 {
	counter-reset: wording-paragraph 14;
}

div.wording-numbered-16 {
	counter-reset: wording-paragraph 15;
}

div.wording-numbered-17 {
	counter-reset: wording-paragraph 16;
}

div.wording-numbered-18 {
	counter-reset: wording-paragraph 17;
}

div.wording-numbered-19 {
	counter-reset: wording-paragraph 18;
}

div.wording-numbered-20 {
	counter-reset: wording-paragraph 19;
}

div.wording-numbered-21 {
	counter-reset: wording-paragraph 20;
}

div.wording-numbered-22 {
	counter-reset: wording-paragraph 21;
}

div.wording-numbered-23 {
	counter-reset: wording-paragraph 22;
}

div.wording-numbered-24 {
	counter-reset: wording-paragraph 23;
}

div.wording-numbered-25 {
	counter-reset: wording-paragraph 24;
}

div.wording-numbered-25 {
	counter-reset: wording-paragraph 24;
}

div.wording-numbered-25 {
	counter-reset: wording-paragraph 24;
}

div.wording-numbered-25 {
	counter-reset: wording-paragraph 24;
}

div.wording-numbered-30 {
	counter-reset: wording-paragraph 29;
}

div.wording-numbered-31 {
	counter-reset: wording-paragraph 30;
}

div.wording-numbered-32 {
	counter-reset: wording-paragraph 31;
}

div.wording-numbered-33 {
	counter-reset: wording-paragraph 32;
}

div.wording-numbered-34 {
	counter-reset: wording-paragraph 33;
}

div.wording-numbered-35 {
	counter-reset: wording-paragraph 34;
}

div.wording-numbered-36 {
	counter-reset: wording-paragraph 35;
}

div.wording-numbered-37 {
	counter-reset: wording-paragraph 36;
}

div.wording-numbered-38 {
	counter-reset: wording-paragraph 37;
}

div.wording-numbered-39 {
	counter-reset: wording-paragraph 38;
}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">NXX91<br><code class="highlight"><c- n>printf</c-></code> string size specifiers</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Published Proposal, <time class="dt-updated" datetime="2025-08-29">2025-08-29</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Previous Revisions:
     <dd><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3626.htm">n3626 (r2)</a>, <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3591.htm">n3591 (r1)</a>, <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3555.htm">n3555 (r0)</a>
     <dt class="editor">Authors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:phdofthehouse@gmail.com">JeanHeyd Meneide</a>
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:shepherd@soasis.org">Shepherd (Shepherd's Oasis LLC)</a>
     <dt>Paper Source:
     <dd><a href="https://thephd.dev/_vendor/future_cxx/papers/C%20-%20printf%20string%20size%20specifiers.bs">GitHub</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/ThePhD/future_cxx/issues">GitHub</a>
     <dt>Project:
     <dd>ISO/IEC 9899 Programming Languages — C, ISO/IEC JTC1/SC22/WG14
     <dt>Proposal Category:
     <dd>Change Request, Feature Request
     <dt>Target:
     <dd>C2y
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#changelog"><span class="secno">1</span> <span class="content">Revision History</span></a>
     <ol class="toc">
      <li><a href="#changelog-r3"><span class="secno">1.1</span> <span class="content">Revision 3 - August 29<sup>th</sup>, 2025</span></a>
      <li><a href="#changelog-r2"><span class="secno">1.2</span> <span class="content">Revision 2 - July 6<sup>th</sup>, 2025</span></a>
      <li><a href="#changelog-r1"><span class="secno">1.3</span> <span class="content">Revision 1 - June 15<sup>th</sup>, 2025</span></a>
      <li><a href="#changelog-r0"><span class="secno">1.4</span> <span class="content">Revision 0 - May 27<sup>th</sup>, 2025</span></a>
     </ol>
    <li><a href="#motivation"><span class="secno">2</span> <span class="content">Introduction &amp; Motivation</span></a>
    <li>
     <a href="#design"><span class="secno">3</span> <span class="content">Design</span></a>
     <ol class="toc">
      <li><a href="#design-overflow"><span class="secno">3.1</span> <span class="content">"But <code class="highlight"><c- n>fprintf</c-></code> and friends only return <code class="highlight"><c- b>int</c-></code>, isn’t this a problem?"</span></a>
      <li><a href="#design-modifier.position"><span class="secno">3.2</span> <span class="content">Other Positions?</span></a>
      <li><a href="#design-why.u.star.fails"><span class="secno">3.3</span> <span class="content">Why <code class="highlight"><c- p>.</c-><c- n>u</c-><c- o>*</c-><c- n>s</c-></code> and <code class="highlight"><c- p>.</c-><c- n>zu</c-><c- o>*</c-><c- n>s</c-></code> Fails</span></a>
      <li>
       <a href="#design-alternatives"><span class="secno">3.4</span> <span class="content">Syntax Alternatives</span></a>
       <ol class="toc">
        <li><a href="#design-alternatives-caret"><span class="secno">3.4.1</span> <span class="content"><code class="highlight"><c- o>^</c-></code></span></a>
        <li><a href="#design-alternatives-double.asterisks"><span class="secno">3.4.2</span> <span class="content"><code class="highlight"><c- o>**</c-></code></span></a>
        <li><a href="#design-alternatives-plus"><span class="secno">3.4.3</span> <span class="content"><code class="highlight"><c- o>+</c-></code></span></a>
       </ol>
     </ol>
    <li><a href="#implementation"><span class="secno">4</span> <span class="content">Implementation Concerns</span></a>
    <li>
     <a href="#wording"><span class="secno">5</span> <span class="content">Wording</span></a>
     <ol class="toc">
      <li><a href="#wording-7.23.6.2"><span class="secno">5.1</span> <span class="content">Modify §7.23.6.2 "The <code class="highlight"><c- n>fprintf</c-></code> function"</span></a>
      <li><a href="#wording-7.24.6.2-fwprintf"><span class="secno">5.2</span> <span class="content">NOTE: IDENTICAL CHANGES TO <code class="highlight"><c- n>fwprintf</c-></code>!</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <div class="pagebreak"></div>
   <h2 class="heading settled" data-level="1" id="changelog"><span class="secno">1. </span><span class="content">Revision History</span><a class="self-link" href="#changelog"></a></h2>
   <h3 class="heading settled" data-level="1.1" id="changelog-r3"><span class="secno">1.1. </span><span class="content">Revision 3 - August 29<sup>th</sup>, 2025</span><a class="self-link" href="#changelog-r3"></a></h3>
   <ul>
    <li data-md>
     <p><code class="highlight"><c- n>BYTESIZE</c-></code>/<code class="highlight"><c- n>COUNT</c-></code> example in <a href="#design">§ 3 Design</a> was not using <code class="highlight"><c- o>*</c-><c- p>.</c-><c- n>s</c-></code> for all of the conversion specifiers: fix here (doesn’t affect wording).</p>
    <li data-md>
     <p>A few places were using <code class="highlight"><c- n>INTMAX</c-></code> in code when it should have been <code class="highlight"><c- n>INT_MAX</c-></code> (doesn’t affect wording).</p>
   </ul>
   <h3 class="heading settled" data-level="1.2" id="changelog-r2"><span class="secno">1.2. </span><span class="content">Revision 2 - July 6<sup>th</sup>, 2025</span><a class="self-link" href="#changelog-r2"></a></h3>
   <ul>
    <li data-md>
     <p>Add wording for making sure default argument promotion of arguments to not only conversion specifiers, but precision modifiers, are appropriately shuttled through.</p>
     <ul>
      <li data-md>
       <p>What happens after an explicit conversion to the internal value is not specified for the conversion specifier, and so it’s not precision’s problem either (unspoken UB).</p>
     </ul>
    <li data-md>
     <p>Fix bad plural "An asterisks" in wording.</p>
    <li data-md>
     <p>Additional typo fixes ("wether" -> "whether" in prose).</p>
   </ul>
   <h3 class="heading settled" data-level="1.3" id="changelog-r1"><span class="secno">1.3. </span><span class="content">Revision 1 - June 15<sup>th</sup>, 2025</span><a class="self-link" href="#changelog-r1"></a></h3>
   <ul>
    <li data-md>
     <p>Change from using <code class="highlight"><c- n>u</c-><c- o>*</c-></code> to <code class="highlight"><c- o>^</c-></code> to avoid ambiguities in parsing with <code class="highlight"><c- p>.</c-><c- n>u</c-><c- o>*</c-></code> as the modifier for unsigned integer precision modifiers for length. Previous discussion around <code class="highlight"><c- n>u</c-><c- o>*</c-></code> is moved to <a href="#design-why.u.star.fails">§ 3.3 Why .u*s and .zu*s Fails</a></p>
    <li data-md>
     <p>Alternative syntaxes <a href="#design-alternatives">§ 3.4 Syntax Alternatives</a> are discussed in the proposal. If any of them seem appealing, one of them can be voted on.</p>
   </ul>
   <h3 class="heading settled" data-level="1.4" id="changelog-r0"><span class="secno">1.4. </span><span class="content">Revision 0 - May 27<sup>th</sup>, 2025</span><a class="self-link" href="#changelog-r0"></a></h3>
   <ul>
    <li data-md>
     <p>Initial release. ✨</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="motivation"><span class="secno">2. </span><span class="content">Introduction &amp; Motivation</span><a class="self-link" href="#motivation"></a></h2>
   <p>It is impossible to use anything other than an <code class="highlight"><c- b>int</c-></code> for the <em>precision</em> (size) of a string specifier, whether it’s used with <code class="highlight"><c- o>%*</c-><c- p>.</c-><c- n>s</c-></code> or <code class="highlight"><c- o>%*</c-><c- p>.</c-><c- n>ls</c-></code>. Normally, this should not be a problem because <code class="highlight"><c- n>fprintf</c-></code> and many other <code class="highlight"><c- o>&lt;</c-><c- n>stdio</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> and other I/O functions in C only ever return <code class="highlight"><c- b>int</c-></code>. The problem is, most:</p>
   <ul>
    <li data-md>
     <p>containers</p>
    <li data-md>
     <p>strings</p>
    <li data-md>
     <p>size calculations</p>
    <li data-md>
     <p>stream offsets</p>
    <li data-md>
     <p>large buffer indices</p>
    <li data-md>
     <p><code class="highlight"><c- n>countof</c-><c- p>(...)</c-></code> and <code class="highlight"><c- k>sizeof</c-><c- p>(...)</c-></code> operations</p>
   </ul>
   <p>and so much more are not <code class="highlight"><c- b>int</c-></code>-typed. This results in a lot of excessive (and, in some ways, dangerous) casting for working with the I/O output functions. The simple, easy-integration fix is to simply allow precision with <code class="highlight"><c- p>.</c-><c- o>*</c-></code> to include a size modifier, such that while <code class="highlight"><c- o>%</c-><c- p>.</c-><c- o>*</c-><c- n>s</c-></code> is a string sized by an <code class="highlight"><c- b>int</c-></code>, <code class="highlight"><c- o>%</c-><c- p>.</c-><c- n>z</c-><c- o>*</c-><c- n>s</c-></code> represents a string sized by (the signed version of) a <code class="highlight"><c- b>size_t</c-></code>.</p>
   <p>It is also important for strings that are not null terminated, such as substring functionality and parsing/searching. Needing to make sure things are null terminated is a huge burden, and while the <code class="highlight"><c- b>int</c-></code> precision modifier helps, the constant casting hides potential overflow errors from high quality of implementation libraries and makes its use dubious.</p>
   <p>This proposal is to allow the typical integer length modifiers (<code class="highlight"><c- n>hh</c-></code>, <code class="highlight"><c- n>h</c-></code>, <code class="highlight"><c- n>l</c-></code>, <code class="highlight"><c- n>j</c-></code>, <code class="highlight"><c- n>z</c-></code>, <code class="highlight"><c- n>t</c-></code>, <code class="highlight"><c- n>wN</c-></code>, and <code class="highlight"><c- n>wfN</c-></code>) to be applied to the precision modifier when the precision modifier uses an asterisk (i.e., <code class="highlight"><c- p>.</c-><c- o>*</c-></code>). This proposal also adds a new precision argument modifier to replace <code class="highlight"><c- o>^</c-></code>, for indicating an unsigned type for a precision modifier. We choose this character due to not being burdened by existing implementation extensions and being able to scale to other locations (e.g., as the field width).</p>
   <h2 class="heading settled" data-level="3" id="design"><span class="secno">3. </span><span class="content">Design</span><a class="self-link" href="#design"></a></h2>
   <p>Given the following grammar (using the notation from POSIX, where things enclosed in <code class="highlight"><c- p>[</c-> <c- p>]</c-></code> are optional):</p>
   <dl>
    <dd data-md>
     <p><code class="highlight"><c- o>%</c-></code> <code class="highlight"><c- p>[</c-><c- n>argument$</c-><c- p>]</c-></code> <code class="highlight"><c- p>[</c-><c- n>flags</c-><c- p>]</c-></code> <code class="highlight"><c- p>[</c-><c- n>width</c-><c- p>]</c-></code> <code class="highlight"><c- p>[</c-> <c- p>.</c-> <c- n>precision</c-><c- p>]</c-></code> <code class="highlight"><c- p>[</c-><c- n>length</c-> <c- n>modifier</c-><c- p>]</c-></code> <code class="highlight"><c- n>conversion</c-><c- o>-</c-><c- n>specifier</c-></code></p>
   </dl>
   <p>(<code class="highlight"><c- p>[</c-><c- n>argument$</c-><c- p>]</c-></code> is a POSIX extension), then the logical place in the grammar to place the <code class="highlight"><c- n>length</c-> <c- n>modifier</c-></code> that applies specifically to the <code class="highlight"><c- n>precision</c-></code> argument is:</p>
   <dl>
    <dd data-md>
     <p><code class="highlight"><c- o>%</c-></code> <code class="highlight"><c- p>[</c-><c- n>argument$</c-><c- p>]</c-></code> <code class="highlight"><c- p>[</c-><c- n>flags</c-><c- p>]</c-></code> <code class="highlight"><c- p>[</c-><c- n>width</c-><c- p>]</c-></code> <code class="highlight"><c- p>[</c-> <c- p>.</c-> <c- p>[</c-><c- n>length</c-> <c- n>modifier</c-><c- p>]</c-> <c- n>precision</c-><c- p>]</c-></code> <code class="highlight"><c- p>[</c-><c- n>length</c-> <c- n>modifier</c-><c- p>]</c-></code> <code class="highlight"><c- n>conversion</c-><c- o>-</c-><c- n>specifier</c-></code></p>
   </dl>
   <p>This is the easiest place for this to be where it won’t be ambiguous. In particular, placing it in other locations could have it confused for a <code class="highlight"><c- n>conversion</c-><c- o>-</c-><c- n>specifier</c-></code>, and putting it up ahead of the <code class="highlight"><c- p>[</c-><c- n>flags</c-><c- p>]</c-></code>/<code class="highlight"><c- p>[</c-><c- n>argument$</c-><c- p>]</c-></code> but having it apply to the <code class="highlight"><c- p>.</c-><c- n>precision</c-></code> itself means that we would preclude having such a modifier on <code class="highlight"><c- p>[</c-><c- n>width</c-><c- p>]</c-></code> itself. (This paper does not propose this for <code class="highlight"><c- p>[</c-><c- n>width</c-><c- p>]</c-></code>, just for asterisk-based <code class="highlight"><c- p>.</c-><c- o>*</c-></code> and the newly-proposed <code class="highlight"><c- p>.</c-><c- o>^</c-></code> precisions).</p>
   <p>Therefore, this design slots it into the one place it can have no negative impact and would be unambiguous: after the <code class="highlight"><c- p>.</c-></code>, but before the <code class="highlight"><c- o>*</c-></code> of precision:</p>
<pre class="language-cpp highlight"><c- k>extern</c-> <c- b>size_t</c-> <c- n>big_honkin_number</c-><c- p>;</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- b>char</c-><c- o>*</c-> <c- n>str</c-> <c- o>=</c-> <c- n>malloc</c-><c- p>(</c-><c- n>big_honkin_number</c-><c- p>);</c->
  <c- c1>// ...</c->
  <c- b>int</c-> <c- n>result</c-> <c- o>=</c-> <c- n>printf</c-><c- p>(</c-><c- s>"%.z^s"</c-><c- p>,</c-> <c- n>big_honkin_number</c-><c- p>,</c-> <c- n>str</c-><c- p>);</c-> <c- c1>// no cast needed</c->
  <c- c1>// ...</c->
  <c- n>free</c-><c- p>(</c-><c- n>str</c-><c- p>);</c->
  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="3.1" id="design-overflow"><span class="secno">3.1. </span><span class="content">"But <code class="highlight"><c- n>fprintf</c-></code> and friends only return <code class="highlight"><c- b>int</c-></code>, isn’t this a problem?"</span><a class="self-link" href="#design-overflow"></a></h3>
   <p>Thankfully, this is actually less of a problem than was previously surmised. In fact, this proposal actively makes it <em>less</em> of a problem than the cast-based solution. Consider the existence of a <code class="highlight"><c- s>"/dev/null"</c-></code> file that can be written to and this program:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdio.h>
<c- cp>#include</c-> &lt;stdlib.h>
<c- cp>#include</c-> &lt;limits.h>
<c- cp>#include</c-> &lt;assert.h>

<c- b>int</c-> <c- nf>main</c-><c- p>()</c-> <c- p>{</c->
  <c- k>enum</c-> <c- p>{</c-> <c- n>COUNT</c-> <c- o>=</c-> <c- mi>10</c-><c- p>,</c-> <c- n>BYTESIZE</c-> <c- o>=</c-> <c- n>INT_MAX</c-> <c- o>/</c-> <c- n>COUNT</c-> <c- p>};</c->
  <c- b>char</c-><c- o>*</c-> <c- n>str</c-> <c- o>=</c-> <c- p>(</c-><c- b>char</c-><c- o>*</c-><c- p>)</c-><c- n>malloc</c-><c- p>(</c-><c- n>BYTESIZE</c-> <c- o>+</c-> <c- mi>1</c-><c- p>);</c->
  <c- k>for</c-> <c- p>(</c-><c- b>size_t</c-> <c- n>i</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c-> <c- n>i</c-> <c- o>&lt;</c-> <c- n>BYTESIZE</c-><c- p>;</c-> <c- o>++</c-><c- n>i</c-><c- p>)</c-> <c- p>{</c->
    <c- n>str</c-><c- p>[</c-><c- n>i</c-><c- p>]</c-> <c- o>=</c-> <c- sc>'a'</c-><c- p>;</c->
  <c- p>}</c->
  <c- n>str</c-><c- p>[</c-><c- n>BYTESIZE</c-><c- p>]</c->                          <c- o>=</c-> <c- sc>'\0'</c-><c- p>;</c->
  <c- b>FILE</c-><c- o>*</c-> <c- n>f</c->                                <c- o>=</c-> <c- n>fopen</c-><c- p>(</c-><c- s>"/dev/null"</c-><c- p>,</c-> <c- s>"w+"</c-><c- p>);</c->
  <c- p>[[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>int</c-> <c- n>write_value</c->       <c- o>=</c-> <c- n>fprintf</c-><c- p>(</c-><c- n>f</c-><c- p>,</c->
    <c- s>"%.*s"</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>);</c->
  <c- p>[[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>int</c-> <c- n>large_write_value</c-> <c- o>=</c-> <c- n>fprintf</c-><c- p>(</c-><c- n>f</c-><c- p>,</c->
    <c- s>"%*.s %*.s %*.s %*.s %*.s %*.s %*.s %*.s %*.s %.s %*.s"</c-><c- p>,</c->
    <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c->
    <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c->
    <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>);</c->
  <c- n>free</c-><c- p>(</c-><c- n>str</c-><c- p>);</c->
  <c- n>assert</c-><c- p>(</c-><c- n>write_value</c-> <c- o>==</c-> <c- n>BYTESIZE</c-><c- p>);</c-> <c- c1>// Well.</c->
  <c- n>assert</c-><c- p>(</c-><c- n>large_write_value</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>);</c-> <c- c1>// ... Okay.</c->
  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>For both <code class="highlight"><c- n>write_value</c-></code> and <code class="highlight"><c- n>large_write_value</c-></code>, the individual sizes of the strings are not what is ultimately the problem here. In fact, each of these is an <code class="highlight"><c- b>int</c-></code>-typed value (as per the rules for <code class="highlight"><c- k>enum</c-></code> constants and their values in both old and new C) are fully within the bounds. But, <code class="highlight"><c- n>large_write_value</c-></code> effectively creates a situation where, over the course of the 11 strings written, the last write is large enough that it triggers overflow.</p>
   <p>While there is no hard requirement in any standard that mandates rigorous checking, most implementations do check if the write will eventually overflow the <code class="highlight"><c- b>int</c-></code> and either return <code class="highlight"><c- mi>-1</c-></code> with an appropriate <code class="highlight"><c- n>errno</c-></code> value or some other negative value. There is no constraint or recommended practice to check for overflow, but glibc, musl-libc, and many more can and do check for this case and report it. We see here that even with purely <code class="highlight"><c- b>int</c-></code>-typed writes, we get the same error to happen on these platforms: all of them return a negative integer value.</p>
   <p><strong>What this means, ultimately, is that it is not the type of the length that matters more, but the actual value!</strong></p>
   <p>This proposal cannot change the return value’s type for <code class="highlight"><c- n>printf</c-></code> or <code class="highlight"><c- n>fprintf</c-></code> or any of its family of functions (as that is an ABI break), but allowing a <code class="highlight"><c- b>size_t</c-></code> type for the length modifier is actually an improvement to security. Since most implementations are doing value/overflow checking here, being able to pass in a (too-large) <code class="highlight"><c- b>size_t</c-></code> directly and letting the overflow checks inherit in most implementations catch it and return a negative number. For example, observe the following (too large) string being written, but written in the "typical" way that string sizes get passed to formatted I/O functions like <code class="highlight"><c- n>printf</c-></code>:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdio.h>
<c- cp>#include</c-> &lt;stdlib.h>
<c- cp>#include</c-> &lt;limits.h>
<c- cp>#include</c-> &lt;assert.h>

<c- b>int</c-> <c- nf>main</c-><c- p>()</c-> <c- p>{</c->
  <c- k>const</c-> <c- b>size_t</c-> <c- n>BYTESIZE</c-> <c- o>=</c-> <c- p>((</c-><c- b>size_t</c-><c- p>)</c-><c- n>INT_MAX</c-><c- p>)</c-> <c- o>+</c-> <c- mi>1</c-><c- p>;</c-> 
  <c- b>char</c-><c- o>*</c-> <c- n>str</c-> <c- o>=</c-> <c- p>(</c-><c- b>char</c-><c- o>*</c-><c- p>)</c-><c- n>malloc</c-><c- p>(</c-><c- n>BYTESIZE</c-> <c- o>+</c-> <c- mi>1</c-><c- p>);</c->
  <c- k>for</c-> <c- p>(</c-><c- b>size_t</c-> <c- n>i</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c-> <c- n>i</c-> <c- o>&lt;</c-> <c- n>BYTESIZE</c-><c- p>;</c-> <c- o>++</c-><c- n>i</c-><c- p>)</c-> <c- p>{</c->
    <c- n>str</c-><c- p>[</c-><c- n>i</c-><c- p>]</c-> <c- o>=</c-> <c- sc>'a'</c-><c- p>;</c->
  <c- p>}</c->
  <c- n>str</c-><c- p>[</c-><c- n>BYTESIZE</c-><c- p>]</c->                    <c- o>=</c-> <c- sc>'\0'</c-><c- p>;</c->
  <c- b>FILE</c-><c- o>*</c-> <c- n>f</c->                          <c- o>=</c-> <c- n>fopen</c-><c- p>(</c-><c- s>"/dev/null"</c-><c- p>,</c-> <c- s>"w+"</c-><c- p>);</c->
  <c- p>[[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>int</c-> <c- n>write_value</c-> <c- o>=</c-> <c- n>fprintf</c-><c- p>(</c-><c- n>f</c-><c- p>,</c-> <c- s>"%.*s"</c-><c- p>,</c-> <c- p>(</c-><c- b>int</c-><c- p>)</c-><c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>);</c->
  <c- n>free</c-><c- p>(</c-><c- n>str</c-><c- p>);</c->
  <c- n>assert</c-><c- p>(</c-><c- n>write_value</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>);</c-> <c- c1>// might not trigger, actually!</c->
  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>This is an error. But, we will never see it as an error anymore: the explicit cast inserted into the code for the express purpose of matching the type means that the error is now <em>hidden</em> from us. Compilers cannot warn on it (except using tracing analysis which flags <code class="highlight"><c- n>BYTESIZE</c-></code> as being truncated by the cast) without generating excessive false positives, as casting <em>is</em> seen as the way to get around this problem and intentional on the part of the user. Thus, by allowing the <code class="highlight"><c- b>size_t</c-></code> value directly. We can avoid hard-to-detect truncation errors that happen from potential <code class="highlight"><c- p>(</c-><c- b>int</c-><c- p>)</c-><c- n>BYTESIZE</c-></code> code. Rather than (erroneously) casting and truncating the value of a <code class="highlight"><c- b>size_t</c-></code> into an <code class="highlight"><c- b>int</c-></code> type or similar, it will instead be actually checked by <code class="highlight"><c- n>fprintf</c-></code>, <code class="highlight"><c- n>wfprintf</c-></code>, and similar.</p>
   <p>This is a notably improvement because <code class="highlight"><c- p>(</c-><c- b>int</c-><c- p>)</c-><c- n>some_too_big_size</c-></code> is seen as an <strong>explicit</strong> choice on the part of the developer, made to silence warnings or other diagnostics. Casting is too big of a hammer and too large of a club for this feature set; supplying the size without truncation directly to the function allows for existing quality of implementation to catch this error:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdio.h>
<c- cp>#include</c-> &lt;stdlib.h>
<c- cp>#include</c-> &lt;limits.h>
<c- cp>#include</c-> &lt;assert.h>

<c- b>int</c-> <c- nf>main</c-><c- p>()</c-> <c- p>{</c->
  <c- k>const</c-> <c- b>size_t</c-> <c- n>BYTESIZE</c-> <c- o>=</c-> <c- p>((</c-><c- b>size_t</c-><c- p>)</c-><c- n>INT_MAX</c-><c- p>)</c-> <c- o>+</c-> <c- mi>1</c-><c- p>;</c-> 
  <c- b>char</c-><c- o>*</c-> <c- n>str</c-> <c- o>=</c-> <c- p>(</c-><c- b>char</c-><c- o>*</c-><c- p>)</c-><c- n>malloc</c-><c- p>(</c-><c- n>BYTESIZE</c-> <c- o>+</c-> <c- mi>1</c-><c- p>);</c->
  <c- k>for</c-> <c- p>(</c-><c- b>size_t</c-> <c- n>i</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c-> <c- n>i</c-> <c- o>&lt;</c-> <c- n>BYTESIZE</c-><c- p>;</c-> <c- o>++</c-><c- n>i</c-><c- p>)</c-> <c- p>{</c->
    <c- n>str</c-><c- p>[</c-><c- n>i</c-><c- p>]</c-> <c- o>=</c-> <c- sc>'a'</c-><c- p>;</c->
  <c- p>}</c->
  <c- n>str</c-><c- p>[</c-><c- n>BYTESIZE</c-><c- p>]</c->                    <c- o>=</c-> <c- sc>'\0'</c-><c- p>;</c->
  <c- b>FILE</c-><c- o>*</c-> <c- n>f</c->                          <c- o>=</c-> <c- n>fopen</c-><c- p>(</c-><c- s>"/dev/null"</c-><c- p>,</c-> <c- s>"w+"</c-><c- p>);</c->
  <c- p>[[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>int</c-> <c- n>write_value</c-> <c- o>=</c-> <c- n>fprintf</c-><c- p>(</c-><c- n>f</c-><c- p>,</c-> <c- s>"%.z^s"</c-><c- p>,</c-> <c- n>BYTESIZE</c-><c- p>,</c-> <c- n>str</c-><c- p>);</c->
  <c- n>free</c-><c- p>(</c-><c- n>str</c-><c- p>);</c->
  <c- n>assert</c-><c- p>(</c-><c- n>write_value</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>);</c-> <c- c1>// triggers on high quality-of-implementation again!!</c->
  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>The paper aims to allow high quality library implementations to catch this class of errors and let them error on it, while making things less cumbersome for the user. This forms the basis of this proposal.</p>
   <h3 class="heading settled" data-level="3.2" id="design-modifier.position"><span class="secno">3.2. </span><span class="content">Other Positions?</span><a class="self-link" href="#design-modifier.position"></a></h3>
   <p>There were a couple of other choices for this insofar as where to put the "length modifier" type. Unfortunately, for all of these:</p>
   <ol>
    <li data-md>
     <p><code class="highlight"><c- s>"%z.^s"</c-></code></p>
    <li data-md>
     <p><code class="highlight"><c- s>"%.^zs"</c-></code></p>
   </ol>
   <p>There can be minor conflicts in the grammar or ambiguity of application. For (1), it’s unclear whether that is meant to apply to a potential <code class="highlight"><c- p>[</c-><c- n>width</c-><c- p>]</c-></code> argument or the desired <code class="highlight"><c- p>[.</c-><c- n>precision</c-><c- p>]</c-></code> argument (which determines whether it should be a formatting error or not). This could block future improvements or modifications to the <code class="highlight"><c- n>printf</c-></code> syntax that would allow for different types for the <code class="highlight"><c- p>[</c-><c- n>width</c-><c- p>]</c-></code> argument. It is not being proposed in this paper, however; this paper is concerned mostly with enabling the use case of typical string and substring data.</p>
   <p>For (2), the problem is that it’s unclear when parsing certain things, such as <code class="highlight"><c- s>"%.*zu"</c-></code>, whether it’s a modifier on the size for the <code class="highlight"><c- p>.</c-><c- o>*</c-></code> or it’s the traditional, current meaning as a precision modifier of <code class="highlight"><c- b>int</c-></code> type for a <code class="highlight"><c- n>zu</c-></code> type (e.g., <code class="highlight"><c- b>int</c-></code>-specified padding on a <code class="highlight"><c- b>size_t</c-></code> argument.) Given the <a href="#design">grammar</a>, having it appear before the <code class="highlight"><c- o>*</c-></code> is both the most grammatically safe and implementable choice (without disambiguation and backwards-compatibility break rules). It also appears before what it modifies -- the <code class="highlight"><c- o>*</c-></code> -- which allows a future where some other position can be chosen to modify a potential <code class="highlight"><c- p>[</c-><c- n>width</c-><c- p>]</c-></code> modifier or other <code class="highlight"><c- n>printf</c-></code> extensions.</p>
   <h3 class="heading settled" data-level="3.3" id="design-why.u.star.fails"><span class="secno">3.3. </span><span class="content">Why <code class="highlight"><c- p>.</c-><c- n>u</c-><c- o>*</c-><c- n>s</c-></code> and <code class="highlight"><c- p>.</c-><c- n>zu</c-><c- o>*</c-><c- n>s</c-></code> Fails</span><a class="self-link" href="#design-why.u.star.fails"></a></h3>
   <p>This proposal previously used <code class="highlight"><c- s>"%.zu*s"</c-></code> to specify a <code class="highlight"><c- k>const</c-> <c- b>char</c-><c- o>*</c-></code> string with a <code class="highlight"><c- b>size_t</c-></code> length, or <code class="highlight"><c- s>"%.u*s"</c-></code> for a <code class="highlight"><c- k>const</c-> <c- b>char</c-><c- o>*</c-></code> string with an <code class="highlight"><c- b>unsigned</c-> <c- b>int</c-></code> length. The problem is that, while mnemonically <code class="highlight"><c- p>.</c-><c- n>u</c-><c- o>*</c-></code> was really good for "unsigned numeric precision argument", has an immediately problem: the <code class="highlight"><c- n>u</c-></code>. <code class="highlight"><c- s>"%.u*s</c-></code> can be parsed as BOTH:</p>
   <ul>
    <li data-md>
     <p><code class="highlight"><c- s>"%.u"</c-></code> formatted integer with <code class="highlight"><c- o>*</c-><c- n>s</c-></code> text;</p>
    <li data-md>
     <p>or, <code class="highlight"><c- s>"%.u*s"</c-></code> formatted <code class="highlight"><c- k>const</c-> <c- b>char</c-><c- o>*</c-></code> string with <code class="highlight"><c- b>unsigned</c-> <c- b>int</c-></code> length.</p>
   </ul>
   <p>This is a problem due to <code class="highlight"><c- n>u</c-></code> not being a <em>modifier</em> but a <em>conversion specifier</em> in C. Design-wise, if <code class="highlight"><c- n>u</c-></code> simply modified <code class="highlight"><c- n>x</c-></code> or <code class="highlight"><c- n>d</c-></code> to make it go from being a "signed" value to an "unsigned" value, this could never happen. But C did not go down that path: instead, <code class="highlight"><c- b>unsigned</c-></code> anything is treated as a wholly separate conversion specifier and thus as a terminating sequence for a simple grammar. So, this proposal chooses <code class="highlight"><c- o>^</c-></code> because it is less characters than <code class="highlight"><c- o>**</c-></code> and more aesthetically pleasing than <code class="highlight"><c- o>**</c-></code>. No known extensions seem to be using <code class="highlight"><c- o>^</c-></code> as a character either, so this clears any ambiguity while leaving the character <code class="highlight"><c- o>^</c-></code> in a deliberate location that, for implementations which are thorough in their checking, can produce formatting violations for it.</p>
   <h3 class="heading settled" data-level="3.4" id="design-alternatives"><span class="secno">3.4. </span><span class="content">Syntax Alternatives</span><a class="self-link" href="#design-alternatives"></a></h3>
   <p>The alternatives here are (potentially) viable choices that can be chosen instead. Briefly, the pros and cons of such characters are discussed. If they are popular, we plan to poll WG14 about them.</p>
   <ul>
    <li data-md>
     <p><code class="highlight"><c- s>"%.z**s"</c-></code>;</p>
    <li data-md>
     <p><code class="highlight"><c- s>"%.z^s"</c-></code>;</p>
    <li data-md>
     <p>or, <code class="highlight"><c- s>"%.z+s"</c-></code>.</p>
   </ul>
   <h4 class="heading settled" data-level="3.4.1" id="design-alternatives-caret"><span class="secno">3.4.1. </span><span class="content"><code class="highlight"><c- o>^</c-></code></span><a class="self-link" href="#design-alternatives-caret"></a></h4>
   <p>The caret is what this proposal uses. It’s a single character so it doesn’t require any changes to a potential lookahead buffer for handling this sort of thing like <code class="highlight"><c- o>**</c-></code> might do by itself. It’s also aesthetically pleasing, at least in the author’s opinion (or, rather, it’s the last ugly). It can be used in the field width position as well without creating ambiguities, which leaves this as something that can be used in the future if more creative uses of the field width modifiers is considered.</p>
   <p>The negative is that its the new character. While there’s currently no reported collision with existing practice and extensions, new characters means there’s less room to maneuver in the future.</p>
   <h4 class="heading settled" data-level="3.4.2" id="design-alternatives-double.asterisks"><span class="secno">3.4.2. </span><span class="content"><code class="highlight"><c- o>**</c-></code></span><a class="self-link" href="#design-alternatives-double.asterisks"></a></h4>
   <p>The double asterisk is a potential choice. It does not use a new character but instead doubles up the current one in the current position. It can be used as a field width as well. It’s novel and does not provide for ambiguities. As an already-used character, it does not provide any chance to clash with existing practice or extensions.</p>
   <p>The negative is that its a double-character and (in the author’s opinion) a bit ugly to look at.</p>
   <h4 class="heading settled" data-level="3.4.3" id="design-alternatives-plus"><span class="secno">3.4.3. </span><span class="content"><code class="highlight"><c- o>+</c-></code></span><a class="self-link" href="#design-alternatives-plus"></a></h4>
   <p>The plus is a potential choice. It’s a single character so it doesn’t require any changes to a potential lookahead buffer for handling this sort of thing like <code class="highlight"><c- o>**</c-></code> might do by itself. It’s aesthetically pleasing and somewhat resembles the idea of an "unsigned" (positive) value. As an already-used character, it does not provide any chance to clash with existing practice or extensions.</p>
   <p>The negative is that it is very questionable whether or not this can be a field width, as <code class="highlight"><c- o>%+</c-></code> is already a valid introductory sequence and is ambiguous on whether that is the old <code class="highlight"><c- o>+</c-></code> for adding a sign to an integer or a new <code class="highlight"><c- o>+</c-></code> for allowing an integer of a different (unsigned) type to be the field width. This means that the concept of a "length modifier" for the precision cannot be extended to the field width in the future without contorting the concept or once again creating new rules for that specific situation.</p>
   <h2 class="heading settled" data-level="4" id="implementation"><span class="secno">4. </span><span class="content">Implementation Concerns</span><a class="self-link" href="#implementation"></a></h2>
   <p>A few developers at a large C standard library vendor stated that they could not implement this for fear of backwards compatibility breaks for their existing users. This goes against what is the understanding of the engineering from the authors of this paper. A standard way to solve the problem with be under <a href="https://thephd.dev/_vendor/future_cxx/papers/C%20-%20Transparent%20Aliases.html">Transparent Aliases</a>, which has not yet been standard. But, as the Transparent Aliases paper states, there are several dozen ways to solve this problem in a way where old, already-compiled code is backwards-compatible, including a way that works across almost all target platforms (and with a macro <strong>absolutely</strong> does work across all target platforms).</p>
   <p>Assembly labels -- <code class="highlight"><c- k>asm</c-></code> labels -- provide a way to add new runtime and compile-time changes to existing functions both inside and outside the standard while maintaining traditional behavior. Here is a short, simple, compilable example for having 2 different <code class="highlight"><c- n>fprintf</c-></code> functions with differing behaviors: one which caters to an older already-compiled programs under the exact binary name <code class="highlight"><c- n>_fprintf</c-></code> that old binaries expect; and, one which uses the binary name <code class="highlight"><c- n>_fprintf_v2</c-></code>. A macro is used to determine which one the C source code identifier <code class="highlight"><c- n>fprintf</c-></code> connects to.</p>
   <p><code class="highlight"><c- n>fprintf</c-><c- p>.</c-><c- n>h</c-></code></p>
<pre class="language-cpp highlight"><c- k>typedef</c-> <c- k>struct</c-> <c- nc>FILE</c-> <c- b>FILE</c-><c- p>;</c->

<c- cp>#if _USE_OLD_FPRINTF</c->
<c- k>extern</c-> <c- n>__attribute__</c-> <c- p>((</c-><c- n>visibility</c-> <c- p>(</c-><c- s>"visible"</c-><c- p>)))</c->
<c- b>int</c-> <c- n>fprintf</c-><c- p>(</c-><c- b>FILE</c-> <c- o>*</c-> <c- kr>restrict</c-> <c- n>__stream</c-><c- p>,</c-> <c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>__format</c-><c- p>,</c-> <c- p>...)</c-> <c- kr>__asm</c-><c- p>(</c-><c- s>"_fprintf"</c-><c- p>);</c->
<c- cp>#else</c->
<c- k>extern</c-> <c- n>__attribute__</c-> <c- p>((</c-><c- n>visibility</c-> <c- p>(</c-><c- s>"visible"</c-><c- p>)))</c->
<c- b>int</c-> <c- n>fprintf</c-><c- p>(</c-><c- b>FILE</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>__stream</c-><c- p>,</c-> <c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>__format</c-><c- p>,</c-> <c- p>...)</c-> <c- kr>__asm</c-><c- p>(</c-><c- s>"_fprintf_v2"</c-><c- p>);</c->
<c- cp>#endif</c->
</pre>
   <p><code class="highlight"><c- n>fprintf_original</c-><c- p>.</c-><c- n>c</c-></code></p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;fprintf.h>

<c- k>extern</c-> <c- n>__attribute__</c-> <c- p>((</c-><c- n>visibility</c-> <c- p>(</c-><c- s>"visible"</c-><c- p>)))</c->
<c- b>int</c-> <c- n>fprintf</c-><c- p>(</c-><c- b>FILE</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>__stream</c-><c- p>,</c-> <c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>__format</c-><c- p>,</c-> <c- p>...)</c-> <c- p>{</c->
  <c- d>/* COMPATIBILITY implementation here... */</c->
  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p><code class="highlight"><c- n>fprintf_v2</c-><c- p>.</c-><c- n>c</c-></code></p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;fprintf.h>

<c- k>extern</c-> <c- n>__attribute__</c-> <c- p>((</c-><c- n>visibility</c-> <c- p>(</c-><c- s>"visible"</c-><c- p>)))</c->
<c- b>int</c-> <c- n>fprintf_v2</c-><c- p>(</c-><c- b>FILE</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>__stream</c-><c- p>,</c-> <c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>__format</c-><c- p>,</c-> <c- p>...)</c-> <c- p>{</c->
  <c- d>/* BREAKING implementation here... */</c->
  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>All of these are compiled into the same shared object / dynamic link library, and it solves the problem. Therefore, we do not consider this an implementation impediment, especially since the only platforms which will have this problem are larger platforms that attempt to maintain backwards compatibility and can afford the extra function definition for impactful changes.</p>
   <h2 class="heading settled" data-level="5" id="wording"><span class="secno">5. </span><span class="content">Wording</span><a class="self-link" href="#wording"></a></h2>
   <p>The following wording is against the latest draft of the C standard.</p>
   <h3 class="heading settled" data-level="5.1" id="wording-7.23.6.2"><span class="secno">5.1. </span><span class="content">Modify §7.23.6.2 "The <code class="highlight"><c- n>fprintf</c-></code> function"</span><a class="self-link" href="#wording-7.23.6.2"></a></h3>
   <blockquote>
    <div class="wording-clause-header"> <span class="wording-clause-number">7.24.6.2</span><span class="wording-clause-title">The <code class="highlight"><c- n>fprintf</c-></code> function</span> </div>
    <div class="wording-section">
     <div class="wording-clause-section-title"> Synopsis </div>
     <div class="wording-numbered">
<pre class="language-c highlight"><c- cp>#include</c-> &lt;stdio.h>
<c- b>int</c-> <c- nf>fprintf</c-><c- p>(</c-><c- b>FILE</c-> <c- o>*</c-> <c- kr>restrict</c-> <c- n>stream</c-><c- p>,</c-> <c- k>const</c-> <c- b>char</c-> <c- o>*</c-> <c- kr>restrict</c-> <c- n>format</c-><c- p>,</c-> <c- p>...);</c->
</pre>
     </div>
     <div class="wording-clause-section-title"> Description </div>
     <div class="wording-numbered">
       ... 
      <p>...</p>
     </div>
     <div class="wording-numbered-4 wording-numbered">
      <p>Each conversion specification is introduced by the character %. After the %, the following appear in sequence:</p>
      <ul>
       <li data-md>
        <p>...</p>
       <li data-md>
        <p>
         An optional <em>precision</em> that gives the minimum number of digits to appear for the <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, and <code class="highlight"><c- n>X</c-></code> conversions, the number of digits to appear after the decimal-point character for <code class="highlight"><c- n>a</c-></code>, <code class="highlight"><c- n>A</c-></code>, <code class="highlight"><c- n>e</c-></code>, <code class="highlight"><c- n>E</c-></code>, <code class="highlight"><c- n>f</c-></code>, and <code class="highlight"><c- n>F</c-></code> conversions, the maximum number of significant digits for the <code class="highlight"><c- n>g</c-></code> and <code class="highlight"><c- n>G</c-></code> conversions, or the maximum number of bytes to be written for <code class="highlight"><c- n>s</c-></code> conversions. The precision takes the form of a period (<code class="highlight"><c- p>.</c-></code>)
         <ins>optionally</ins>
          followed 
         <del>either by an asterisk * (described later) or by an optional nonnegative decimal integer;</del>
         <ins> by one of:</ins>
        </p>
        <ul>
         <li data-md>
          <ins>an optional length modifier followed by an asterisk <code class="highlight"><c- o>*</c-></code> (described later);</ins>
         <li data-md>
          <ins>an optional length modifier followed by a caret<code class="highlight"><c- o>^</c-></code> (described later);</ins>
         <li data-md>
          <ins>or, a nonnegative decimal integer.</ins>
        </ul>
      </ul>
      <dl>
       <dd data-md>
        <p>If only the period is specified, the precision is taken as zero. If a precision appears with any other conversion specifier, the behavior is undefined.</p>
      </dl>
      <ul>
       <li data-md>
        <p>...</p>
      </ul>
     </div>
     <div class="wording-numbered-5 wording-numbered">
      <p>
       As noted previously, a field width
       <del>, or precision, or both,</del>
        may be indicated with an asterisk.
       <ins> A precision may be indicated with an asterisk or a caret.</ins>
       <del>In this case</del>
       <ins>An asterisk means</ins>
        an <code class="highlight"><c- b>int</c-></code> argument supplies the field width
       <del> or precision</del>
       . 
       <ins>If the precision is an asterisk, an <code class="highlight"><c- b>int</c-></code> argument or an argument of signed integer type (indicated by an optional length modifier) supplies the precision. If the precision is a caret, an <code class="highlight"><c- b>unsigned</c-> <c- b>int</c-></code> argument or an argument of unsigned integer type (indicated by an optional length modifier) supplies the precision.</ins>
        The arguments specifying field width, or precision, or both, shall appear (in that order) before the argument (if any) to be converted. A negative field width argument is taken as a <code class="highlight"><c- o>-</c-></code> flag followed by a positive field width. A negative precision argument is taken as if the precision were omitted.
      </p>
     </div>
     <div class="wording-numbered">
      <p>...</p>
     </div>
     <div class="wording-numbered">
      <p>The length modifiers and their meanings are:</p>
      <table class="printf-specifiers">
       <tbody>
        <tr>
         <th>
         <th>
        <tr>
         <td> <code class="highlight"><c- n>hh</c-></code> 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to a signed char or unsigned char argument (the argument will have been promoted according to the integer promotions, but its value shall be converted to <code class="highlight"><c- b>signed</c-> <c- b>char</c-></code> or <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-></code> before printing); or that a following <code class="highlight"><c- n>n</c-></code> conversion specifier applies to a pointer to a <code class="highlight"><c- b>signed</c-> <c- b>char</c-></code> argument. 
          <ins>If it is followed by an asterisk, then it specifies that the corresponding argument is of type <code class="highlight"><c- b>signed</c-> <c- b>char</c-></code>. If it is followed by a caret, it specifies that the corresponding argument is of type <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-></code>.</ins>
        <tr>
         <td> <code class="highlight"><c- n>h</c-></code> 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to a <code class="highlight"><c- b>short</c-> <c- b>int</c-></code> or <code class="highlight"><c- b>unsigned</c-> <c- b>short</c-> <c- b>int</c-></code> argument (the argument will have been promoted according to the integer promotions, but its value shall be converted to <code class="highlight"><c- b>short</c-> <c- b>int</c-></code> or <code class="highlight"><c- b>unsigned</c-> <c- b>short</c-> <c- b>int</c-></code> before printing); or that a following <code class="highlight"><c- n>n</c-></code> conversion specifier applies to a pointer to a <code class="highlight"><c- b>short</c-> <c- b>int</c-></code> argument. 
          <ins>If it is followed by an asterisk then it specifies that the corresponding argument is of type <code class="highlight"><c- b>short</c-> <c- b>int</c-></code>. If it is followed by a caret, it specifies that the corresponding argument is of type <code class="highlight"><c- b>unsigned</c-> <c- b>short</c-> <c- b>int</c-></code>.</ins>
        <tr>
         <td> <code class="highlight"><c- n>l</c-></code> (ell) 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to a <code class="highlight"><c- b>long</c-> <c- b>int</c-></code> or <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>int</c-></code> argument; that a following n conversion specifier applies to a pointer to a <code class="highlight"><c- b>long</c-> <c- b>int</c-></code> argument; that a following <code class="highlight"><c- n>c</c-></code> conversion specifier applies to a <code class="highlight"><c- b>wint_t</c-></code> argument; that a following s conversion specifier applies to a pointer to a <code class="highlight"><c- b>wchar_t</c-></code> argument; or has no effect on a following <code class="highlight"><c- n>a</c-></code>, <code class="highlight"><c- n>A</c-></code>, <code class="highlight"><c- n>e</c-></code>, <code class="highlight"><c- n>E</c-><c- p>,</c-></code> <code class="highlight"><c- n>f</c-></code>, <code class="highlight"><c- n>F</c-></code>, <code class="highlight"><c- n>g</c-></code>, or <code class="highlight"><c- n>G</c-></code> conversion specifier. 
          <ins>If it is followed by an asterisk then it specifies that the corresponding argument is of type <code class="highlight"><c- b>long</c-> <c- b>int</c-></code>. If it is followed by a caret, it specifies that the corresponding argument is of type <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>int</c-></code>.</ins>
        <tr>
         <td> <code class="highlight"><c- n>ll</c-></code> (ell-ell) 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to a <code class="highlight"><c- b>long</c-> <c- b>long</c-> <c- b>int</c-></code> or <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- b>int</c-></code> argument; or that a following <code class="highlight"><c- n>n</c-></code> conversion specifier applies to a pointer to a <code class="highlight"><c- b>long</c-> <c- b>long</c-> <c- b>int</c-></code> argument. 
          <ins>If it is followed by an asterisk then it specifies that the corresponding argument is of type <code class="highlight"><c- b>long</c-> <c- b>long</c-> <c- b>int</c-></code>. If it is followed by a caret, it specifies that the corresponding argument is of type <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- b>int</c-></code>.</ins>
        <tr>
         <td> <code class="highlight"><c- n>j</c-></code> 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to an <code class="highlight"><c- b>intmax_t</c-></code> or <code class="highlight"><c- b>uintmax_t</c-></code> argument; or that a following n conversion specifier applies to a pointer to an <code class="highlight"><c- b>intmax_t</c-></code> argument. 
          <ins>If it is followed by an asterisk then it specifies that the corresponding argument is of type <code class="highlight"><c- b>intmax_t</c-></code>. If it is followed by a caret, it specifies that the corresponding argument is of type <code class="highlight"><c- b>uintmax_t</c-></code>.</ins>
        <tr>
         <td> <code class="highlight"><c- n>z</c-></code> 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to a size_t or the corresponding signed integer type argument; or that a following <code class="highlight"><c- n>n</c-></code> conversion specifier applies to a pointer to a signed integer type corresponding to <code class="highlight"><c- b>size_t</c-></code> argument. 
          <ins>If it is followed by an asterisk then it specifies that the corresponding argument is of the corresponding signed type of <code class="highlight"><c- b>size_t</c-></code>. If it is followed by a caret, then it specifies that the corresponding argument is of type <code class="highlight"><c- b>size_t</c-></code>.</ins>
        <tr>
         <td> <code class="highlight"><c- n>t</c-></code> 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to a <code class="highlight"><c- b>ptrdiff_t</c-></code> or the corresponding unsigned integer type argument; or that a following <code class="highlight"><c- n>n</c-></code> conversion specifier applies to a pointer to a <code class="highlight"><c- b>ptrdiff_t</c-></code> argument. 
          <ins>If it is followed by an asterisk then it specifies that the corresponding argument is of type <code class="highlight"><c- b>ptrdiff_t</c-></code>. If it is followed by a caret, then it specifies that the corresponding argument is of the corresponding unsigned type of <code class="highlight"><c- b>ptrdiff_t</c-></code>.</ins>
        <tr>
         <td> <code class="highlight"><c- n>wN</c-></code> 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to an integer argument with a specific width where <code class="highlight"><c- n>N</c-></code> is a positive decimal integer with no leading zeros (the argument will have been promoted according to the integer promotions, but its value shall be converted to the unpromoted type); or that a following <code class="highlight"><c- n>n</c-></code> conversion specifier applies to a pointer to an integer type argument with a width of <code class="highlight"><c- n>N</c-></code> bits. 
          <ins>If it is followed by an asterisk then it specifies that the corresponding argument is of <code class="highlight"><c- n>N</c-></code>-bit integer type. If it is followed by a caret, it specifies that the corresponding argument is of <code class="highlight"><c- n>N</c-></code>-bit unsigned integer type.</ins>
           All minimum-width integer types (7.22.2.3) and exact-width integer types (7.22.2.2) defined in the header <code class="highlight"><c- o>&lt;</c-><c- n>stdint</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> shall be supported. Other supported values of N are implementation-defined. 
        <tr>
         <td> <code class="highlight"><c- n>wfN</c-></code> 
         <td>
           Specifies that a following <code class="highlight"><c- n>b</c-></code>, <code class="highlight"><c- n>B</c-></code>, <code class="highlight"><c- n>d</c-></code>, <code class="highlight"><c- n>i</c-></code>, <code class="highlight"><c- n>o</c-></code>, <code class="highlight"><c- n>u</c-></code>, <code class="highlight"><c- n>x</c-></code>, or <code class="highlight"><c- n>X</c-></code> conversion specifier applies to a fastest minimum-width integer argument with a specific width where <code class="highlight"><c- n>N</c-></code> is a positive decimal integer with no leading zeros (the argument will have been promoted according to the integer promotions, but its value shall be converted to the unpromoted type); or that a following <code class="highlight"><c- n>n</c-></code> conversion specifier applies to a pointer to a fastest minimum-width integer type argument with a width of <code class="highlight"><c- n>N</c-></code> bits. 
          <ins>If it is followed by an asterisk then it specifies that the corresponding argument is of <code class="highlight"><c- n>N</c-></code>-bit fastest minimum-width integer type. If it is followed by a caret, it specifies that the corresponding argument is of <code class="highlight"><c- n>N</c-></code>-bit fastest minimum-width unsigned integer type.</ins>
           All fastest minimum-width integer types (7.22.2.4) defined in the header <code class="highlight"><c- o>&lt;</c-><c- n>stdint</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> shall be supported. Other supported values of N are implementation-defined. 
      </table>
      <p>If a length modifier appears with any conversion specifier other than as specified previously, the behavior is undefined.</p>
     </div>
     <div class="wording-numbered">
      <p>...</p>
     </div>
     <div class="wording-numbered">
      <p>
       If a conversion specification is invalid, the behavior is undefined.<sup>336)</sup> <code class="highlight"><c- n>fprintf</c-></code> shall behave as if it uses <code class="highlight"><c- n>va_arg</c-></code> with a type argument naming the type resulting from applying the default argument promotions to the type corresponding to the conversion specification 
       <ins>or precision (from an asterisk or a caret)</ins>
        and then converting the result of the <code class="highlight"><c- n>va_arg</c-></code> expansion to the type corresponding to the conversion specification.
      </p>
     </div>
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="5.2" id="wording-7.24.6.2-fwprintf"><span class="secno">5.2. </span><span class="content">NOTE: IDENTICAL CHANGES TO <code class="highlight"><c- n>fwprintf</c-></code>!</span><a class="self-link" href="#wording-7.24.6.2-fwprintf"></a></h3>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don't scroll to compensate for the ToC if we're above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don't know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn't exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn't standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don't have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we're at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can't find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>