<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>N29XX: Enhancements to Enumerations</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom: 3px solid #054572;
			border-bottom: 3px solid var(--toclink-underline);
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      vertical-align: top;
    }
    th, td {
      border-left: none;
      border-right: none;
      padding: 0px 10px;
    }
    th {
      text-align: center;
    }
  </style>
  <meta content="Bikeshed version 2e3c4c68b, updated Fri Jan 14 14:49:00 2022 -0800" name="generator">
  <link href="https://thephd.dev/_vendor/future_cxx/papers/C%20-%20Enhanced%20Enumerations.html" rel="canonical">
  <link href="https://isocpp.org/favicon.ico" rel="icon">
  <meta content="7aa0fb0b08e89b2d242cf90642c7dc2f6ead6a04" name="document-revision">
<style>

:root {
	/* Default (light) theme */
	--del-text-color: rgb(255, 25, 25);
	--del-text-color: rgba(255, 25, 25, 0.5);
	--del-text-background-color: rgb(255, 175, 175);
	--ins-text-color: rgb(10, 180, 35);
	--ins-text-decoration-color: rgba(10, 180, 35, 0.5);
	--ins-text-background-color: rgb(175, 250, 190);
	--diff-ins-text-color: rgb(10, 180, 35);
	--diff-ins-text-decoration-color: rgba(99, 0, 129, 0.5);
	--diff-ins-text-background-color: rgb(244, 175, 250);
}

/* dark theme */
@media (prefers-color-scheme: dark) {
	:root {
		--del-text-color: rgb(255, 52, 52);
		--del-text-color: rgb(255, 52, 52, 0.5);
		--del-text-background-color: rgb(82, 25, 25);
		--ins-text-color: rgb(140, 255, 140);
		--ins-text-decoration-color: rgba(140, 255, 140, 0.5);
		--ins-text-background-color: rgb(25, 82, 25);
		--diff-ins-text-decoration-color: rgb(244, 175, 250);
		--diff-ins-text-background-color: rgba(99, 0, 129, 0.5);
	}
}

@media print {
	.pagebreak { break-after: always }
}

.tg  {
	border-collapse: collapse;
	border-spacing:0;
}

.tg td{
	padding:10px 10px;
	border-style: solid;
	border-width:1px;
	overflow: hidden;
	word-break: normal;
	border-color: var(--table-border-color, inherit);
}
.tg th{
	font-weight: normal;
	padding: 10px 10px;
	border-style: solid;
	border-width: 1px;
	overflow: hidden;
	word-break: normal;
	border-color: black;
}
.tg .tg-c3ow { 
	border-color: inherit;
	text-align: center;
	vertical-align: top
}

.ins, ins, ins p, ins div, span.ins, span.ins * {
	background-color: var(--ins-text-background-color);
	background: var(--ins-text-background-color);
	color: var(--ins-text-color);
}

.diff-ins, diff-ins, diff-ins p, diff-ins div, span.diff-ins, span.diff-ins * {
	background-color: var(--diff-ins-text-background-color);
	background: var(--diff-ins-text-background-color);
	color: var(--diff-ins-text-color);
}

ins * {
	text-decoration: underline;
	text-decoration-color: var(--ins-text-decoration-color);
}

.del, del, del p, del div, span.del, span.del * {
	background-color: var(--del-text-background-color);
	background: var(--del-text-background-color);
	color: var(--del-text-color);
}

del * {
	text-decoration: line-through;
	text-decoration-color: var(--del-text-decoration-color);
}

code.c-kw {
	font-weight: bold;
}

math, span.math {
	font-family: serif;
	font-style: italic;
}

ul {
	list-style-type: "— ";
}

.wording-clause {
	counter-reset: wording-paragraph;
}

.wording-clause-header {
	font-size: 115%;
	display: block;
	padding-bottom: 1em;
	clear: both;
}

.wording-clause-number {
	font-weight: bold;
}

.wording-clause-title {
	font-weight: bold;
	margin: 2em;
}

.wording-clause-section-title {
	font-size: 105%;
	font-weight: bold;
}

.clause-stable-tag {
	float: right;
}

.footnote-ref {
	font-size: 75%;
	vertical-align: super;
}

.footnote {
	font-size: 75%;
	vertical-align: bottom;
}

div.wording-section {
	counter-reset: wording-paragraph;
}

div.wording-numbered, div.wording-newnumbered {
	margin-left: 2.5em;
	margin-top: 1em;
	margin-bottom: 1em;
}

div.wording-numbered:before, div.wording-newnumbered:before {
	position: absolute;
	margin-left: -2.5em;
	display: block;
}

div.wording-numbered:before {
	content: counter(wording-paragraph);
	counter-increment: wording-paragraph;
	font-size: smaller;
}

div.wording-newnumbered:before {
	content: counter(wording-paragraph)"✨";
	counter-increment: wording-paragraph;
	font-size: smaller;
}

/*div.wording-numbered ul, div.wording-newnumbered ul {
	counter-reset: wording-list-item;
}

div.wording-numbered li, div.wording-newnumbered li {
	margin-left: 4em;
}

div.wording-numbered li:before, div.wording-newnumbered li:before {
	position: absolute;
	margin-left: -5.8em;
	display-style: block;
}

div.wording-numbered li:before {
	content: "(" counter(wording-paragraph) "." counter(wording-list-item) ")";
	counter-increment: wording-list-item;
}

div.wording-newnumbered li:before {
	content: "(✨" counter(wording-paragraph) "." counter(wording-list-item) ")";
	counter-increment: wording-list-item;
}
*/

div.wording-numbered-0 {
	counter-reset: wording-paragraph -1;
}

div.wording-numbered-1 {
	counter-reset: wording-paragraph 0;
}

div.wording-numbered-2 {
	counter-reset: wording-paragraph 1;
}

div.wording-numbered-3 {
	counter-reset: wording-paragraph 2;
}

div.wording-numbered-4 {
	counter-reset: wording-paragraph 3;
}

div.wording-numbered-5 {
	counter-reset: wording-paragraph 4;
}

div.wording-numbered-6 {
	counter-reset: wording-paragraph 5;
}

div.wording-numbered-7 {
	counter-reset: wording-paragraph 6;
}

div.wording-numbered-8 {
	counter-reset: wording-paragraph 7;
}

div.wording-numbered-9 {
	counter-reset: wording-paragraph 8;
}

div.wording-numbered-10 {
	counter-reset: wording-paragraph 9;
}

div.wording-numbered-11 {
	counter-reset: wording-paragraph 10;
}

div.wording-numbered-12 {
	counter-reset: wording-paragraph 11;
}

div.wording-numbered-13 {
	counter-reset: wording-paragraph 12;
}

div.wording-numbered-14 {
	counter-reset: wording-paragraph 13;
}

div.wording-numbered-15 {
	counter-reset: wording-paragraph 14;
}

div.wording-numbered-16 {
	counter-reset: wording-paragraph 15;
}

div.wording-numbered-17 {
	counter-reset: wording-paragraph 16;
}

div.wording-numbered-18 {
	counter-reset: wording-paragraph 17;
}

div.wording-numbered-19 {
	counter-reset: wording-paragraph 18;
}

div.wording-numbered-20 {
	counter-reset: wording-paragraph 19;
}
</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-issues */

a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">N29XX<br>Enhancements to Enumerations</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Published Proposal, <time class="dt-updated" datetime="2022-03-30">2022-03-30</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Previous Revisions:
     <dd><a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2904.htm">N2904 (r3)</a>, <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2575.pdf">N2575 (r2)</a>, <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2533.pdf">n2533 (r1)</a>, <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2008.pdf">n2008 (r0)</a>
     <dt class="editor">Authors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:phdofthehouse@gmail.com">JeanHeyd Meneide (https://thephd.dev)</a>
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:shepherd@soasis.org">Shepherd (Shepherd's Oasis LLC)</a>
     <dd class="editor p-author h-card vcard"><span class="p-name fn">Clive Pygott (LDRA Ltd.)</span>
     <dt>Latest:
     <dd><a href="https://thephd.dev/_vendor/future_cxx/papers/C%20-%20Enhanced%20Enumerations.html">https://thephd.dev/_vendor/future_cxx/papers/C - Enhanced Enumerations.html</a>
     <dt>Paper Source:
     <dd><a href="https://thephd.dev/_vendor/future_cxx/papers/source/C%20-%20Enhanced%20Enumerations.bs">GitHubcxx ThePhD/future_</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/ThePhD/future_cxx/issues">GitHub</a>
     <dt>Project:
     <dd>ISO/IEC JTC1/SC22/WG14 9899: Programming Language — C
     <dt>Proposal Category:
     <dd>Feature Request
     <dt>Target:
     <dd>General Developers, ABI Lovers, Embedded Systems Developers
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Enumerations should have the ability to specify the underlying type to aid in portability and usability across platforms, across ABIs, and across languages (for serialization and similar purposes).</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#changelog"><span class="secno">1</span> <span class="content">Changelog</span></a>
     <ol class="toc">
      <li><a href="#changelog-r4"><span class="secno">1.1</span> <span class="content">Revision 4 - March 30<sup>th</sup>, 2022</span></a>
      <li><a href="#changelog-r3"><span class="secno">1.2</span> <span class="content">Revision 3 - January 1<sup>st</sup>, 2022</span></a>
      <li><a href="#changelog-r2"><span class="secno">1.3</span> <span class="content">Revision 2 - October 4<sup>th</sup>, 2020</span></a>
      <li><a href="#changelog-r1"><span class="secno">1.4</span> <span class="content">Revision 1 - June 28<sup>th</sup>, 2020</span></a>
      <li><a href="#changelog-r0"><span class="secno">1.5</span> <span class="content">Revision 0 - February 17<sup>th</sup>, 2016</span></a>
     </ol>
    <li><a href="#intro"><span class="secno">2</span> <span class="content">Introduction and Motivation</span></a>
    <li><a href="#prior"><span class="secno">3</span> <span class="content">Prior Art</span></a>
    <li>
     <a href="#design"><span class="secno">4</span> <span class="content">Design</span></a>
     <ol class="toc">
      <li><a href="#design-bit.precise.integers"><span class="secno">4.1</span> <span class="content">Bit-Precise Integer Types and <code class="highlight"><c- b>bool</c-></code>?</span></a>
     </ol>
    <li>
     <a href="#wording"><span class="secno">5</span> <span class="content">Proposed Wording</span></a>
     <ol class="toc">
      <li><a href="#wording-intent"><span class="secno">5.1</span> <span class="content">Intent</span></a>
      <li>
       <a href="#wording-specification"><span class="secno">5.2</span> <span class="content">Proposed Specification</span></a>
       <ol class="toc">
        <li><a href="#wording-specification-6.2.7p1"><span class="secno">5.2.1</span> <span class="content">Modify Section §6.2.7 Compatible type and composite type, paragraph 1</span></a>
        <li><a href="#wording-specification-6.4.4.3"><span class="secno">5.2.2</span> <span class="content">Modify Section §6.4.4.3 Enumeration constants</span></a>
        <li><a href="#wording-specification-6.7.2.2"><span class="secno">5.2.3</span> <span class="content">Modify Section §6.7.2.2 Enumeration constants</span></a>
        <li><a href="#wording-specification-6.7.2.3"><span class="secno">5.2.4</span> <span class="content">Modify Section §6.7.2.3 Tags</span></a>
        <li><a href="#wording-specification-annex-j"><span class="secno">5.2.5</span> <span class="content">Add implementation-defined enumeration behavior to Annex J</span></a>
       </ol>
     </ol>
    <li><a href="#acknowledgements"><span class="secno">6</span> <span class="content">Acknowledgements</span></a>
   </ol>
  </nav>
  <main>
   <div class="pagebreak"></div>
   <h2 class="heading settled" data-level="1" id="changelog"><span class="secno">1. </span><span class="content">Changelog</span><a class="self-link" href="#changelog"></a></h2>
   <h3 class="heading settled" data-level="1.1" id="changelog-r4"><span class="secno">1.1. </span><span class="content">Revision 4 - March 30<sup>th</sup>, 2022</span><a class="self-link" href="#changelog-r4"></a></h3>
   <ul>
    <li data-md>
     <p>Switch from <code class="highlight"><c- b>_Bool</c-></code> to <code class="highlight"><c- b>bool</c-></code> after the latest additions to the C Standard.</p>
    <li data-md>
     <p>Vastly improve the wording after feedback, make sure it does not conflict with the <a href="https://thephd.dev/_vendor/future_cxx/papers/C%20-%20Improved%20Normal%20Enumerations.html">Improved Normal Enumerations</a> paper.</p>
    <li data-md>
     <p>Clarify the use of the processing of the integers for the ones of underlying type.</p>
   </ul>
   <h3 class="heading settled" data-level="1.2" id="changelog-r3"><span class="secno">1.2. </span><span class="content">Revision 3 - January 1<sup>st</sup>, 2022</span><a class="self-link" href="#changelog-r3"></a></h3>
   <ul>
    <li data-md>
     <p>Change of paper primary author to JeanHeyd and Shepherd: thank you, Clive Pygott, for your studious shepherding of this issue for over 4 years!</p>
    <li data-md>
     <p>Address feedback and comments from March/April 2021 Virtual Meeting.</p>
    <li data-md>
     <p>Address direct feedback from Joseph Myers and Robert Seacord (thank you for the effort!).</p>
    <li data-md>
     <p>Allow <code class="highlight"><c- b>_Bool</c-></code> as an underlying type. (This matches C++ and C extensions.)</p>
   </ul>
   <h3 class="heading settled" data-level="1.3" id="changelog-r2"><span class="secno">1.3. </span><span class="content">Revision 2 - October 4<sup>th</sup>, 2020</span><a class="self-link" href="#changelog-r2"></a></h3>
   <ul>
    <li data-md>
     <p>Prepare for changes to C23, address some minor feedback comments from the August 2020 Virtual Meeting.</p>
    <li data-md>
     <p>Support for forward declarations of both fixed underlying type enumerations and enumerations without fixed underlying type.</p>
    <li data-md>
     <p>Clarify that <code class="highlight"><c- b>_Bool</c-></code> should probably not be supported as an underlying type.</p>
   </ul>
   <h3 class="heading settled" data-level="1.4" id="changelog-r1"><span class="secno">1.4. </span><span class="content">Revision 1 - June 28<sup>th</sup>, 2020</span><a class="self-link" href="#changelog-r1"></a></h3>
   <ul>
    <li data-md>
     <p>Address main comment from 2016 meeting: clumsy concrete syntax for <em>enum-type-specifier</em> was overly restrictive (e.g., wouldn’t allow the use of a typedef). Use <code class="highlight"><c- n>type</c-><c- o>-</c-><c- n>specifier</c-></code> term more clearly.</p>
    <li data-md>
     <p>Change syntax to allow for attributes.</p>
   </ul>
   <h3 class="heading settled" data-level="1.5" id="changelog-r0"><span class="secno">1.5. </span><span class="content">Revision 0 - February 17<sup>th</sup>, 2016</span><a class="self-link" href="#changelog-r0"></a></h3>
   <ul>
    <li data-md>
     <p>Initial release 🎉!</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="intro"><span class="secno">2. </span><span class="content">Introduction and Motivation</span><a class="self-link" href="#intro"></a></h2>
   <p>C normally tries to picks <code class="highlight"><c- b>int</c-></code> for its enumerations, but it’s entirely unspecified what the type for the <code class="highlight"><c- k>enum</c-></code> will end up being. It’s constants (and the initializers for those constants) are always treated as <code class="highlight"><c- b>int</c-></code>s, which is not very helpful for individuals who want to use things like enumerations in their bitfields with specific kinds of properties. This means it’s impossible to portably define an enumeration, which drastically decreases its usefulness and makes it harder to rely on enumeration values (and consequently, their type) in standard C code. This has led to a number of communities and tools attempting to do enumerations differently in several languages, or in the case of C++ simply enhancing enumerations with specific features to make them both portable and dependable.</p>
   <p>This proposal provides an underlying enumeration type, specified after a colon of the _identifier_ for the enumeration name, to give the enumeration a dependable type. It makes the types for each of the enumeration constants the same as the specified underlying type, while leaving the current enumerations as unspecified as they were in their old iterations. It does not attempt to solve problems outside the scope of making sure that constants with specified underlying type are dependable, and attempts to make forward declaration of enumerations work across implementations.</p>
   <h2 class="heading settled" data-level="3" id="prior"><span class="secno">3. </span><span class="content">Prior Art</span><a class="self-link" href="#prior"></a></h2>
   <p>C++ has this as a feature for their enumerations. Certain C compilers have this as an extension in
their C compilation modes specifically, <a href="https://godbolt.org/z/xMz6n7TKK">including Clang</a>.</p>
   <h2 class="heading settled" data-level="4" id="design"><span class="secno">4. </span><span class="content">Design</span><a class="self-link" href="#design"></a></h2>
   <p>The design of this feature follows C++'s syntax for both compatibility reasons and because the design is genuinely simple and useful:</p>
<pre class="language-cpp highlight"><c- k>enum</c-> <c- nc>a</c-> <c- o>:</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- p>{</c->
	<c- n>a0</c-> <c- o>=</c-> <c- mh>0xFFFFFFFFFFFFFFFFULL</c->
	<c- c1>// ^ not a constraint violation with a 64-bit unsigned long long</c->
<c- p>};</c->
</pre>
   <p>Furthermore, the type of <code class="highlight"><c- n>a0</c-></code> is specified to be <code class="highlight"><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-></code>, such this program:</p>
<pre class="language-cpp highlight"><c- k>enum</c-> <c- nc>a</c-> <c- o>:</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- p>{</c->
	<c- n>a0</c-> <c- o>=</c-> <c- mh>0xFFFFFFFFFFFFFFFFULL</c->
<c- p>};</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
	<c- k>return</c-> <c- n>_Generic</c-><c- p>(</c-><c- n>a0</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-><c- o>:</c-> <c- mi>0</c-><c- p>,</c-> <c- k>default</c-><c- o>:</c-> <c- mi>1</c-><c- p>);</c->
<c- p>}</c->
</pre>
   <p>exits with a return value of <code class="highlight"><c- mi>0</c-></code>. Note that because this change is entirely opt-in, no previous code is impacted and code that was originally a syntax violation will become well-formed with the same semantics as they had from their C++ counterparts. The interesting component of this proposal - that is currently marked optional - addresses a separate issue found in the current enumeration specification.</p>
   <h3 class="heading settled" data-level="4.1" id="design-bit.precise.integers"><span class="secno">4.1. </span><span class="content">Bit-Precise Integer Types and <code class="highlight"><c- b>bool</c-></code>?</span><a class="self-link" href="#design-bit.precise.integers"></a></h3>
   <p>Integers such as <code class="highlight"><c- n>_BitInt</c-><c- p>(</c-><c- mi>31</c-><c- p>)</c-></code> are, currently, allowed as an extension for an underlying enumeration type in Clang. However, discussing this with the Clang implementers, there was sentiment that this just "happened to work" and was a not a fully planned part of the <code class="highlight"><c- n>_BitInt</c-></code>/<code class="highlight"><c- n>_ExtInt</c-></code> integration plan. They proposed that they would implement a diagnostic for it for future versions of Clang. In the standard, we do not want to step on the toes of anyone who may want to develop extensions in this place, especially when it comes to whether or not bit-precise enumeration types undergo integer promotion or follow the same rules for enumeration constants and similar. Therefore, we exclude them as usable types at this time.</p>
   <p>We do not exclude <code class="highlight"><c- b>bool</c-></code> from the possible set of types. It is <a href="https://godbolt.org/z/fY4sedEe4">allowed in C++</a> (as just <code class="highlight"><c- b>bool</c-></code>) and other C extensions, and it allows for an API to provide mnemonic or otherwise fitting names for binary choices without needing to resort to a bit-field of a particular type. This provides a tangible benefit to code. Values outside of <code class="highlight">true</code> or <code class="highlight">false</code> can be errored/warned on when creating a <code class="highlight"><c- b>bool</c-></code> enumeration, but that is a quality of implementation decision.</p>
   <h2 class="heading settled" data-level="5" id="wording"><span class="secno">5. </span><span class="content">Proposed Wording</span><a class="self-link" href="#wording"></a></h2>
   <p>The following wording is <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2731.pdf">relative to N2731</a>.</p>
   <h3 class="heading settled" data-level="5.1" id="wording-intent"><span class="secno">5.1. </span><span class="content">Intent</span><a class="self-link" href="#wording-intent"></a></h3>
   <p>The intent of the wording is to provide the ability to express enumerations with the underlying type present. In particular:</p>
   <ul>
    <li data-md>
     <p>enumerations can optionally have a type declared as the underlying type or otherwise defaults to the previous behavior (opt-in);</p>
    <li data-md>
     <p>enumerations with an underlying type must use a signed or unsigned (standard or extended) integer type that is not a bit-precise integer type, or another enumeration type directly;</p>
    <li data-md>
     <p>enumerations with underlying types ignore const, volatile, <code class="highlight"><c- b>_Atomic</c-></code>, and all other qualifiers on a given type;</p>
    <li data-md>
     <p>enumerations with underlying types can be forward-declared;</p>
    <li data-md>
     <p>enumerations with underlying types cannot be forward-declared with different underlying types than the first forward declaration;</p>
    <li data-md>
     <p>enumerations should be allowed to be forward-declared and used as incomplete types, as many implementations allow;</p>
    <li data-md>
     <p>enumerations that are foward declared only compatible with themselves, and not any potential underlying type;</p>
    <li data-md>
     <p>enumerations with an underlying type can be redeclared without an underlying type (e.g., <code class="highlight"><c- k>enum</c-> <c- nl>a</c-> <c- p>:</c-> <c- b>int</c-><c- p>;</c-></code> matches <code class="highlight"><c- k>enum</c-> <c- n>a</c-><c- p>;</c-></code>);</p>
    <li data-md>
     <p>enumerations without an underlying type can be redeclared with an underlying type (which completes that type) (e.g., <code class="highlight"><c- k>enum</c-> <c- n>a</c-><c- p>;</c-></code> matches <code class="highlight"><c- k>enum</c-> <c- nl>a</c-> <c- p>:</c-> <c- b>short</c-><c- p>;</c-></code> but cannot be re-redeclared as <code class="highlight"><c- k>enum</c-> <c- nl>a</c-> <c- p>:</c-> <c- b>long</c-></code> in the same translation unit);</p>
    <li data-md>
     <p>enumerations with an underlying type can have enumerators initialized with integer constant expressions whose type is not strictly <code class="highlight"><c- b>int</c-></code> or <code class="highlight"><c- b>unsigned</c-> <c- b>int</c-></code> used to specify their values;</p>
    <li data-md>
     <p>enumerations of an underlying type used directly in a generic expression are treated as an integer of that underlying type; and,</p>
    <li data-md>
     <p>operations performed on an enumeration with an underlying type treat the type of the enumeration as an integer of that specified underlying type.</p>
   </ul>
   <h3 class="heading settled" data-level="5.2" id="wording-specification"><span class="secno">5.2. </span><span class="content">Proposed Specification</span><a class="self-link" href="#wording-specification"></a></h3>
   <h4 class="heading settled" data-level="5.2.1" id="wording-specification-6.2.7p1"><span class="secno">5.2.1. </span><span class="content">Modify Section §6.2.7 Compatible type and composite type, paragraph 1</span><a class="self-link" href="#wording-specification-6.2.7p1"></a></h4>
   <blockquote>
    <div class="wording-section">
     <div class="wording-numbered">
       … Moreover, two structure, union, or enumerated types declared in separate translation units are compatible if their tags and members satisfy the following requirements: if one is declared with a tag, the other shall be declared with the same tag. If both are completed anywhere within their respective translation units, then the following additional requirements apply: … For two enumerations, corresponding members shall have the same values
      <ins>; if one has a fixed underlying type, then the other must have a fixed underlying type and the fixed underlying types must be compatible.</ins>
     </div>
    </div>
   </blockquote>
   <h4 class="heading settled" data-level="5.2.2" id="wording-specification-6.4.4.3"><span class="secno">5.2.2. </span><span class="content">Modify Section §6.4.4.3 Enumeration constants</span><a class="self-link" href="#wording-specification-6.4.4.3"></a></h4>
   <blockquote>
    <div class="wording-section">
     <div class="wording-clause-header"> <span U00022 class="wording-clause-number">6.4.4.3</span> <span class="wording-clause-title">Enumeration constants</span> </div>
     <div class="wording-clause-section-title"> Syntax </div>
     <div class="wording-numbered">
      <p><em>enumeration-constant:</em></p>
      <dl>
       <dd data-md>
        <p><em>identifier</em></p>
      </dl>
     </div>
     <div class="wording-clause-section-title"> Semantics </div>
     <div class="wording-numbered">
      <p>
       An identifier declared as an enumeration constant for an enumeration
       <ins> without fixed underlying type</ins>
        has type <code class="highlight"><c- b>int</c-></code>. 
       <ins>An identifier declared as an enumeration constant for an enumeration with fixed underlying type has that underlying type during the specification of the enumeration type (i.e., from the start of the opening brace in the <em>enum-specifier</em>).</ins>
      </p>
     </div>
     <div class="wording-numbered">
      <ins>
       <p>An identifier declared as an enumeration constant for an enumeration without fixed underlying type has an implementation-defined type wide enough for its value until the type is complete (i.e., until the closing brace in the <em>enum-specifier</em>). After the type is complete, the enumeration constant for an enumeration without fixed underlying type has an implementation-defined type large enough to hold all of its members.</p>
      </ins>
     </div>
     <div class="wording-numbered">
      <ins>
       <p>An enumeration constant may be used in an expression wherever a value of standard or extended integer type may be used. It has the underlying type of the enumeration.</p>
      </ins>
     </div>
    </div>
    <p>Forward references: enumeration specifiers (6.7.2.2).</p>
   </blockquote>
   <h4 class="heading settled" data-level="5.2.3" id="wording-specification-6.7.2.2"><span class="secno">5.2.3. </span><span class="content">Modify Section §6.7.2.2 Enumeration constants</span><a class="self-link" href="#wording-specification-6.7.2.2"></a></h4>
   <blockquote>
    <div class="wording-section">
     <div class="wording-clause-header"> <span U00022 class="wording-clause-number">6.7.2.2</span> <span class="wording-clause-title">Enumeration specifiers</span> </div>
     <div class="wording-clause-section-title"> Syntax </div>
     <div class="wording-numbered">
      <p><em>enum-specifier:</em></p>
      <dl>
       <dd data-md>
        <p>
         <strong>enum</strong> <i>attribute-specifier-sequence<sub>opt</sub></i> <i>identifier<sub>opt</sub></i> 
         <ins><i>enum-type-specifier<sub>opt</sub></i></ins>
          <strong>{</strong> <em>enumerator-list</em> <strong>}</strong>
        </p>
       <dd data-md>
        <p>
         <strong>enum</strong> <i>attribute-specifier-sequence<sub>opt</sub></i> <i>identifier<sub>opt</sub></i> 
         <ins><i>enum-type-specifier<sub>opt</sub></i></ins>
          <strong>{</strong> <em>enumerator-list</em> <strong>,</strong> <strong>}</strong>
        </p>
       <dd data-md>
        <p><strong>enum</strong> <em>identifier</em></p>
       <dd data-md>
        <p>
         <strong>enum</strong> <em>identifier</em> 
         <ins><i>enum-type-specifier<sub>opt</sub></i></ins>
        </p>
      </dl>
      <p><em>enumerator-list:</em></p>
      <dl>
       <dd data-md>
        <p><em>enumerator</em></p>
       <dd data-md>
        <p><em>enumerator-list</em> <strong>,</strong> <em>enumerator</em></p>
      </dl>
      <p><em>enumerator:</em></p>
      <dl>
       <dd data-md>
        <p><em>enumeration-constant</em> <i>attribute-specifier-sequence<sub>opt</sub></i></p>
       <dd data-md>
        <p><em>enumeration-constant</em> <i>attribute-specifier-sequence<sub>opt</sub></i> <strong>=</strong> <em>constant-expression</em></p>
      </dl>
      <ins>
       <p><em>enum-type-specifier:</em></p>
       <dl>
        <dd data-md>
         <p><strong>:</strong> <em>specifier-qualifier-list</em></p>
       </dl>
       <p>All enumerations have an <em>underlying type</em>. The underlying type can be explicitly specified using an <em>enum-type-specifier</em> and such an underlying type is its <em>fixed underlying type</em>.</p>
      </ins>
     </div>
     <div class="wording-clause-section-title"> Constraints </div>
     <div class="wording-numbered">
      <ins>
       <p>Neither overflow or underflow shall occur during the processing of the integer constant expression which defines an enumeration constant (with or without <strong>=</strong> providing an explicit integer constant expression for the value of that enumeration constant).</p>
      </ins>
     </div>
     <div class="wording-numbered">
      <ins>The expression that defines the value of an enumeration constant of an enumeration with a fixed underlying type shall have a value representable as that fixed underlying type.</ins>
     </div>
     <div class="wording-numbered">
      <del>The</del>
      <ins>For an enumeration without a fixed underlying type, the</ins>
       expression that defines the value of an enumeration constant shall be an integer constant expression that has a value representable as an <code class="highlight"><c- b>int</c-></code>. 
     </div>
     <div class="wording-numbered">
      <ins>If an enum type specifier is present, then the longest possible sequence of tokens that can be interpreted as a specifier qualifier list is as interpreted part of the enum type specifier.</ins>
     </div>
     <div class="wording-numbered">
      <ins>
       <p>For any <em>declarator</em> (6.7.6) that declares an enumeration with a fixed underlying type (the enum type specifier is present), but does not provide the opening brace <strong>{</strong>, enumerator list, and closing brace <strong>}</strong>, it shall:</p>
       <dl>
        <dd data-md>
         <p>— not be used to also declare any objects;</p>
        <dd data-md>
         <p>— not be used to also declare any type definitions (6.7.8); and,</p>
        <dd data-md>
         <p>— not be followed by an equal <strong>=</strong> with an <em>initiaizer</em> (6.7).</p>
       </dl>
      </ins>
     </div>
     <div class="wording-numbered">
      <ins>If two enum specifiers that include an enum type specifier declare the same type, the underlying types shall be compatible.</ins>
     </div>
     <div class="wording-clause-section-title"> Semantics </div>
     <div class="wording-numbered">
      <ins>The optional attribute specifier sequence in the enum specifier appertains to the enumeration; the attributes in that attribute specifier sequence are thereafter considered attributes of the enumeration whenever it is named. The optional attribute specifier sequence in the enumerator appertains to that enumerator.</ins>
     </div>
     <div class="wording-numbered">
       The identifiers in an enumerator list
      <ins> of an enumeration without fixed underlying type</ins>
       are declared as constants that have type <code class="highlight"><c- b>int</c-></code>
      <del>and they</del>
      <ins>. The identifiers in an enumerator list of an enumeration with fixed underlying type are declared as constants whose types are the same as the fixed underlying type. They</ins>
       may appear may appear wherever such are permitted.<sup>133)</sup> An enumerator with <b>=</b> defines its enumeration constant as the value of the constant expression. If the first enumerator has no <b>=</b>, the value of its enumeration constant is 0. Each subsequent enumerator with no <b>=</b> defines its enumeration constant as the value of the constant expression obtained by adding 1 to the value of the previous enumeration constant. (The use of enumerators with <b>=</b> may produce enumeration constants with values that duplicate other values in the same enumeration.) The enumerators of an enumeration are also known as its members. 
     </div>
     <div class="wording-numbered">
      <ins>
       <p>During the definition of each enumeration constant in the enumerator list for <em>an enumeration with fixed underlying type</em>, the processing of each integer constant expression which provides the value of the enumeration constant (given explicitly with <strong>=</strong> or otherwise) is performed using the largest signed or unsigned integer type (excluding bit-precise integer types) available to the implementation.</p>
      </ins>
     </div>
     <div> <sub>[<em>📝 NOTE TO EDITOR: The wording in the above parapgrah is identical from the "Improved Normal Enumerations" Proposal, and should be appropriately merged if both paper are added to the standard.</em>]</sub> </div>
     <div class="wording-numbered">
      <del>Each</del>
      <ins>For all enumerations without fixed underlying type, each</ins>
       enumerated type shall be compatible with <strong>char</strong>, a signed integer type, or an unsigned integer type 
      <ins>(excluding the bit-precise integer types)</ins>
      . The choice of type is implementation-defined<sup>134)</sup>, but shall be capable of representing the values of all the members of the enumeration. 
     </div>
     <div> <sub>[<em>📝 NOTE TO EDITOR: The wording in the above paragraph for "excluding the bit-precise…" is identical from the "Improved Normal Enumerations" Proposal, and should be appropriately merged if both paper are added to the standard.</em>]</sub> </div>
     <div class="wording-numbered">
      <ins>For all enumerations with a fixed underlying type, the enumerated type is compatible with the underlying type of the enumeration. If the underlying type is <strong>bool</strong>, the enumerated type has the same semantics as <code class="highlight"><c- b>bool</c-></code>.</ins>
     </div>
     <div class="wording-numbered">
      <del>The</del>
      <ins>An</ins>
       enumerated type 
      <ins>declaration without a fixed underlying type</ins>
       is 
      <ins>an</ins>
       incomplete 
      <ins>type</ins>
       until immediately after the <strong>}</strong> that terminates the list of enumerator declarations, and complete thereafter. 
      <ins>An enumerated type declaration of an enumeration with fixed underlying type declares a complete type immediately after its enum type specifier (i.e. after the opening <strong>{</strong> of its enumerator list).</ins>
     </div>
     <div class="wording-numbered">
      <p><strong>EXAMPLE</strong> The following fragment: …</p>
      <p> … </p>
     </div>
     <div class="wording-numbered">
      <ins>
       <p><strong>EXAMPLE</strong> Even if the value of an enumeration constant is generated by the implicit addition of 1, an enumeration with fixed underlying type does not exhibit typical overflow behavior:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;limits.h>

<c- k>enum</c-> <c- nc>us</c-> <c- o>:</c-> <c- b>unsigned</c-> <c- b>short</c-> <c- p>{</c->
	<c- n>us_max</c-> <c- o>=</c-> <c- n>USHRT_MAX</c-><c- p>,</c->
	<c- n>us_wrap_to_zero</c-> <c- d>/* Constraint violation:</c->
<c- d>	                   USHRT_MAX + 1 is done with largest</c->
<c- d>	                   integer type, not unsigned short, and is not</c->
<c- d>	                   representable within an unsigned short. */</c->
<c- p>}</c->
</pre>
      </ins>
     </div>
     <div class="wording-numbered">
      <ins>
       <p><strong>EXAMPLE</strong> The following fragment:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;limits.h>

<c- k>enum</c-> <c- nc>E1</c-><c- o>:</c-> <c- b>short</c-><c- p>;</c->
<c- k>enum</c-> <c- nc>E2</c-><c- o>:</c-> <c- b>short</c-><c- p>;</c->
<c- k>enum</c-> <c- nc>E3</c-><c- p>;</c->
<c- k>enum</c-> <c- nc>E4</c-> <c- o>:</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-><c- p>;</c->

<c- k>enum</c-> <c- nc>E1</c-> <c- o>:</c-> <c- b>short</c-> <c- p>{</c-> <c- n>m11</c-><c- p>,</c-> <c- n>m12</c-> <c- p>};</c->
<c- k>enum</c-> <c- nc>E2</c-> <c- o>:</c-> <c- b>long</c->  <c- p>{</c-> <c- n>m21</c-><c- p>,</c-> <c- n>m22</c-> <c- p>};</c-> <c- d>/* Constraint violation */</c->

<c- k>enum</c-> <c- nc>E3</c-> <c- o>:</c-> <c- b>int</c-><c- p>;</c-> <c- d>/* Constraint violation */</c->
<c- k>enum</c-> <c- nc>E3</c-> <c- p>{</c->
	<c- n>m31</c-><c- p>,</c->
	<c- n>m32</c-><c- p>,</c->
	<c- n>m33</c-> <c- o>=</c-> <c- k>sizeof</c-><c- p>(</c-><c- k>enum</c-> <c- nc>E3</c-><c- p>)</c->
<c- p>};</c->

<c- k>enum</c-> <c- nc>E4</c-> <c- o>:</c-> <c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- p>{</c->
	<c- n>m41</c-> <c- o>=</c-> <c- n>ULLONG_MAX</c-><c- p>,</c->
	<c- n>m42</c-> <c- d>/* Constraint violation: unrepresentable value */</c->
<c- p>};</c->

<c- k>enum</c-> <c- nc>Ex1</c-> <c- n>x</c-> <c- o>=</c-> <c- n>m11</c-><c- p>;</c->
<c- k>enum</c-> <c- nc>Ex2</c-> <c- o>:</c-> <c- b>long</c-> <c- b>int</c-> <c- n>x</c-><c- p>;</c-> <c- d>/* Constraint violation: enum-type-specifier</c->
<c- d>                         with identifier in declarator */</c->
<c- k>enum</c-> <c- nc>Ex3</c-> <c- o>:</c-> <c- b>long</c-> <c- b>int</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c-> <c- d>/* Constraint violation:</c->
<c- d>                            enum-type-specifier with initializer */</c->
</pre>
       <p>demonstrates many of the properties of multiple declarations of enumerations with underlying types. <code class="highlight"><c- n>E3</c-></code> in particular is an enumeration declaration that chooses <code class="highlight"><c- b>int</c-></code> as its underlying type, which matches the second declaration and the third declaration with definition. Despite <code class="highlight"><c- n>E3</c-></code> being declared without an underlying type first, it is declared with an underlying type second that is the same as its first, so <code class="highlight"><c- k>sizeof</c-><c- p>(</c-><c- k>enum</c-> <c- n>E3</c-><c- p>)</c-></code> is not a constraint violation.</p>
      </ins>
     </div>
     <div class="wording-numbered">
      <ins>
       EXAMPLE The following fragment: 
<pre class="language-cpp highlight"><c- k>enum</c-> <c- nc>no_underlying</c-> <c- p>{</c->
	<c- n>a0</c->
<c- p>};</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
	<c- b>int</c-> <c- n>a</c-> <c- o>=</c-> <c- n>_Generic</c-><c- p>(</c-><c- n>a0</c-><c- p>,</c->
		<c- b>int</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
		<c- b>unsigned</c-> <c- b>char</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
		<c- k>default</c-><c- o>:</c-> <c- mi>0</c->
	<c- p>);</c->
	<c- b>int</c-> <c- n>b</c-> <c- o>=</c-> <c- n>_Generic</c-><c- p>((</c-><c- k>enum</c-> <c- nc>no_underlying</c-><c- p>)</c-><c- n>a0</c-><c- p>,</c->
		<c- b>int</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
		<c- b>unsigned</c-> <c- b>char</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
		<c- k>default</c-><c- o>:</c-> <c- mi>0</c->
	<c- p>);</c->
	<c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
       <p>demonstrates the implementation-defined nature of the underlying type of enumerations using generic selection (6.5.1.1). The value of <code class="highlight"><c- n>a</c-></code> after its initialization is <code class="highlight"><c- mi>2</c-></code>. The value of <code class="highlight"><c- n>b</c-></code> after its initialization is implementation-defined: the enumeration must be compatible with a type large enough to fit the values of its enumeration constants. Since the only value is <code class="highlight"><c- mi>0</c-></code> for <code class="highlight"><c- n>a0</c-></code>, <code class="highlight"><c- n>b</c-></code> may hold any of <code class="highlight"><c- mi>2</c-></code>, <code class="highlight"><c- mi>1</c-></code>, or <code class="highlight"><c- mi>0</c-></code>.</p>
       <p>Now, consider a similar fragment, but using a fixed underlying type:</p>
<pre class="language-cpp highlight"><c- k>enum</c-> <c- nc>underlying</c-> <c- o>:</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- p>{</c->
	<c- n>b0</c->
<c- p>};</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
	<c- b>int</c-> <c- n>a</c-> <c- o>=</c-> <c- n>_Generic</c-><c- p>(</c-><c- n>b0</c-><c- p>,</c->
		<c- b>int</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
		<c- b>unsigned</c-> <c- b>char</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
		<c- k>default</c-><c- o>:</c-> <c- mi>0</c->
	<c- p>);</c->
	<c- b>int</c-> <c- n>b</c-> <c- o>=</c-> <c- n>_Generic</c-><c- p>((</c-><c- k>enum</c-> <c- nc>underlying</c-><c- p>)</c-><c- n>b0</c-><c- p>,</c->
		<c- b>int</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
		<c- b>unsigned</c-> <c- b>char</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
		<c- k>default</c-><c- o>:</c-> <c- mi>0</c->
	<c- p>);</c->
	<c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
       <p>Here, we are guaranteed that <code class="highlight"><c- n>a</c-></code> and <code class="highlight"><c- n>b</c-></code> are both initialized to <code class="highlight"><c- mi>1</c-></code>. This makes enumerations with an underlying size more portable.</p>
      </ins>
     </div>
     <div class="wording-numbered">
      <ins>
       EXAMPLE Enumerations with a fixed underlying type must have their braces and the enumerator list specified as part of their declaration if they are not a standalone declaration: 
<pre class="language-cpp highlight"><c- b>void</c-> <c- nf>f1</c-> <c- p>(</c-><c- k>enum</c-> <c- nc>a</c-> <c- o>:</c-> <c- b>long</c-> <c- n>b</c-><c- p>);</c-> <c- d>/* Constraint violation */</c->
<c- b>void</c-> <c- nf>f2</c-> <c- p>(</c-><c- k>enum</c-> <c- nc>c</c-> <c- o>:</c-> <c- b>long</c-> <c- p>{</c-> <c- n>x</c-> <c- p>}</c-> <c- n>d</c-><c- p>);</c->

<c- k>typedef</c-> <c- k>enum</c-> <c- nc>t</c-> <c- n>u</c-><c- p>;</c->
<c- k>typedef</c-> <c- k>enum</c-> <c- nc>v</c-> <c- o>:</c-> <c- b>short</c-> <c- n>W</c-><c- p>;</c-> <c- d>/* Constraint violation */</c->
<c- k>typedef</c-> <c- k>enum</c-> <c- nc>q</c-> <c- o>:</c-> <c- b>short</c-> <c- p>{</c-> <c- n>s</c-> <c- p>}</c-> <c- n>R</c-><c- p>;</c->

<c- k>enum</c-> <c- nc>forward</c-><c- p>;</c->
<c- k>extern</c-> <c- k>enum</c-> <c- nc>forward</c-> <c- n>fwd_val0</c-><c- p>;</c-> <c- d>/* Constraint violation: incomplete type */</c->
<c- k>extern</c-> <c- k>enum</c-> <c- nc>forward</c-><c- o>*</c-> <c- n>fwd_ptr0</c-><c- p>;</c->
<c- k>extern</c-> <c- b>int</c-><c- o>*</c-> <c- n>fwd_ptr0</c-><c- p>;</c-> <c- d>/* Constraint violation: incompatible with incomplete type */</c->

<c- k>enum</c-> <c- nc>forward1</c-> <c- o>:</c-> <c- b>int</c-><c- p>;</c->
<c- k>extern</c-> <c- k>enum</c-> <c- nc>forward1</c-> <c- n>fwd_val1</c-><c- p>;</c->
<c- k>extern</c-> <c- b>int</c-> <c- n>fwd_val1</c-><c- p>;</c->
<c- k>extern</c-> <c- k>enum</c-> <c- nc>forward1</c-><c- o>*</c-> <c- n>fwd_ptr1</c-><c- p>;</c->
<c- k>extern</c-> <c- b>int</c-><c- o>*</c-> <c- n>fwd_ptr1</c-><c- p>;</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
	<c- k>enum</c-> <c- nc>e</c-> <c- o>:</c-> <c- b>short</c-><c- p>;</c->
	<c- k>enum</c-> <c- nc>e</c-> <c- o>:</c-> <c- b>short</c-> <c- n>f</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c-> <c- d>/* Constraint violation */</c->
	<c- k>enum</c-> <c- nc>g</c-> <c- o>:</c-> <c- b>short</c-> <c- p>{</c-> <c- n>y</c-> <c- p>}</c-> <c- n>h</c-> <c- o>=</c-> <c- n>y</c-><c- p>;</c->
	<c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
      </ins>
     </div>
     <p>
      Forward references: 
      <ins>generic selection (6.5.1.1), </ins>
      tags (6.7.2.3), 
      <ins>declarations (6.7), declarators (6.7.6), type names (6.7.7)</ins>
      .
     </p>
    </div>
   </blockquote>
   <h4 class="heading settled" data-level="5.2.4" id="wording-specification-6.7.2.3"><span class="secno">5.2.4. </span><span class="content">Modify Section §6.7.2.3 Tags</span><a class="self-link" href="#wording-specification-6.7.2.3"></a></h4>
   <blockquote>
    <div class="wording-section">
     <div class="wording-section">
      <div class="wording-clause-header"> <span U00022 class="wording-clause-number">6.7.2.3</span> <span class="wording-clause-title">Tags</span> </div>
      <div class="wording-clause-section-title"> Constraints </div>
      <div> … </div>
      <div class="wording-numbered wording-numbered-3">
       <p>A type specifier of the form</p>
       <dl>
        <dd data-md>
         <p><strong>enum</strong> <em>identifier</em></p>
       </dl>
       <p>
        without an enumerator list shall only appear 
        <ins>in a context where incomplete types are allowed or</ins>
         after the type it specifies is complete. 
        <ins>For an enumeration without fixed underlying type, it is considered complete only after the closing <strong>}</strong> of its enumerator list. For an enumeration with fixed underlying type, it is complete after its enum type specifier.</ins>
       </p>
      </div>
      <div> … </div>
      <div class="wording-numbered wording-numbered-7">
       <p>A type specifier of the form</p>
       <dl>
        <dd data-md>
         <p><em>struct-or-union</em> <i>attribute-specifier-sequence<sub>opt</sub></i> <i>identifier<sub>opt</sub></i> <strong>{</strong> <em>member-declaration-list</em> }</p>
       </dl>
       <p>or</p>
       <dl>
        <dd data-md>
         <p>
          <strong>enum</strong> <i>attribute-specifier-sequence<sub>opt</sub></i> <i>identifier<sub>opt</sub></i> 
          <ins><i>enum-type-specifier<sub>opt</sub></i></ins>
           <strong>{</strong> <em>enumerator-list</em> <strong>}</strong>
         </p>
       </dl>
       <p>or</p>
       <dl>
        <dd data-md>
         <p>
          <strong>enum</strong> <i>attribute-specifier-sequence<sub>opt</sub></i> <i>identifier<sub>opt</sub></i> 
          <ins><i>enum-type-specifier<sub>opt</sub></i></ins>
           <strong>{</strong> <em>enumerator-list</em> <strong>,</strong> <strong>}</strong>
         </p>
       </dl>
       <p>declares a structure, union, or enumerated type. …</p>
      </div>
      <div> … </div>
      <div class="wording-numbered wording-numbered-8">
        A declaration of the form 
       <dl>
        <dd data-md>
         <p><em>struct-or-union</em> <i>attribute-specifier-sequence<sub>opt</sub></i> <em>identifier</em> <b>;</b></p>
       </dl>
       <ins>or</ins>
       <dl>
        <dd data-md>
         <ins>
          <strong>enum</strong> <i>attribute-specifier-sequence<sub>opt</sub></i> <em>identifier</em> 
          <ins><i>enum-type-specifier<sub>opt</sub></i></ins>
           <b>;</b>
         </ins>
       </dl>
       <p>
        specifies a 
        <del>structure or union type</del>
        <ins>structure, union, or enumerated type</ins>
         and declares the identifier as a tag of that type.<sup>142)</sup> 
        <ins>If the enumerated type does not contain the enum type specifier, the enumerated type is incomplete. Otherwise, the enumerated type is complete.</ins>
         The optional attribute specifier sequence appertains to the structure or union type being declared; the attributes in that attribute specifier sequence are thereafter considered attributes of the structure or union type whenever it is named.
       </p>
      </div>
      <div class="wording-numbered wording-numbered-9">
        If a type specifier of the form 
       <dl>
        <dd data-md>
         <p><em>struct-or-union</em> <i>attribute-specifier-sequence<sub>opt</sub></i> <em>identifier</em></p>
       </dl>
       <ins>or</ins>
       <dl>
        <dd data-md>
         <ins><strong>enum</strong> <i>attribute-specifier-sequence<sub>opt</sub></i> <em>identifier</em></ins>
       </dl>
       <p>
        occurs other than as part of one of the above forms, and no other declaration of the identifier as a tag is visible, then it declares an incomplete 
        <del>structure or union type</del>
        <ins>structure, union, or enumerated type</ins>
        , and declares the identifier as the tag of that type.
        <del><sup>142)</sup></del>
       </p>
       <div>
        <del> <sup>142)</sup><sub>A similar construction with enum does not exist.</sub> </del>
       </div>
      </div>
      <div class="wording-numbered wording-numbered-10">
        If a type specifier of the form 
       <dl>
        <dd data-md>
         <p><em>struct-or-union</em> <i>attribute-specifier-sequence<sub>opt</sub></i> <em>identifier</em></p>
       </dl>
       <p>or</p>
       <dl>
        <dd data-md>
         <p>
          <strong>enum</strong> 
          <ins><i>attribute-specifier-sequence<sub>opt</sub></i></ins>
           <em>identifier</em> 
          <ins><i>enum-type-specifier<sub>opt</sub></i></ins>
         </p>
       </dl>
       <p>occurs other than as part of one of the above forms, and a declaration of the identifier as a tag is visible, then it specifies the same type as that other declaration, and does not redeclare the tag.</p>
      </div>
     </div>
    </div>
   </blockquote>
   <h4 class="heading settled" data-level="5.2.5" id="wording-specification-annex-j"><span class="secno">5.2.5. </span><span class="content">Add implementation-defined enumeration behavior to Annex J</span><a class="self-link" href="#wording-specification-annex-j"></a></h4>
   <h2 class="heading settled" data-level="6" id="acknowledgements"><span class="secno">6. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
   <p>Thanks to:</p>
   <ul>
    <li data-md>
     <p>Aaron Ballman for help with the initial drafting;</p>
    <li data-md>
     <p>Aaron Ballman, Aaron Bachmann, Jens Gustedt &amp; Joseph Myers for questions, suggestions and offline discussion;</p>
    <li data-md>
     <p>Robert Seacord for editing suggestions; and,</p>
    <li data-md>
     <p>Joseph Myers for detailed discussion on the issues with enumerated types, completeness, and more.</p>
    <li data-md>
     <p>Clive Pygott for the initial revisions of this paper before the next author was added in to help.</p>
   </ul>
   <p>We hope this paper serves you all well.</p>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>