<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>N2827: Modern Bit Utilities</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: none;
		border-bottom: 1px solid #707070;
		border-bottom: 1px solid var(--a-normal-underline);
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		border-bottom-color: #bbb;
		border-bottom-color: var(--a-visited-underline);
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		border-color: #c00;
		border-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom: 3px solid #054572;
			border-bottom: 3px solid var(--toclink-underline);
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span:not(.dfn-paneled) {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<style type="text/css">
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      vertical-align: top;
    }
    th, td {
      border-left: none;
      border-right: none;
      padding: 0px 10px;
    }
    th {
      text-align: center;
    }
  </style>
  <meta content="Bikeshed version b94c7e755, updated Fri Feb 19 16:28:59 2021 -0800" name="generator">
  <link href="https://thephd.dev/_vendor/future_cxx/papers/C%20-%20Moder%20Bit%20Utilities.html" rel="canonical">
  <link href="https://isocpp.org/favicon.ico" rel="icon">
  <meta content="348784e531071496cfaf924255598198816e6030" name="document-revision">
<style>

:root {
	/* Default (light) theme */
	--del-text-color: rgb(255, 25, 25);
	--del-text-background-color: rgb(255, 175, 175);
	--ins-text-color: rgb(10, 180, 35);
	--ins-text-background-color: rgb(175, 250, 190);
}

/* dark theme */
@media (prefers-color-scheme: dark) {
	:root {
		--del-text-color: rgb(255, 52, 52);
		--del-text-background-color: rgb(82, 25, 25);
		--ins-text-color: rgb(140, 255, 140);
		--ins-text-background-color: rgb(25, 82, 25);
	}
}

@media print {
	.pagebreak { break-after: always }
}

.tg  {
	border-collapse: collapse;
	border-spacing:0;
}

.tg td{
	padding:10px 10px;
	border-style: solid;
	border-width:1px;
	overflow: hidden;
	word-break: normal;
	border-color: var(--table-border-color, inherit);
}
.tg th{
	font-weight: normal;
	padding: 10px 10px;
	border-style: solid;
	border-width: 1px;
	overflow: hidden;
	word-break: normal;
	border-color: black;
}
.tg .tg-c3ow { 
	border-color: inherit;
	text-align: center;
	vertical-align: top
}

.ins, ins, ins p, ins div, span.ins, span.ins * {
	background-color: var(--ins-text-background-color);
	background: var(--ins-text-background-color);
	color: var(--ins-text-color);
}

ins * {
	text-decoration: underline;
	text-decoration-color: var(--ins-text-color);
}

.del, del, del p, del div, span.del, span.del * {
	background-color: var(--del-text-background-color);
	background: var(--del-text-background-color);
	color: var(--del-text-color);
}

del * {
	text-decoration: line-through;
	text-decoration-color: var(--del-text-color);
}

code.c-kw {
	font-weight: bold;
}

math, span.math {
	font-family: serif;
	font-style: italic;
}

ul {
	list-style-type: "— ";
}

div.wording-section-header {
	display: block;
	padding-bottom: 2em;
	clear: both;
}

.clause-title {
	float: left;
}

.stable-tag {
	float: right;
}

div.wording-section {
	counter-reset: wording-paragraph;
}

div.wording-numbered-0 {
	counter-reset: wording-paragraph -1;
}

div.wording-numbered-1 {
	counter-reset: wording-paragraph 0;
}

div.wording-numbered-2 {
	counter-reset: wording-paragraph 1;
}

div.wording-numbered-3 {
	counter-reset: wording-paragraph 2;
}

div.wording-numbered-4 {
	counter-reset: wording-paragraph 3;
}

div.wording-numbered-5 {
	counter-reset: wording-paragraph 4;
}

div.wording-numbered-6 {
	counter-reset: wording-paragraph 5;
}

div.wording-numbered-7 {
	counter-reset: wording-paragraph 6;
}

div.wording-numbered-8 {
	counter-reset: wording-paragraph 7;
}

div.wording-numbered-9 {
	counter-reset: wording-paragraph 8;
}

div.wording-numbered-10 {
	counter-reset: wording-paragraph 9;
}

div.wording-numbered, div.wording-newnumbered {
	margin-left: 2em;
	margin-top: 1em;
	margin-bottom: 1em;
}

div.wording-numbered:before, div.wording-newnumbered:before {
	position: absolute;
	margin-left: -2em;
	display: block;
}

div.wording-numbered:before {
	content: counter(wording-paragraph);
	counter-increment: wording-paragraph;
}

div.wording-newnumbered:before {
	content: "�";
}

div.wording-numbered ul, div.wording-newnumbered ul {
	counter-reset: wording-list-item;
}

div.wording-numbered li, div.wording-newnumbered li {
	margin-left: 3em;
}

div.wording-numbered li:before, div.wording-newnumbered li:before {
	position: absolute;
	margin-left: -4.8em;
	display-style: block;
}

div.wording-numbered li:before {
	content: "(" counter(wording-paragraph) "." counter(wording-list-item) ")";
	counter-increment: wording-list-item;
}

div.wording-newnumbered li:before {
	content: "(�." counter(wording-list-item) ")";
	counter-increment: wording-list-item;
}

div.wording-numbered li.c-list:before, div.wording-newnumbered li.c-list:before {
	content: "";
	counter-increment: wording-list-item;
}
</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #707070;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #bbb;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">N2827<br>Modern Bit Utilities</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Published Proposal, <time class="dt-updated" datetime="2021-11-15">2021-11-15</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Previous Revisions:
     <dd>None
     <dt class="editor">Author:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:phdofthehouse@gmail.com">JeanHeyd Meneide</a>
     <dt>Paper Source:
     <dd><a href="https://github.com/ThePhD/future_cxx/blob/main/papers/source/C%20-%20Modern%20Bit%20Utilities.bs">GitHub</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/ThePhD/future_cxx/issues">GitHub</a>
     <dt>Project:
     <dd>ISO/IEC JTC1/SC22/WG14 9899: Programming Language — C
     <dt>Proposal Category:
     <dd>Change Request
     <dt>Target:
     <dd>General Developers
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>Endian preprocessor macros, byte swapping, big endian / little endian load and store, functions, and several bit utilities that have become commonplace amongst compilers, bytecodes, and implementations.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#changelog"><span class="secno">1</span> <span class="content">Changelog</span></a>
     <ol class="toc">
      <li><a href="#changelog-r1"><span class="secno">1.1</span> <span class="content">Revision 1 - November 15th, 2021</span></a>
      <li><a href="#changelog-r0"><span class="secno">1.2</span> <span class="content">Revision 0 - October 15th, 2021</span></a>
     </ol>
    <li>
     <a href="#motivation"><span class="secno">2</span> <span class="content">Introduction &amp; Motivation</span></a>
     <ol class="toc">
      <li><a href="#motivation-speed"><span class="secno">2.1</span> <span class="content">Bits: How Much Faster?</span></a>
     </ol>
    <li>
     <a href="#design"><span class="secno">3</span> <span class="content">Design</span></a>
     <ol class="toc">
      <li><a href="#design-stdc"><span class="secno">3.1</span> <span class="content">Preliminary: Why the <code class="highlight"><c- n>stdc_</c-></code> prefix?</span></a>
      <li><a href="#design-static.size"><span class="secno">3.2</span> <span class="content">Charter: <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- k>const</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- k>sizeof</c-><c- p>(</c-><c- n>uintN_t</c-><c- p>)]</c-></code> and More?</span></a>
      <li>
       <a href="#design-endian"><span class="secno">3.3</span> <span class="content">The <code class="highlight"><c- n>__STDC_ENDIAN_</c-><c- o>*</c-></code> Macros</span></a>
       <ol class="toc">
        <li><a href="#design-endian-horrors"><span class="secno">3.3.1</span> <span class="content">A (Brief) Discussion of Endianness</span></a>
        <li><a href="#design-endian-run.time"><span class="secno">3.3.2</span> <span class="content">Hey! Some Architectures Can Change Their Endianness at Run-time!</span></a>
        <li><a href="#design-endian-floating"><span class="secno">3.3.3</span> <span class="content">Floating Point has a Byte Order, Too.</span></a>
       </ol>
      <li>
       <a href="#design-memreverse"><span class="secno">3.4</span> <span class="content">Generic 8-bit Memory Reverse and Exact-width 8-bit Memory Reverse</span></a>
       <ol class="toc">
        <li><a href="#design-memreverse-danger"><span class="secno">3.4.1</span> <span class="content">But Memory Reverse Is Dangerous?</span></a>
       </ol>
      <li><a href="#design-endianness"><span class="secno">3.5</span> <span class="content"><code class="highlight"><c- n>stdc_load8_</c-><c- o>*</c-></code>/<code class="highlight"><c- n>stdc_store8_</c-><c- o>*</c-></code> Endian-Aware Functions</span></a>
      <li>
       <a href="#design-bit"><span class="secno">3.6</span> <span class="content">Modern Bit Utilities</span></a>
       <ol class="toc">
        <li><a href="#design-bit-uintmax_t"><span class="secno">3.6.1</span> <span class="content">"Why not only generic interfaces or <code class="highlight"><c- p>(</c-><c- n>u</c-><c- p>)</c-><c- b>intmax_t</c-></code> interfaces?"</span></a>
        <li><a href="#design-bit-generic"><span class="secno">3.6.2</span> <span class="content">Type-Generic Macros and Counts for Types</span></a>
        <li><a href="#design-bit-arguments"><span class="secno">3.6.3</span> <span class="content">Argument Types</span></a>
        <li><a href="#design-bit-returns"><span class="secno">3.6.4</span> <span class="content">Return Types</span></a>
        <li><a href="#design-bit-count_ones.count_zeroes"><span class="secno">3.6.5</span> <span class="content"><code class="highlight"><c- n>stdc_count_ones</c-></code>/<code class="highlight"><c- n>stdc_count_zeroes</c-></code></span></a>
        <li><a href="#design-bit-stdc_rotate_left.stdc_rotate_right"><span class="secno">3.6.6</span> <span class="content"><code class="highlight"><c- n>stdc_rotate_left</c-></code>/<code class="highlight"><c- n>stdc_rotate_right</c-></code></span></a>
        <li><a href="#design-bit-leading.trailing.zeros.ones"><span class="secno">3.6.7</span> <span class="content"><code class="highlight"><c- n>stdc_count_leading_zeros</c-></code>, <code class="highlight"><c- n>stdc_count_leading_ones</c-></code>, <code class="highlight"><c- n>stdc_count_trailing_zeros</c-></code>, and <code class="highlight"><c- n>stdc_count_trailing_ones</c-></code></span></a>
        <li><a href="#design-bit-first_leading.trailing_zeros.ones"><span class="secno">3.6.8</span> <span class="content"><code class="highlight"><c- n>stdc_first_leading_zero</c-></code>, <code class="highlight"><c- n>stdc_first_leading_one</c-></code>, <code class="highlight"><c- n>stdc_first_trailing_zero</c-></code>, and <code class="highlight"><c- n>stdc_first_trailing_one</c-></code></span></a>
        <li><a href="#design-bit-stdc_has_single_bit"><span class="secno">3.6.9</span> <span class="content"><code class="highlight"><c- n>stdc_has_single_bit</c-></code></span></a>
        <li><a href="#design-bit-stdc_bit_ceil"><span class="secno">3.6.10</span> <span class="content"><code class="highlight"><c- n>stdc_bit_width</c-></code>/<code class="highlight"><c- n>stdc_bit_ceil</c-></code>/<code class="highlight"><c- n>stdc_bit_floor</c-></code></span></a>
       </ol>
     </ol>
    <li><a href="#questions"><span class="secno">4</span> <span class="content">Committee Polls / Questions</span></a>
    <li>
     <a href="#wording"><span class="secno">5</span> <span class="content">Wording</span></a>
     <ol class="toc">
      <li><a href="#wording-4p6"><span class="secno">5.1</span> <span class="content">Add <code class="highlight"><c- o>&lt;</c-><c- n>stdbit</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> to freestanding headers in §4, paragraph 6</span></a>
      <li><a href="#wording-7.1.3p1"><span class="secno">5.2</span> <span class="content">Add a new bullet point at the top for globally-reserved macro and library names to §7.1.3 "Reserved Identifiers, paragraph 1.</span></a>
      <li>
       <a href="#wording-7.3�x"><span class="secno">5.3</span> <span class="content">Add a new §7.3�x sub-clause for "Bit and Byte Utilities" in §7</span></a>
       <ol class="toc">
        <li><a href="#wording-7.3�x-endianness"><span class="secno">5.3.1</span> <span class="content">Add a new §7.3�x.1 sub-sub-clause for "Endian" in §7.3�x</span></a>
        <li><a href="#wording-7.3�x-reordering"><span class="secno">5.3.2</span> <span class="content">Add a new §7.3�x.2 sub-sub-clause for "Memory Reordering" in §7.3�x</span></a>
        <li><a href="#wording-7.3�x-endian.aware.load.store"><span class="secno">5.3.3</span> <span class="content">Add a new §7.3�x.4 sub-sub-clause for "Endian Aware" functions in §7.3�x</span></a>
        <li><a href="#wording-7.3�x-low.level.bit"><span class="secno">5.3.4</span> <span class="content">Add a new §7.3�x.6 sub-sub-clause for Low-Level Bit Utilities in §7.3�x</span></a>
        <li><a href="#wording-7.3�x-fundamental.bit"><span class="secno">5.3.5</span> <span class="content">Add a new §7.3�x.3 sub-sub-clause for Fundamental Bit Utilities in §7.3�x</span></a>
       </ol>
      <li><a href="#wording-annexj.3"><span class="secno">5.4</span> <span class="content">Add one new entry for Implementation-Defined Behavior in Annex J.3</span></a>
      <li><a href="#wording-annexj.1"><span class="secno">5.5</span> <span class="content">Modify an existing entry for Unspecified behavior in Annex J.1</span></a>
     </ol>
    <li>
     <a href="#appendix"><span class="secno">6</span> <span class="content">Appendix</span></a>
     <ol class="toc">
      <li><a href="#appendix-implementations"><span class="secno">6.1</span> <span class="content">Example Implementations in Publicly-Available Libraries</span></a>
      <li><a href="#appendix-stdc_count_ones"><span class="secno">6.2</span> <span class="content">Implementation of Generic <code class="highlight"><c- n>stdc_count_ones</c-></code></span></a>
      <li><a href="#appendix-stdc_bit_ceil"><span class="secno">6.3</span> <span class="content">Implementation of Generic <code class="highlight"><c- n>stdc_bit_ceil</c-></code></span></a>
      <li>
       <a href="#appendix-enumeration"><span class="secno">6.4</span> <span class="content">Endian Enumeration</span></a>
       <ol class="toc">
        <li><a href="#appendix-enumeration-rationale"><span class="secno">6.4.1</span> <span class="content">Rationale</span></a>
       </ol>
     </ol>
    <li><a href="#acknowledgements"><span class="secno">7</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <div class="pagebreak"></div>
   <h2 class="heading settled" data-level="1" id="changelog"><span class="secno">1. </span><span class="content">Changelog</span><a class="self-link" href="#changelog"></a></h2>
   <h3 class="heading settled" data-level="1.1" id="changelog-r1"><span class="secno">1.1. </span><span class="content">Revision 1 - November 15th, 2021</span><a class="self-link" href="#changelog-r1"></a></h3>
   <ul>
    <li data-md>
     <p>Drastically rework design section and motivations after several rounds of feedback from at least 4 vendors, 6 business partners, 3 Open Source maintainers, and more.</p>
    <li data-md>
     <p>Add additional bit utilities and design them from existing practice in C, C++, Go, Rust, Zig, and implementation-specific constraints in Visual C++, CLang, GCC, SDCC, TCC and more.</p>
    <li data-md>
     <p><code class="highlight"><c- n>stdc_first_</c-><c- p>(</c-><c- n>leading</c-><c- o>/</c-><c- n>trailing</c-><c- p>)</c-><c- n>_</c-><c- p>(</c-><c- n>one</c-><c- o>/</c-><c- n>zero</c-><c- p>)</c-></code></p>
    <li data-md>
     <p><code class="highlight"><c- n>stdc_count_</c-><c- p>(</c-><c- n>leading</c-><c- o>/</c-><c- n>trailing</c-><c- p>)</c-><c- n>_</c-><c- p>(</c-><c- n>ones</c-><c- o>/</c-><c- n>zeros</c-><c- p>)</c-></code></p>
    <li data-md>
     <p>Return types for bit functions counting bits is <code class="highlight"><c- b>int</c-></code>, and for type-generic functions computing an input-related value is "type suitably large enough to hold the result".</p>
    <li data-md>
     <p>Arguments types should be <code class="highlight"><c- b>int</c-></code> by default or the target input type, unless otherwise specified.</p>
    <li data-md>
     <p>Provide backing implementation for all functionality in this paper at <a href="https://github.com/soasis/idk">an official repository</a>.</p>
    <li data-md>
     <p>Provide benchmarks showing performance comparisons using the intrinsics vs. not in <a href="#motivation-speed">§ 2.1 Bits: How Much Faster?</a>.</p>
    <li data-md>
     <p>Use <code class="highlight"><c- n>zeros</c-></code> consistently in the function name spelling instead of <code class="highlight"><c- n>zeroes</c-></code>.</p>
   </ul>
   <h3 class="heading settled" data-level="1.2" id="changelog-r0"><span class="secno">1.2. </span><span class="content">Revision 0 - October 15th, 2021</span><a class="self-link" href="#changelog-r0"></a></h3>
   <ul>
    <li data-md>
     <p>Initial release. ✨</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="motivation"><span class="secno">2. </span><span class="content">Introduction &amp; Motivation</span><a class="self-link" href="#motivation"></a></h2>
   <p>There is a lot of proposals and work that goes into figuring out the "byte order" of integer values that occupy more than 1 octet (8 bits). This is nominally important when dealing with data that comes over network interfaces and is read from files, where the data can be laid out in various orders of octets for 2-, 3-, 4-, 6-, or 8-tuples of octets. The most well-known endian structures on existing architectures include "Big Endian", where the least significant bit comes "last" and is featured prominently in network protocols and file protocols; and, "Little Endian", where the least significant bit comes "first" and is typically the orientation of data for processor and user architectures most prevalent today.</p>
   <p>In more legacy architectures (Honeywell, PDP), there also exists other orientations called "mixed" or "middle" endian. The uses of such endianness are of dubious benefit and are vanishingly rare amongst commodity and readily available hardware today, but nevertheless still represent an applicable ordering of octets.</p>
   <p>In other related programming interfaces, the C functions/macros <code class="highlight"><c- n>ntoh</c-></code> ("network to host") and <code class="highlight"><c- n>hton</c-></code> ("host to network") (usually suffixed with <code class="highlight"><c- n>l</c-></code> or <code class="highlight"><c- n>ul</c-></code> or others to specify which native data type it was being performed on such as <code class="highlight"><c- b>long</c-></code>) were used to change the byte order of a value (<a data-link-type="biblio" href="#biblio-ntohl">[ntohl]</a>). This became such a common operation that many compilers - among them Clang and GCC - optimized the code down to use an intrinsic <code class="highlight"><c- n>__builtin_bytewap</c-><c- p>(...)</c-></code>/<code class="highlight"><c- n>__builtin_bswap</c-><c- p>(...)</c-></code> (<a data-link-type="biblio" href="#biblio-msvc-builtins">for MSVC</a>, <a data-link-type="biblio" href="#biblio-clang-builtins">for Clang</a>, and <a data-link-type="biblio" href="#biblio-gcc-builtins">for GCC</a>). These intrinsics often compiled into binary code representing cheap, simple, and fast byte swapping instructions available on many CPUs for 16, 32, 64, and sometimes 128 bit numbers. The <code class="highlight"><c- n>bswap</c-></code>/<code class="highlight"><c- n>byteswap</c-></code> intrinsics were used as the fundamental underpinning for the <code class="highlight"><c- n>ntoh</c-></code> and <code class="highlight"><c- n>hton</c-></code> functions, where a check for the translation-time endianness of the program determined if the byte order would be flipped or not.</p>
   <p>This proposal puts forth the fundamentals that make a homegrown implementation of <code class="highlight"><c- n>htonl</c-></code>, <code class="highlight"><c- n>ntoh</c-></code>, and other endianness-based functions possible in Standard C code. It also addresses many of the compiler-based intrinsics found to generate efficient machine code, with a few simpler utilities layered on top of it.</p>
   <h3 class="heading settled" data-level="2.1" id="motivation-speed"><span class="secno">2.1. </span><span class="content">Bits: How Much Faster?</span><a class="self-link" href="#motivation-speed"></a></h3>
   <p>Just how much faster can using intrinsics and bit operations as proposed in this paper be? Below is a quantification of the performance differences from naïve algorithms that worked over one "bit" at a time by iterating, masking, and searching versus doing the same algorithms with intrinsics. The relevant work has the suffix <code class="highlight"><c- n>itsy_bitsy</c-></code> on it, while the others represent methodologies in publicly available libraries such as the C++ Standard Library or doing the search with manually-written C code, by hand (<code class="highlight"><c- n>_by_hand</c-></code>), and other methods in C and C++. Here is a snapshot of the results:</p>
<pre class="language-cpp highlight"><c- n>Benchmark</c->                            <c- n>Time</c->             <c- n>CPU</c->   <c- n>Iterations</c->

<c- o>======================================================================</c->

<c- n>noop</c->                             <c- mf>0.000</c-> <c- n>ns</c->        <c- mf>0.000</c-> <c- n>ns</c->   <c- mi>1000000000</c->
<c- n>is_sorted_by_hand</c->                 <c- mi>2842</c-> <c- n>ns</c->         <c- mi>2888</c-> <c- n>ns</c->       <c- mi>248889</c->
<c- n>is_sorted_base</c->                   <c- mi>56290</c-> <c- n>ns</c->        <c- mi>57199</c-> <c- n>ns</c->        <c- mi>11200</c->
<c- n>is_sorted_vector_bool</c->           <c- mi>273079</c-> <c- n>ns</c->       <c- mi>278308</c-> <c- n>ns</c->         <c- mi>2358</c->
<c- n>is_sorted_bitset</c->                <c- mi>192486</c-> <c- n>ns</c->       <c- mi>194972</c-> <c- n>ns</c->         <c- mi>3446</c->
<c- n>is_sorted_itsy_bitsy</c->               <c- mi>817</c-> <c- n>ns</c->          <c- mi>820</c-> <c- n>ns</c->       <c- mi>896000</c->
<c- n>is_sorted_until_by_hand</c->           <c- mi>2812</c-> <c- n>ns</c->         <c- mi>2825</c-> <c- n>ns</c->       <c- mi>248889</c->
<c- n>is_sorted_until_base</c->             <c- mi>48404</c-> <c- n>ns</c->        <c- mi>48652</c-> <c- n>ns</c->        <c- mi>14452</c->
<c- n>is_sorted_until_vector_bool</c->     <c- mi>251334</c-> <c- n>ns</c->       <c- mi>251116</c-> <c- n>ns</c->         <c- mi>2800</c->
<c- n>is_sorted_until_bitset</c->          <c- mi>187284</c-> <c- n>ns</c->       <c- mi>185904</c-> <c- n>ns</c->         <c- mi>3446</c->
<c- n>is_sorted_until_itsy_bitsy</c->         <c- mi>679</c-> <c- n>ns</c->          <c- mi>680</c-> <c- n>ns</c->       <c- mi>896000</c->
<c- n>find_by_hand</c->                      <c- mi>2443</c-> <c- n>ns</c->         <c- mi>2455</c-> <c- n>ns</c->       <c- mi>280000</c->
<c- n>find_base</c->                        <c- mi>22696</c-> <c- n>ns</c->        <c- mi>22949</c-> <c- n>ns</c->        <c- mi>32000</c->
<c- n>find_vector_bool</c->                 <c- mi>84364</c-> <c- n>ns</c->        <c- mi>85449</c-> <c- n>ns</c->         <c- mi>8960</c->
<c- n>find_bitset</c->                      <c- mi>90512</c-> <c- n>ns</c->        <c- mi>89979</c-> <c- n>ns</c->         <c- mi>7467</c->
<c- n>find_itsy_bitsy</c->                   <c- mi>2422</c-> <c- n>ns</c->         <c- mi>2400</c-> <c- n>ns</c->       <c- mi>280000</c->
<c- n>fill_by_hand</c->                       <c- mi>256</c-> <c- n>ns</c->          <c- mi>255</c-> <c- n>ns</c->      <c- mi>2635294</c->
<c- n>fill_base</c->                         <c- mi>2533</c-> <c- n>ns</c->         <c- mi>2511</c-> <c- n>ns</c->       <c- mi>280000</c->
<c- n>fill_vector_bool</c->                   <c- mi>254</c-> <c- n>ns</c->          <c- mi>257</c-> <c- n>ns</c->      <c- mi>2800000</c->
<c- n>fill_bitset</c->                     <c- mi>126316</c-> <c- n>ns</c->       <c- mi>125552</c-> <c- n>ns</c->         <c- mi>4978</c->
<c- n>fill_bitset_smart</c->                  <c- mi>255</c-> <c- n>ns</c->          <c- mi>257</c-> <c- n>ns</c->      <c- mi>2800000</c->
<c- n>fill_itsy_bitsy</c->                    <c- mi>259</c-> <c- n>ns</c->          <c- mi>262</c-> <c- n>ns</c->      <c- mi>2800000</c->
<c- n>fill_itsy_bitsy_smart</c->              <c- mi>254</c-> <c- n>ns</c->          <c- mi>255</c-> <c- n>ns</c->      <c- mi>2635294</c->
<c- n>sized_fill_by_hand</c->                 <c- mi>252</c-> <c- n>ns</c->          <c- mi>251</c-> <c- n>ns</c->      <c- mi>2800000</c->
<c- n>sized_fill_base</c->                   <c- mi>2567</c-> <c- n>ns</c->         <c- mi>2567</c-> <c- n>ns</c->       <c- mi>280000</c->
<c- n>sized_fill_vector_bool</c->          <c- mi>113136</c-> <c- n>ns</c->       <c- mi>112305</c-> <c- n>ns</c->         <c- mi>6400</c->
<c- n>sized_fill_bitset</c->               <c- mi>124528</c-> <c- n>ns</c->       <c- mi>125558</c-> <c- n>ns</c->         <c- mi>5600</c->
<c- n>sized_fill_bitset_smart</c->            <c- mi>254</c-> <c- n>ns</c->          <c- mi>251</c-> <c- n>ns</c->      <c- mi>2800000</c->
<c- n>sized_fill_itsy_bitsy</c->              <c- mi>257</c-> <c- n>ns</c->          <c- mi>257</c-> <c- n>ns</c->      <c- mi>2800000</c->
<c- n>sized_fill_itsy_bitsy_smart</c->        <c- mi>256</c-> <c- n>ns</c->          <c- mi>257</c-> <c- n>ns</c->      <c- mi>2800000</c->
<c- n>equal_by_hand</c->                     <c- mi>1020</c-> <c- n>ns</c->         <c- mi>1025</c-> <c- n>ns</c->       <c- mi>640000</c->
<c- n>equal_memcmp</c->                     <c- mf>0.321</c-> <c- n>ns</c->        <c- mf>0.312</c-> <c- n>ns</c->   <c- mi>1000000000</c->
<c- n>equal_base</c->                       <c- mf>0.323</c-> <c- n>ns</c->        <c- mf>0.328</c-> <c- n>ns</c->   <c- mi>1000000000</c->
<c- n>equal_vector_bool</c->               <c- mi>242796</c-> <c- n>ns</c->       <c- mi>239955</c-> <c- n>ns</c->         <c- mi>2800</c->
<c- n>equal_vector_bool_operator</c->      <c- mi>256364</c-> <c- n>ns</c->       <c- mi>254981</c-> <c- n>ns</c->         <c- mi>2635</c->
<c- n>equal_bitset</c->                     <c- mf>0.000</c-> <c- n>ns</c->        <c- mf>0.000</c-> <c- n>ns</c->   <c- mi>1000000000</c->
<c- n>equal_bitset_operator</c->            <c- mf>0.000</c-> <c- n>ns</c->        <c- mf>0.000</c-> <c- n>ns</c->   <c- mi>1000000000</c->
<c- n>equal_itsy_bitsy</c->                   <c- mi>518</c-> <c- n>ns</c->          <c- mi>516</c-> <c- n>ns</c->      <c- mi>1000000</c->
<c- n>equal_itsy_bitsy_operator</c->          <c- mi>513</c-> <c- n>ns</c->          <c- mi>516</c-> <c- n>ns</c->      <c- mi>1120000</c->
<c- n>count_by_hand</c->                     <c- mi>5606</c-> <c- n>ns</c->         <c- mi>5625</c-> <c- n>ns</c->       <c- mi>100000</c->
<c- n>count_base</c->                       <c- mi>46712</c-> <c- n>ns</c->        <c- mi>46490</c-> <c- n>ns</c->        <c- mi>14452</c->
<c- n>count_vector_bool</c->                <c- mi>98263</c-> <c- n>ns</c->        <c- mi>97656</c-> <c- n>ns</c->         <c- mi>6400</c->
<c- n>count_bitset</c->                    <c- mi>111041</c-> <c- n>ns</c->       <c- mi>109863</c-> <c- n>ns</c->         <c- mi>6400</c->
<c- n>count_bitset_smart</c->               <c- mi>11085</c-> <c- n>ns</c->        <c- mi>10986</c-> <c- n>ns</c->        <c- mi>64000</c->
<c- n>count_itsy_bitsy</c->                  <c- mi>5509</c-> <c- n>ns</c->         <c- mi>5580</c-> <c- n>ns</c->       <c- mi>112000</c->
<c- n>count_itsy_bitsy_smart</c->            <c- mi>5500</c-> <c- n>ns</c->         <c- mi>5625</c-> <c- n>ns</c->       <c- mi>100000</c->
</pre>
   <p>For many of the algorithms, the <code class="highlight"><c- n>_itsy_bitsy</c-></code>-suffixed methods approach the <code class="highlight"><c- n>_by_hand</c-></code>-suffixed methodologies in terms of performance, while other clever C++ algorithms fall by the wayside. Where we lose out is with statically-sized bit vectors whose data is known ahead at compile-time, and therefore <code class="highlight"><c- n>constexpr</c-></code> and constant folding in C++ beats out the hand-written or <code class="highlight"><c- n>_itsy_bitsy</c-></code> optimization routines powered by the low-level intrinsics in this paper.</p>
   <p>Overall, this demonstrates that having easy access to consistent, dependable intrinsics allows developers to painlessly produce well-optimized routines for a number of algorithm and problem domains. There is a question of how many intrinsics we want to include and in what forms, or if we just want all of them. This paper selects the most useful subset found in the wild in various computing domains.</p>
   <h2 class="heading settled" data-level="3" id="design"><span class="secno">3. </span><span class="content">Design</span><a class="self-link" href="#design"></a></h2>
   <p>This is a library addition. It is meant to expose both macros and functions that can be used for translation time-suitable checks. It provides a way to check endianness within the preprocessor, and gives definitive names that allow for knowing whether the endianness is big, little, or neither. We state big, little, or neither, because there is no settled-upon name for the legacy endianness of "middle" or "mixed", nor any agreed upon ordering for such a "middle" or "mixed" endianness between architectures. This is not the case for big endian or little endian, where one is simply the reverse of the other, always, in every case, across architectures, file protocols, and network specifications.</p>
   <p>The next part of the design is functions for working with groupings of 8 bits. They are meant to communicate with network or file protocols and formats that have become ubiquitous in computing for the last 30 years.</p>
   <p>This design also provides a small but essential suite of bit utilities, all within the <code class="highlight"><c- cp>#include</c-> &lt;stdbit.h></code> header.</p>
   <h3 class="heading settled" data-level="3.1" id="design-stdc"><span class="secno">3.1. </span><span class="content">Preliminary: Why the <code class="highlight"><c- n>stdc_</c-></code> prefix?</span><a class="self-link" href="#design-stdc"></a></h3>
   <p>We use the <code class="highlight"><c- n>stdc_</c-></code> prefix for these functions so that we do not have to struggle with taking common words away from the end user. Because we now have 31 bytes of linker name significance, we can afford to have some sort of prefix rather than spend all of our time carving out reserved words or header-specific extensions. This will let us have good names that very clearly map to industry practice, without replacing industry code or being forced to be compatible with existing code that already has taken the name with sometimes-conflicting argument conventions.</p>
   <h3 class="heading settled" data-level="3.2" id="design-static.size"><span class="secno">3.2. </span><span class="content">Charter: <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- k>const</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- k>sizeof</c-><c- p>(</c-><c- n>uintN_t</c-><c- p>)]</c-></code> and More?</span><a class="self-link" href="#design-static.size"></a></h3>
   <p>There are 2 choices on how to represent sized pointer arguments. The first is a <code class="highlight"><c- b>void</c-><c- o>*</c-> <c- n>ptr</c-></code> convention for functions arguments in this proposal. The second is an <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- n>n</c-><c- p>]</c-></code>/<code class="highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>sizeof</c-><c- p>(</c-><c- n>uintN_t</c-><c- p>)]</c-></code> convention.</p>
   <p>To start, we still put any <code class="highlight"><c- n>size</c-></code> + <code class="highlight"><c- n>ptr</c-></code> arguments in the proper "size first, pointer second" configuration so that implementation extensions which allow <code class="highlight"><c- b>void</c-> <c- p>[</c-><c- k>static</c-> <c- n>n</c-><c- p>]</c-></code> can exist no matter what choice is made here. That part does not change. The <code class="highlight"><c- b>void</c-><c- o>*</c-></code> argument convention mean that pointers to structures, or similar, can be passed to these functions without needing a cast. This represents the totality of the ease of use argument. The <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- n>n</c-><c- p>]</c-></code> argument convention can produce both better compile-time safety and articulate requirements using purely the function declaration, without needing to look up prose from the C Standard or implementation documentation. The cost is that any use of the function will require a cast in strictly conforming code.</p>
   <p>One of the tipping arguments in favor of our choice of <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- n>n</c-><c- p>]</c-></code> is that <code class="highlight"><c- b>void</c-><c- o>*</c-></code> can be dangerous, especially since we still do not have a <code class="highlight"><c- n>nullptr</c-></code> constant in the language and <code class="highlight"><c- mi>0</c-></code> can be used for both the size and the pointer argument. (Which is, very sadly, an actual bug that happens in existing code. Especially when users mix <code class="highlight"><c- n>memset</c-></code> and <code class="highlight"><c- n>memcpy</c-></code> calls and use the wrong <code class="highlight"><c- mi>0</c-></code> argument because of writing one and meaning the other, and copying values over a large part of their 0-pointer in their low-level driver code.) Using an <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-><c- o>*</c-></code> (or its statically-sized array function argument form) means that usage of the functions below would require explicit casting on the part of the user. This is, in fact, the way it is presented in <a data-link-type="biblio" href="#biblio-portable-endianness">[portable-endianness]</a>: as far as existing practice is concerned, users of the code would rather cast and preserve safety rather than easily use something like <code class="highlight"><c- n>stdc_memreverse8</c-></code> with the guts of their structure.</p>
   <h3 class="heading settled" data-level="3.3" id="design-endian"><span class="secno">3.3. </span><span class="content">The <code class="highlight"><c- n>__STDC_ENDIAN_</c-><c- o>*</c-></code> Macros</span><a class="self-link" href="#design-endian"></a></h3>
   <p>The enumeration is specified as follows:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- cp>#define __STDC_ENDIAN_LITTLE__ </c-><c- d>/* some unique value */</c->
<c- cp>#define __STDC_ENDIAN_BIG__ </c-><c- d>/* some other unique value */</c->
<c- cp>#define __STDC_ENDIAN_NATIVE__ </c-><c- d>/* see below! */</c->
</pre>
   <p>The goal of these macros is that if the system identifies as a "little endian" system, then <code class="highlight"><c- n>__STDC_ENDIAN_LITTLE__</c-> <c- o>==</c-> <c- n>__STDC_ENDIAN_NATIVE__</c-></code>, and that is how an end-user knows that the implementation is little endian. Similarly, a user can check <code class="highlight"><c- n>__STDC_ENDIAN_BIG__</c-> <c- o>==</c-> <c- n>__STDC_ENDIAN_NATIVE__</c-></code>, and they can know the implementation is big endian. Finally, if the system is neither big nor little endian, than <code class="highlight"><c- n>__STDC_ENDIAN_NATIVE__</c-></code> is a unique value that does not compare equal to either value:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>
<c- cp>#include</c-> &lt;stdio.h>

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
	<c- k>if</c-> <c- p>(</c-><c- n>__STDC_ENDIAN_NATIVE__</c-> <c- o>==</c-> <c- n>__STDC_ENDIAN_LITTLE__</c-><c- p>)</c-> <c- p>{</c->
		<c- n>printf</c-><c- p>(</c-><c- s>"little endian! uwu</c-><c- se>\n</c-><c- s>"</c-><c- p>);</c->
	<c- p>}</c->
	<c- k>else</c-> <c- k>if</c-> <c- p>(</c-><c- n>__STDC_ENDIAN_NATIVE__</c-> <c- o>==</c-> <c- n>__STDC_ENDIAN_BIG__</c-><c- p>)</c-> <c- p>{</c->
		<c- n>printf</c-><c- p>(</c-><c- s>"big endian OwO!</c-><c- se>\n</c-><c- s>"</c-><c- p>);</c->
	<c- p>}</c->
	<c- k>else</c-> <c- p>{</c->
		<c- n>printf</c-><c- p>(</c-><c- s>"what is this?!</c-><c- se>\n</c-><c- s>"</c-><c- p>);</c->
	<c- p>}</c->
	<c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>If a user has a Honeywell architecture or a PDP architecture, it is up to them to figure out which flavor of "middle endian"/"mixed endian"/"bi endian" they are utilizing. We do not give these a name in the set of macros because neither the Honeywell or PDP communities ever figured out which flavor of the 32-bit byte order of <code class="highlight"><c- mi>2341</c-></code>/<code class="highlight"><c- mi>3412</c-></code>/<code class="highlight"><c- mi>2143</c-></code>/etc. was strongly assigned to which name ("mixed" endian? "mixed-big" endian? "bi-little" endian?), and since this is not a settled matter in existing practice we do not provide a name for it in the C Standard. It is also of dubious determination what the byte order for a 3-byte, 5-byte, 6-byte, or 7-byte integer is in these mixed-endian types, whereas both big and little have dependable orderings.</p>
   <h4 class="heading settled" data-level="3.3.1" id="design-endian-horrors"><span class="secno">3.3.1. </span><span class="content">A (Brief) Discussion of Endianness</span><a class="self-link" href="#design-endian-horrors"></a></h4>
   <p>There is a LOT of design space and deployed existing practice in the endianness space of both architectures and their instruction sets. A non-exhaustive list of behaviors is as follows:</p>
   <ul>
    <li data-md>
     <p>Instruction set, OS, and register conventions are in-sync (Windows, Apple, and most *Nix Distributions).</p>
    <li data-md>
     <p>Instruction set has variability that can be toggled (ARM with the <code class="highlight"><c- n>SETEND</c-></code> instruction).</p>
    <li data-md>
     <p>Instruction set has no variability, but data can be stored in unconventional endianness (RISC-V, mainframe architectures, and similar).</p>
    <li data-md>
     <p>Instruction set has no variability, but it changes endianness between types/sizes (FORTRAN-implemented floating point units used Big Endian, PDP-11 compatibility with those machines required 32-bit big-endian instructions on a little-endian machine (hilarity/shenanigans ensued)).</p>
    <li data-md>
     <p>Instruction set has no variability, but historical weight forces certain choices (PDP-11 had 16-bit little-endian integers. Some folk interpreted two of them next to each other as a single 32-bit integer, resulting in the <code class="highlight"><c- mi>2143</c-></code> byte order).</p>
   </ul>
   <p>Suffice to say, there exists a lot of deployed practice. Note that this list effectively has these concerns in priority order. The first is the most conventional software; as the list goes down, each occurrence becomes more rare and less interesting. Therefore, we try not to spend too much time focusing on what are effectively the edge cases of software and hardware. Some of the past choices in endianness and similar were simply due "going with the flow" (PDP’s "2143" order) or severe historical baggage (early FORTRAN dealing in big endian floating point numbers, and those algorithms and serialization methods being given to PDP machines without thinking about the ordering). With much of the industry moving away from such modes in both newer mainframes and architectures and towards newer implementations and architectures, it does not seem prudent to try to standardize the multitude of their behaviors.</p>
   <p>This proposal constraints its definition of endianness to integer types without padding, strictly because trying to capture the vast berth of existing architectures and their practices can quickly devolve down a slope that deeply convolutes this proposal’s core mission: endian and bit utilities.</p>
   <h4 class="heading settled" data-level="3.3.2" id="design-endian-run.time"><span class="secno">3.3.2. </span><span class="content">Hey! Some Architectures Can Change Their Endianness at Run-time!</span><a class="self-link" href="#design-endian-run.time"></a></h4>
   <p>This is beyond the scope of this proposal. This is meant to capture the translation-time endianness. There also does not appear to be any operating system written today that can tolerate an endianness change of the <strong>whole program</strong> happening arbitrarily at runtime, after a program has launched. This means that the property is effectively a translation-time property, and therefore can be exposed as a compile-time constant. A future proposal to determine the run-time byte order is more than welcome from someone who has suitable experience dealing with such architectures and programs, and this proposal does not preclude their ability to provide such a run-time function e.g. <code class="highlight"><c- n>stdc_endian</c-> <c- nf>get_execution_endian</c-><c- p>(</c-><c- b>void</c-><c- p>);</c-></code>.</p>
   <p>Certain instruction sets have ways to set the endianness of registers, to change how data is accessed (<a data-link-type="biblio" href="#biblio-arm-setend">[arm-setend]</a>). This functionality is covered by byte swapping, and byte swaps can be implemented using the <code class="highlight"><c- n>SETEND</c-></code> instruction plus an access. (The compiler would have to remember to unwind the endian state back to its original value, however, or risk contaminating the entire program and breaking things.)</p>
   <h4 class="heading settled" data-level="3.3.3" id="design-endian-floating"><span class="secno">3.3.3. </span><span class="content">Floating Point has a Byte Order, Too.</span><a class="self-link" href="#design-endian-floating"></a></h4>
   <p>For the design of this paper, we strictly consider the design space for (unsigned) integers, only. Floating point numbers already have an implementation-defined byte order, and none of these functions are meant to interact with the floating point types. While the <code class="highlight"><c- n>stdc_memreverse8</c-></code> function can work on any memory region, which includes any structure, scalar, or similar type with or without padding bits, the function just swaps bytes. Nothing needs to be said about padding bits in this case, since the operation is well-defined in all cases.</p>
   <p>It shall be noted that for C++, since C++20, it’s endian enumeration applies to all scalar types:</p>
   <blockquote>
    <p>This subclause describes the endianness of the scalar types of the execution environment.</p>
    <p>— C++ Standard Working Draft, <a href="http://eel.is/c++draft/bit.endian#1">bit.endian/p1</a></p>
   </blockquote>
   <p>It does not specify what this means for padding bits or similar; nor, I think, does it have to. Byte order means very little for padding bits until serialization comes into play. C++ does not define any functions which do byte-order aware serialization. So, it does not have to write any specification governing what may or may not happen and the left is rest undefined / unspecified.</p>
   <p>For this proposal, we focus purely on integer types and, more specifically, on integer types which do not have padding or where we can work with a padding bits-agnostic representation. While it is acknowledged that floating point types and pointers have byte orders too, we do not want to interact directly with these types when it comes to endianness load and store functions. Byte swaps, (bit) population counts, and other bit operations can be performed on floating point types after they have been copied or type-punned (with implementation checking/blessing) into equivalent (unsigned) integer objects to do the necessary work.</p>
   <h3 class="heading settled" data-level="3.4" id="design-memreverse"><span class="secno">3.4. </span><span class="content">Generic 8-bit Memory Reverse and Exact-width 8-bit Memory Reverse</span><a class="self-link" href="#design-memreverse"></a></h3>
   <p>In order to accommodate both a wide variety of architectures but also support minimum-width integer optimized intrinsics, this proposal takes from the industry 2 forms of byteswap:</p>
   <ul>
    <li data-md>
     <p>one generic <code class="highlight"><c- n>mem_</c-></code> version which takes a pointer and the number of bytes to perform a reverse operation; and,</p>
    <li data-md>
     <p>a sequence of exact-width byte swapping instructions which (typically) map directly to intrinsics available in compilers and instructions in hardware.</p>
   </ul>
   <p>These end up inhabiting the <code class="highlight"><c- n>stdbit</c-><c- p>.</c-><c- n>h</c-></code> header and have the following interface:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>
<c- cp>#include</c-> &lt;limits.h>
<c- cp>#include</c-> &lt;stdint.h>

<c- cp>#if (CHAR_BIT % 8 == 0)</c->
<c- b>void</c-> <c- nf>stdc_memreverse8</c-><c- p>(</c-><c- b>size_t</c-> <c- n>n</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- n>n</c-><c- p>]);</c->
<c- n>uintN_t</c-> <c- nf>stdc_memreverse8uN</c-><c- p>(</c-><c- n>uintN_t</c-> <c- n>value</c-><c- p>);</c->
<c- cp>#endif</c->
</pre>
   <p>where <code class="highlight"><c- n>N</c-></code> is one of the minimum-width integer types such as <code class="highlight"><c- mi>8</c-></code>, <code class="highlight"><c- mi>24</c-></code>, <code class="highlight"><c- mi>16</c-></code>, <code class="highlight"><c- mi>32</c-></code>, <code class="highlight"><c- mi>64</c-></code>, <code class="highlight"><c- mi>128</c-></code>, and others. On most architectures, this matches the builtins (<a data-link-type="biblio" href="#biblio-msvc-builtins">MSVC</a>, <a data-link-type="biblio" href="#biblio-clang-builtins">Clang</a>, <a data-link-type="biblio" href="#biblio-gcc-builtins">GCC</a>) and the result of compiler optimizations that produce instructions for many existing architectures as shown in the <a data-link-type="biblio" href="#biblio-portable-endianness">README of this portable endianness function implementation</a>. We use the exact-width values for the <code class="highlight"><c- n>uN</c-></code>-suffixed functions because we <strong>expect</strong> that C compilers would want to lower the <code class="highlight"><c- n>stdc_memreverse8uN</c-></code> call to existing practice of <code class="highlight"><c- n>byteswapN</c-></code> instructions and compiler intrinsics. Using <code class="highlight"><c- n>uint_leastN_t</c-></code> reduces the ability to match these existing optimizations in the case where <code class="highlight"><c- n>uintN_t</c-></code> functions are not defined.</p>
   <p>One property of note is that <code class="highlight"><c- n>memreverse8</c-></code> swaps 8 bits at a time rather than <code class="highlight"><c- n>CHAR_BIT</c-></code> bits at a time (this is why it has the suffix "<code class="highlight"><c- mi>8</c-></code>" in the name). This matches existing practice: all known byteswap operations work on 8 bits. This caveat is here because we need to retain cross-platform behavior. If we swapped to using <code class="highlight"><c- n>CHAR_BIT</c-></code>, then the behavior of a program that uses no implementation-defined properties would suddenly become dependent on implementation/architecture properties:</p>
<pre class="language-cpp highlight"><c- c1>// NOT guaranteed, if it works on CHAR_BIT</c->
<c- c1>// instead of working on 8 bits at a time.</c->
<c- n>assert</c-><c- p>(</c-><c- n>stdc_memreverse8u32</c-><c- p>(</c-><c- mh>0xAABBCCDD</c-><c- p>)</c-> <c- o>==</c-> <c- mh>0xDDCCBBAA</c-><c- p>);</c->
</pre>
   <p>One of the problems with this approach is that it opens us up to potentially having padding bits if <code class="highlight"><c- n>CHAR_BIT</c-></code> is not a multiple of 8. There are a number of approaches to this, but the ultimate reality is that it is simply not portable using any other definition. If the goal is standard functions and the purpose of these types is to create a way to talk to other processors (or different kinds of cores all along the same bus), files in specific formats, or networks, then we have to stick to using an 8-bit byte and not letting unspecified amounts of padding filtering into the representation. This also allows the code, when present, to map reasonably to available intrinsics: note that even the <a data-link-type="biblio" href="#biblio-gcc-builtins">GCC builtins work explicitly on 8-bit-bytes, no matter the platform</a>. We are simply following existing practice, here.</p>
   <h4 class="heading settled" data-level="3.4.1" id="design-memreverse-danger"><span class="secno">3.4.1. </span><span class="content">But Memory Reverse Is Dangerous?</span><a class="self-link" href="#design-memreverse-danger"></a></h4>
   <p>Byte swapping, by itself, is absolutely dangerous in terms of code portability. Users often program strictly for their own architecture when doing serialization, and do not take into consideration that their endianness can change. This means that, while <code class="highlight"><c- n>stdc_memreverse</c-></code> functions can compile down to intrinsics, those intrinsics get employed to change "little endian" to "big endian" without performing the necessary "am I already in the right endianness" check. Values that are <em>already</em> in the proper byte order for their target serialization get swapped, resulting in an incorrect byte order for the target network protocol, file format, or other binary serialization target.</p>
   <p>The inclusion of the <code class="highlight"><c- o>&lt;</c-><c- n>stdbit</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> header reduces this problem by giving access to the <code class="highlight"><c- n>__STDC_NATIVE_ENDIAN__</c-></code> macro definition, but does not fully eliminate it. This is why many Linux and BSDs include functions which directly transcribe from one endianness to another. This is why the <a data-link-type="biblio" href="#biblio-endian-fallacy">Byte Order Fallacy</a> has spread so far in Systems Programming communities, and why many create their own versions of this both in official widespread vendor code (<a data-link-type="biblio" href="#biblio-linux-endian">[linux-endian]</a>) and in more personal code used for specific distributions (<a data-link-type="biblio" href="#biblio-portable-endianness">[portable-endianness]</a>). Thusly, this proposal includes some endianness functions, specified just below.</p>
   <h3 class="heading settled" data-level="3.5" id="design-endianness"><span class="secno">3.5. </span><span class="content"><code class="highlight"><c- n>stdc_load8_</c-><c- o>*</c-></code>/<code class="highlight"><c- n>stdc_store8_</c-><c- o>*</c-></code> Endian-Aware Functions</span><a class="self-link" href="#design-endianness"></a></h3>
   <p>Functions meant to transport bytes to a specific endianness need 3 pieces of information:</p>
   <ul>
    <li data-md>
     <p>the sign of the input/output;</p>
    <li data-md>
     <p>the byte order of the input; and,</p>
    <li data-md>
     <p>the desired byte order of the output.</p>
   </ul>
   <p>To represent any operation that goes from/to the byte order that things like <code class="highlight"><c- b>long</c-> <c- b>long</c-></code>s are kept in, the Linux/BSD/etc. APIs use the term "host", represented by <code class="highlight"><c- n>h</c-></code>. Every other operation is represented by explicitly naming it, particularly as <code class="highlight"><c- n>be</c-></code> or <code class="highlight"><c- n>le</c-></code> for "big endian" or "little endian". Again, because of the severe confusion that comes from what the exact byte order a "mixed endian" multi byte scalar is meant to be in, there seems not to exist any widely available practice regarding what to call a PDP/Honeywell endian configuration. Therefore, mixed/bi/middle-endian is not included in this proposal. It can be added at a later date if the community ever settles on a well-defined naming convention that can be shared between codebases, standards, and industries.</p>
   <p>The specification for the endianness functions borrows from many different sources listed above, and is as follows:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>
<c- cp>#include</c-> &lt;limits.h>
<c- cp>#include</c-> &lt;stdint.h>

<c- cp>#if ((N % CHAR_BIT) == 0 &amp;&amp; (CHAR_BIT % 8 == 0))</c->
<c- b>void</c-> <c- nf>stdc_store8_leuN</c-><c- p>(</c-><c- n>uint_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_beuN</c-><c- p>(</c-><c- n>uint_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>uint_leastN_t</c-> <c- nf>stdc_load8_leuN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>uint_leastN_t</c-> <c- nf>stdc_load8_beuN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_aligned_leuN</c-><c- p>(</c-><c- n>uint_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_aligned_beuN</c-><c- p>(</c-><c- n>uint_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>uint_leastN_t</c-> <c- nf>stdc_load8_aligned_leuN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>uint_leastN_t</c-> <c- nf>stdc_load8_aligned_beuN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->

<c- b>void</c-> <c- nf>stdc_store8_lesN</c-><c- p>(</c-><c- n>int_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_besN</c-><c- p>(</c-><c- n>int_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>int_leastN_t</c-> <c- nf>stdc_load8_lesN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>int_leastN_t</c-> <c- nf>stdc_load8_besN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_aligned_lesN</c-><c- p>(</c-><c- n>int_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_aligned_besN</c-><c- p>(</c-><c- n>int_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>int_leastN_t</c-> <c- nf>stdc_load8_aligned_lesN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>int_leastN_t</c-> <c- nf>stdc_load8_aligned_besN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- cp>#endif</c->
</pre>
   <p>Thanks to some feedback from implementers and librarians, this first implementation would also need an added signed variant to the load and store functions as well as aligned and unaligned loads and stores. While C23 will mandate a two’s complement representation for integers, because we are using the <code class="highlight"><c- n>uint_leastN_t</c-></code> functions (which may be larger than the intended <code class="highlight"><c- n>N</c-> <c- o>==</c-> <c- mi>24</c-></code> or <code class="highlight"><c- n>N</c-> <c- o>==</c-> <c- mi>32</c-></code> specification), it is important for the sign bit to be properly serialized an transported. Therefore, during <code class="highlight"><c- n>stdc_load8_</c-><c- p>(</c-><c- n>le</c-><c- o>/</c-><c- n>be</c-><c- p>)</c-><c- n>sN</c-></code>/<code class="highlight"><c- n>stdc_load8_</c-><c- p>(</c-><c- n>le</c-><c- o>/</c-><c- n>be</c-><c- p>)</c-><c- n>uN</c-></code> operations, the sign bit will be directly serialized into resulting signed value or byte array where necessary.</p>
   <p>This specification is marginally more complicated than the <code class="highlight"><c- n>stdc_memreverseuN</c-></code> functions because they operate on <code class="highlight"><c- n>uint_leastN_t</c-></code>, where <code class="highlight"><c- n>N</c-></code> is the minimum-width bit value. These functions, on most normal implementations, will just fill in the exact number of 8, 16, 32, 64, etc. bits. But for Digital Signal Processors (DSPs), select embedded architectures, and many freestanding implementations, it is impossible to offer a <code class="highlight"><c- n>CHAR_BIT</c-> <c- o>==</c-> <c- mi>8</c-></code> guarantee. For example, some Digital Signal Processors have <code class="highlight"><c- n>CHAR_BIT</c-> <c- o>==</c-> <c- mi>32</c-></code>, and all of <code class="highlight"><c- b>uint_least8_t</c-></code>, <code class="highlight"><c- b>uint_least16_t</c-></code>, <code class="highlight"><c- n>uint_least24_t</c-></code>, and <code class="highlight"><c- b>uint_least32_t</c-></code> are all aliased to the same fundamental type.</p>
   <p>We are fine with not making these precisely <code class="highlight"><c- n>uintN_t</c-></code>/<code class="highlight"><c- n>intN_t</c-></code> because the upcoming C23 Standard includes a specific allowance that if <code class="highlight"><c- n>uintN_t</c-></code>/<code class="highlight"><c- n>intN_t</c-></code> exist, then <code class="highlight"><c- n>uint_leastN_t</c-></code>/<code class="highlight"><c- n>int_leastN_t</c-></code> must match their exact-width counterparts exactly, which has been existing practice on almost all implementations for quite some time now.</p>
   <p>Similarly to <code class="highlight"><c- n>stdc_memreverse8</c-></code>, we want a dependable set of functionality that can work across platforms. Therefore, the functions only exist if both <code class="highlight"><c- n>N</c-></code> and <code class="highlight"><c- n>CHAR_BIT</c-></code> is evenly divisible by 8. We use the <code class="highlight"><c- p>(</c-><c- n>u</c-><c- p>)</c-><c- n>int_leastN_t</c-></code> types still because we want these functions to be generally available when the requirements are met, because we can guarantee a proper value as long as a user is working with <code class="highlight"><c- p>(</c-><c- n>u</c-><c- p>)</c-><c- n>int_leastN_t</c-></code> as anticipated. A lack of padding bits is not required to work with the memory correctly, unlike <code class="highlight"><c- n>stdc_memreverse8</c-></code> and its exact-width counterpart.</p>
   <p>Note that this means a <code class="highlight"><c- n>CHAR_BIT</c-> <c- o>==</c-> <c- mi>16</c-></code> implementation can still implement a <code class="highlight"><c- n>stdc_load8_les24</c-></code> function, as it satisfies both <code class="highlight"><c- p>((</c-><c- n>CHAR_BIT</c-> <c- o>%</c-> <c- mi>8</c-><c- p>)</c-> <c- o>==</c-> <c- mi>0</c-><c- p>)</c-></code> and <code class="highlight"><c- p>((</c-><c- n>N</c-> <c- o>%</c-> <c- mi>8</c-><c- p>)</c-> <c- o>==</c-> <c- mi>0</c-><c- p>)</c-></code> and uses the <code class="highlight"><c- n>int_least24_t</c-></code> parameter, which is guaranteed to be available in that implementation’s <code class="highlight"><c- o>&lt;</c-><c- n>stdint</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> header.</p>
   <h3 class="heading settled" data-level="3.6" id="design-bit"><span class="secno">3.6. </span><span class="content">Modern Bit Utilities</span><a class="self-link" href="#design-bit"></a></h3>
   <p>Additionally to this, upon first pre_review of the paper there was a strong supporting groundswell for bit operations that have long been present in both hardware and as compiler intrinsics. This idea progressed naturally from the <code class="highlight"><c- n>bswap</c-></code> and <code class="highlight"><c- n>__builtin_bswap</c-></code> discussion. As indicated in <a data-link-type="biblio" href="#biblio-p0553">[p0553]</a> (merged into C++20 already), here’s a basic rundown of some common architectures and their support for various bit functionality:</p>
   <table>
    <tbody>
     <tr>
      <th>operation
      <th>Intel/AMD
      <th>ARM
      <th>PowerPC
     <tr>
      <td><code class="highlight"><c- n>rotl</c-></code>
      <td>ROL 
      <td>-
      <td>rldicl
     <tr>
      <td><code class="highlight"><c- n>rotr</c-></code>
      <td>ROR 
      <td>ROR, EXTR
      <td>-
     <tr>
      <td><code class="highlight"><c- n>popcount</c-></code>
      <td>POPCNT
      <td>-
      <td>popcntb
     <tr>
      <td><code class="highlight"><c- n>leading_zero</c-></code>
      <td>BSR, LZCNT
      <td>CLZ
      <td>cntlzd
     <tr>
      <td><code class="highlight"><c- n>leading_one</c-></code>
      <td>-
      <td>CLS
      <td>-
     <tr>
      <td><code class="highlight"><c- n>trailing_zero</c-></code>
      <td>BSF, TZCNT
      <td>-
      <td>-
     <tr>
      <td><code class="highlight"><c- n>trailing_one</c-></code>
      <td>-
      <td>-
      <td>-
   </table>
   <p>Many of the below bit functions are defined below to ease portability to these architectures. For places where specific compiler idioms and automatic detection are not possible, similar assembly tricks or optimized implementations can be provided by C. Further bit functions were also merged into C++, resulting in the current state of the <a href="https://en.cppreference.com/w/cpp/header/bit">C++ bit header</a>.</p>
   <p>There is further a bit of an "infamous" page amongst computer scientists <a data-link-type="biblio" href="#biblio-anderson-bit-hacks">for Bit Twiddling Hacks</a>. These may not all map directly to instructions but they provide a broad set of</p>
   <p>We try to take the most useful subset of these functions that most closely represent functionality on both old and new CPU architectures as well as common, necessary operations that have been around in the last 25 years for various industries. We have left out operations such as sign extension, parity computation, bit merging, clear/setting bits, fast negation, bit swaps, lexicographic next bit permutation, and bit interleaving. The rest are more common and appear across a wide range of industries from cryptography to graphics to simulation to efficient property lookup and kernel scheduling.</p>
   <h4 class="heading settled" data-level="3.6.1" id="design-bit-uintmax_t"><span class="secno">3.6.1. </span><span class="content">"Why not only generic interfaces or <code class="highlight"><c- p>(</c-><c- n>u</c-><c- p>)</c-><c- b>intmax_t</c-></code> interfaces?"</span><a class="self-link" href="#design-bit-uintmax_t"></a></h4>
   <p>For many of the bit-based utilities, you will see it introduces functions with several suffixes for the various types. Often, it is asked: why? Even the GCC builtins for things like <code class="highlight"><c- n>popcount</c-></code> only take <code class="highlight"><c- b>long</c-></code> and <code class="highlight"><c- b>long</c-> <c- b>long</c-></code>. The answer is in the blank spaces in the table above: for architectures that do not have perfect instruction mappings for a given built-in type (e.g., ARM for <code class="highlight"><c- n>popcount</c-></code>), the amount of bits one is utilizing for the given function is actually incredibly important. There is a difference between counting for 8 bits in a loop and counting 64 bits (or larger for extended integer types), so the various forms are provided to allow implementations to produce the most efficient code on their platforms when the user requests a specific size.</p>
   <p>The generic interfaces can be used by individuals who want automatic selection of the best. And, as shown in the <a href="#appendix">§ 6 Appendix</a>, platforms can use any builtins or techniques at their disposal to select an appropriate builtin, instruction, or function call to fit the use case.</p>
   <h4 class="heading settled" data-level="3.6.2" id="design-bit-generic"><span class="secno">3.6.2. </span><span class="content">Type-Generic Macros and Counts for Types</span><a class="self-link" href="#design-bit-generic"></a></h4>
   <p>All of the functions below have type generic macros associated with them. This can bring up an interesting question: if the return value depends on the type of the argument going into the function (i.e. for <code class="highlight"><c- n>trailing_zeros</c-></code>, <code class="highlight"><c- n>trailing_ones</c-></code>, <code class="highlight"><c- n>leading_zeros</c-></code>, <code class="highlight"><c- n>leading_ones</c-></code>, <code class="highlight"><c- n>rotate_left</c-></code>, and <code class="highlight"><c- n>rotate_right</c-></code>), is it bad for literal arguments? The answer to this question, however, is the same as its always been when dealing with literal values in C: use the suffix for the appropriate type, or cast, or put it in a <code class="highlight"><c- k>const</c-></code> variable so that it can be used with the expected semantics. We cannot sink macro-based generic code use cases in the off-chance that someone calls <code class="highlight"><c- n>stdc_trailing_zeros</c-><c- p>(</c-><c- mi>0</c-><c- p>)</c-></code> and thinks it returns a dependable answers. Integers (and their literals) are the least portable part of Standard C code: use the exact-width types if you are expecting exact-width semantics. Or, call the fundamental-type suffixed versions to get answers dependable for that given type (e.g., <code class="highlight"><c- n>stdc_trailing_zerosui</c-><c- p>(</c-><c- mi>0</c-><c- p>)</c-></code>).</p>
   <h4 class="heading settled" data-level="3.6.3" id="design-bit-arguments"><span class="secno">3.6.3. </span><span class="content">Argument Types</span><a class="self-link" href="#design-bit-arguments"></a></h4>
   <p>Many of the functions below are defined over the fundamental unsigned integer types, rather than their minimum width or exact width counterparts. This is done to provide maximum portability: users can combine information from the recently-introduced <code class="highlight"><c- p>(</c-><c- n>S</c-><c- o>/</c-><c- n>U</c-><c- p>)</c-><c- n>CHAR</c-><c- o>/</c-><c- p>(</c-><c- n>U</c-><c- p>)</c-><c- n>SHRT</c-><c- o>/</c-><c- p>(</c-><c- n>U</c-><c- p>)</c-><c- n>INT</c-><c- o>/</c-><c- p>(</c-><c- n>U</c-><c- p>)</c-><c- n>LONG</c-><c- o>/</c-><c- p>(</c-><c- n>U</c-><c- p>)</c-><c- n>LLONG_WIDTH</c-></code> macros to determine the width of the sizes at translation time as well as enjoy a disjoint and distinct set of fundamental types over which generic selection works.</p>
   <p>The <code class="highlight"><c- p>(</c-><c- n>u</c-><c- p>)</c-><c- n>int_leastN_t</c-></code> types also have <code class="highlight"><c- n>WIDTH</c-></code> macros, but those macros are not exactly guaranteed to cover a wide range of actual bit sizes either (if the <code class="highlight"><c- n>uintN_t</c-></code> types do not exist, then a conforming implementation can simply just name all of the types as typedefs for <code class="highlight"><c- p>(</c-><c- b>unsigned</c-><c- p>)</c-> <c- b>long</c-> <c- b>long</c-></code> and call it a day). While an implementation could also define each of the distinct fundamental types from <code class="highlight"><c- p>(</c-><c- b>unsigned</c-><c- p>)</c-> <c- b>char</c-></code> to <code class="highlight"><c- p>(</c-><c- b>unsigned</c-><c- p>)</c-> <c- b>long</c-> <c- b>long</c-></code> to all be the same width as well, we are at the very least guaranteed that they are, in fact, distinct types. This makes selection over types in <code class="highlight"><c- k>_Generic</c-></code> predictable and usable (i.e. <code class="highlight"><c- k>_Generic</c-><c- p>(</c-><c- n>x</c-><c- p>,</c-> <c- nl>uint_least32_t</c-><c- p>:</c-> <c- mi>0</c-><c- p>,</c-> <c- nl>uint_least64_t</c-><c- p>:</c-> <c- mi>1</c-><c- p>)</c-></code> is not guaranteed to compile since those types are not required to form a mutually exclusive or disjoint set).</p>
   <p>The exact-width types suffer from non-availability on specific platforms, which makes little sense for functions which do not depend on a no-padding bits requirement. As long as the values read from the array only involve <code class="highlight"><c- n>N</c-></code> bits (including the sign bit), and the rest are zero-initialized, we can have predictable semantics.</p>
   <p>Extended integer types, least-width integer types, and exact-width integer types, can all be used with the type-generic macros since the type-generic macros are required to work over all standard (unsigned) integer types and extended (unsigned) integer types, while excluding <code class="highlight"><c- b>_Bool</c-></code> and bit-precise (<code class="highlight"><c- n>_BitInt</c-><c- p>(</c-><c- n>N</c-><c- p>)</c-></code>) integer types that do not match pre-existing type widths. This provides a complete set of functionality that is maximally portable while also allowing for precise semantic control with exact or least-width types.</p>
   <p>This paper does not concern itself with the implications of passing a <code class="highlight"><c- n>uint_leastN_t</c-></code> to bit-counting type-generic functions like <code class="highlight"><c- n>stdc_leading_zeroes</c-></code> directly: a user must account for such use and be prepared to have types larger than <code class="highlight"><c- n>N</c-></code> bits in width. This is, very literally, what users are signing up for when they use such types and it is their responsibility to query the <code class="highlight"><c- n>UINT_LEASTN_WIDTH</c-></code> macros. We expect users to use the <code class="highlight"><c- n>N</c-></code> of their exact-width integer types with the type-generic macros as well.</p>
   <p>Finally, in general <code class="highlight"><c- b>_Bool</c-></code> objects are disallowed from the above functions. There is just not a meaningful body of functionality that can be provided, and there is a fundamental difference between something that is expected to be a boolean value and something that is expected to be a 1-bit number (even if they can both serve similar purposes). It is also questionable to compute things such as rotation for <code class="highlight"><c- b>_Bool</c-></code> objects. If we can grow a consistent set of answers for these operations across the industry, than we can weaken the requirements and add the behavior in. (Note that if we put it in now and choose a behavior, we cut off any improvements made in the future, so it is best to be conservative here.)</p>
   <h4 class="heading settled" data-level="3.6.4" id="design-bit-returns"><span class="secno">3.6.4. </span><span class="content">Return Types</span><a class="self-link" href="#design-bit-returns"></a></h4>
   <p>There is the question of what is meant to happen for types which return bit counts, such as <code class="highlight"><c- n>stdc_</c-><c- p>(</c-><c- n>leading</c-><c- o>/</c-><c- n>trailing</c-><c- p>)</c-><c- n>_</c-><c- p>(</c-><c- n>ones</c-><c- o>/</c-><c- n>zeros</c-><c- p>)</c-></code>, <code class="highlight"><c- n>stdc_first_</c-><c- p>(</c-><c- n>leading</c-><c- o>/</c-><c- n>trailing</c-><c- p>)</c-><c- n>_</c-><c- p>(</c-><c- n>one</c-><c- o>/</c-><c- n>zero</c-><c- p>)</c-></code>, and <code class="highlight"><c- n>stdc_count_</c-><c- p>(</c-><c- n>ones</c-><c- o>/</c-><c- n>zeros</c-><c- p>)</c-></code>. Ostensibly, part of the motivation to capture here should be that the types used to do things such as rotations should be identical to the return type used to do things like count zeroes, e.g. <code class="highlight"><c- n>stdc_rotate_left</c-><c- p>(</c-><c- n>value</c-><c- p>,</c-> <c- n>stdc_count_zeros</c-><c- p>(</c-><c- n>value</c-><c- p>));</c-></code>. This is mostly non-problematic until someone uses <code class="highlight"><c- n>_BitInt</c-></code>: Clang already supports several megabyte-large <code class="highlight"><c- n>_BitInt</c-></code>. On platforms where <code class="highlight"><c- b>int</c-></code> is actually 16 bits, this is far too small to accommodate even a 1 MB <code class="highlight"><c- n>_BitInt</c-></code>.</p>
   <p>At the moment, the functions do not accept <strong>all</strong> bit-precise integer types (just ones that are bit-width equivalent to the existing standard and extended integer types), so this is <strong>technically</strong> a non-issue. But, if and when bit-precise integer types are given better handling in <code class="highlight"><c- k>_Generic</c-></code> macros or similar features that make them more suitable for type-generic macro implementations, this could become a problem. At the moment, we use wording to defer the issue by saying that type generic macros return a type suitably large for the range of the computed value. This allows us forward compatibility while fixing non-type-generic macro return types to <code class="highlight"><c- b>int</c-></code>. The type-generic macros will have the flexibility from the specification to return larger signed integer types to aid in a smooth transition once bit-precise integer types sees more standard support.</p>
   <h4 class="heading settled" data-level="3.6.5" id="design-bit-count_ones.count_zeroes"><span class="secno">3.6.5. </span><span class="content"><code class="highlight"><c- n>stdc_count_ones</c-></code>/<code class="highlight"><c- n>stdc_count_zeroes</c-></code></span><a class="self-link" href="#design-bit-count_ones.count_zeroes"></a></h4>
   <p><code class="highlight"><c- n>stdc_count_ones</c-></code> (also known as <code class="highlight"><c- n>popcount</c-></code>/Population Count) is an older computer science term taken from the statistics / biology nomenclature to indicate how many bits are set within a grouping. It’s a very useful instruction with applications in everything from game development to scientific computing. It is also directly provided by many instruction sets. It’s antithesis is <code class="highlight"><c- n>stdc_count_zeros</c-></code>, which counts the number of zeros in the type. There exist efficient computation, intrinsics, and instructions for both zeros and ones computation, albeit it is more prevalent as <code class="highlight"><c- n>popcount</c-></code>. We chose the name <code class="highlight"><c- n>stdc_count_zeros</c-></code> and <code class="highlight"><c- n>stdc_count_ones</c-></code> due to not having a good way to describe the zeros-analogous version of <code class="highlight"><c- n>popcount</c-></code> in industry-settled terminology. But, the <code class="highlight"><c- n>count_zeros</c-></code>/<code class="highlight"><c- n>count_ones</c-></code> split has been used to good success in C libraries, C++ libraries, Julia, <a data-link-type="biblio" href="#biblio-rust-count_ones">Rust</a>, and other (standard) libraries.</p>
   <p>The API for it is as such:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- b>int</c-> <c- nf>stdc_count_onesuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_onesus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_onesui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_onesul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_onesull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>int</c-> <c- nf>stdc_count_zerosuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zerosus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zerosui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zerosul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zerosull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- c1>// type-generic macros</c->
<c- b>int</c-> <c- nf>stdc_count_ones</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zeros</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
   <p>It covers all of the built-in unsigned integer types. The type-generic macro supports all of the built-in types as well as any of the implementation-defined extended integer types. See the <a href="#appendix-stdc_count_ones">appendix for an implementation.</a></p>
   <h4 class="heading settled" data-level="3.6.6" id="design-bit-stdc_rotate_left.stdc_rotate_right"><span class="secno">3.6.6. </span><span class="content"><code class="highlight"><c- n>stdc_rotate_left</c-></code>/<code class="highlight"><c- n>stdc_rotate_right</c-></code></span><a class="self-link" href="#design-bit-stdc_rotate_left.stdc_rotate_right"></a></h4>
   <p><code class="highlight"><c- n>stdc_rotate_left</c-></code>/<code class="highlight"><c- n>stdc_rotate_right</c-></code> are common CPU instructions and the forms of the commonly-used circular shifts. They are common operations with applications in cyclic codes. They are commonly expressed (for 32-bit numbers) as <code class="highlight"><c- n>value</c-> <c- o>&lt;</c->​<c- o>&lt;</c-> <c- n>count</c-> <c- o>|</c-> <c- n>value</c-> <c- o>></c->​<c- o>></c-> <c- p>(</c-><c- mi>32</c-> <c- o>-</c-> <c- n>count</c-><c- p>)</c-></code> (rotate left) or <code class="highlight"><c- n>value</c-> <c- o>>></c-> <c- n>count</c-> <c- o>|</c-> <c- n>value</c-> <c- o>&lt;&lt;</c-> <c- p>(</c-><c- mi>32</c-> <c- o>-</c-> <c- n>count</c-><c- p>)</c-></code> (rotate right).</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_rotate_leftuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_rotate_leftus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_rotate_leftui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_rotate_leftul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_rotate_leftull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->

<c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_rotate_rightuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_rotate_rightus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_rotate_rightui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_rotate_rightul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_rotate_rightull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->

<c- c1>// type-generic macro</c->
<c- n>generic_integer_type</c-> <c- nf>stdc_rotate_left</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- n>generic_integer_type</c-> <c- nf>stdc_rotate_right</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
</pre>
   <p>They cover all of the built-in unsigned integer types. Note that <code class="highlight"><c- n>count</c-></code> is a signed integer! If (e.g.) <code class="highlight"><c- n>stdc_rotate_leftuc</c-><c- p>(</c-><c- mi>1</c-><c- p>,</c-> <c- mi>-1</c-><c- p>)</c-></code> is called, it will call itself again with <code class="highlight"><c- n>stdc_rotate_rightuc</c-><c- p>(</c-><c- n>value</c-><c- p>,</c-> <c- o>-</c-><c- n>count</c-><c- p>)</c-></code>; if (e.g.) <code class="highlight"><c- n>stdc_rotate_rightuc</c-><c- p>(</c-><c- mi>1</c-><c- p>,</c-> <c- mi>-1</c-><c- p>)</c-></code> is called, it will call itself again with <code class="highlight"><c- n>stdc_rotate_leftuc</c-><c- p>(</c-><c- n>value</c-><c- p>,</c-> <c- o>-</c-><c- n>count</c-><c- p>)</c-></code>. This matches the behavior from C++ and avoids undefined behavior, while also avoiding too-large shift errors from signed-to-unsigned conversions.</p>
   <p>SDCC and several other compilers optimize for left and right shifts (<a data-link-type="biblio" href="#biblio-sdcc">[sdcc]</a>). Texas Instruments and a handful of other specialist architectures also have "variable shift" instructions (SSHVL), which uses the sign of the argument to shift in one direction or the other (<a data-link-type="biblio" href="#biblio-ti-tms320c64x">[ti-tms320c64x]</a>). Having a <code class="highlight"><c- n>rotate_left</c-></code> where the a negative number produces the opposite <code class="highlight"><c- n>rotate_right</c-></code> cyclic operation (and vice-versa) means that both of these architectures can optimize efficiently in the case of hardcoded constants, and still produce well-defined behavior otherwise (<code class="highlight"><c- n>SSHVL</c-></code> instructions just deploy a "negated by default" for the count value or not, depending on whether the <code class="highlight"><c- n>left</c-></code> or <code class="highlight"><c- n>right</c-></code> variant is called, other architectures propagate the information to shift left or right). This also follows existing practice with analogous functions from the C++</p>
   <h4 class="heading settled" data-level="3.6.7" id="design-bit-leading.trailing.zeros.ones"><span class="secno">3.6.7. </span><span class="content"><code class="highlight"><c- n>stdc_count_leading_zeros</c-></code>, <code class="highlight"><c- n>stdc_count_leading_ones</c-></code>, <code class="highlight"><c- n>stdc_count_trailing_zeros</c-></code>, and <code class="highlight"><c- n>stdc_count_trailing_ones</c-></code></span><a class="self-link" href="#design-bit-leading.trailing.zeros.ones"></a></h4>
   <p><code class="highlight"><c- n>stdc_count_leading_zeros</c-></code>, <code class="highlight"><c- n>stdc_count_leading_ones</c-></code>, <code class="highlight"><c- n>stdc_count_trailing_zeros</c-></code>, and <code class="highlight"><c- n>stdc_count_trailing_zeros</c-></code> are semi-common CPU instruction for counting the number of zeros/ones from the most significant bit ("leading") and the least significant bit ("trailing"). C++ adopted this one using the names of the form <code class="highlight"><c- n>count</c-><c- p>(</c-><c- n>l</c-><c- o>|</c-><c- n>r</c-><c- p>)</c-><c- n>_</c-><c- p>(</c-><c- n>zero</c-><c- o>|</c-><c- n>one</c-><c- p>)</c-></code>. The <code class="highlight"><c- n>l</c-></code>/<code class="highlight"><c- n>r</c-></code> stand for "left" and "right". C++ uses left to match the concept of the left hand side of integers in lexical parsing and left shift operators in C an C++. We choose "leading" and "trailing" here as that’s the more common instruction name, and tie in a little bit better with "most/least significant bit" than "left" or "right" do. The name <code class="highlight"><c- n>most_significant_zeros</c-></code> (and its variations for the other 3 operations) can also work, albeit it would be one of the biggest names in the C standard library if we do choose it. (This could potentially be shortened to <code class="highlight"><c- n>most_signif_zeros</c-></code> or even <code class="highlight"><c- n>most_sig_zeros</c-></code>). It may also run afoul of the 31 minimum linker bytes of significance we have, so we chose these names instead.</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- b>int</c-> <c- nf>stdc_count_leading_zerosuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_zerosus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_zerosui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_zerosul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_zerosull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>int</c-> <c- nf>stdc_count_leading_onesuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_onesus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_onesui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_onesul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_onesull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>int</c-> <c- nf>stdc_count_trailing_zerosuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_zerosus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_zerosui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_zerosul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_zerosull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>int</c-> <c- nf>stdc_count_trailing_onesuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_onesus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_onesui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_onesul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_onesull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- c1>// type-generic macros</c->
<c- b>int</c-> <c- nf>stdc_count_leading_zeros</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_leading_ones</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_zeros</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_trailing_ones</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
   <h4 class="heading settled" data-level="3.6.8" id="design-bit-first_leading.trailing_zeros.ones"><span class="secno">3.6.8. </span><span class="content"><code class="highlight"><c- n>stdc_first_leading_zero</c-></code>, <code class="highlight"><c- n>stdc_first_leading_one</c-></code>, <code class="highlight"><c- n>stdc_first_trailing_zero</c-></code>, and <code class="highlight"><c- n>stdc_first_trailing_one</c-></code></span><a class="self-link" href="#design-bit-first_leading.trailing_zeros.ones"></a></h4>
   <p><code class="highlight"><c- n>stdc_first_leading_zero</c-></code>, <code class="highlight"><c- n>stdc_first_leading_one</c-></code>, <code class="highlight"><c- n>stdc_first_trailing_zero</c-></code>, and <code class="highlight"><c- n>stdc_first_trailing_zero</c-></code> are semi-common CPU instruction (<code class="highlight"><c- n>bsf</c-></code>/<code class="highlight"><c- n>bsr</c-></code> for Intel, <code class="highlight"><c- n>bfffo</c-></code> for Motorola, <code class="highlight"><c- n>ffs</c-></code> for VAX, and so on) for counting the number of zeros/ones from the most significant bit ("leading") and the least significant bit ("trailing"). The caveat here is that it produces the bit index plus one. There are a few compiler-based implementations of this. The first is MSVC’s <code class="highlight"><c- n>_BitScanForward</c-></code> and <code class="highlight"><c- n>_BitScanReverse</c-></code> (with <code class="highlight"><c- mi>64</c-></code> prefix for 64-bit versions). They are meant to mimic Intel’s instruction behavior where a flag is set if "0" is passed, which is returned to the user who called the <code class="highlight"><c- n>_BitScan</c-><c- o>*</c-></code> function. The actual output is populated in an output pointer variable of type <code class="highlight"><c- b>int</c-><c- o>*</c-></code>. Notably, MSVC does not offer any ISA protection: it will emit an illegal CPU instruction if the target architecture doesn’t support the functionality. The other implementations are from Clang, GCC and NVIDIA CUDA, which have a compiler intrinsic which is then mapped to instructions where possible. They returns <code class="highlight"><c- mi>0</c-></code> when the input value is zero.</p>
   <p>We specify things to use the interpretation that <code class="highlight"><c- mi>0</c-></code> produces the return value <code class="highlight"><c- mi>0</c-></code> and otherwise returns <code class="highlight"><c- mi>1</c-> <c- o>+</c-> <c- n>index</c-></code>. This interpretation is favorable because it allows an end-user to easily check the return value in a way consistent with typical C boolean checking, which is with <code class="highlight"><c- k>if</c-> <c- p>(</c-><c- n>result</c-><c- p>)</c-> <c- p>{</c-> <c- p>...</c-> <c- p>}</c-></code>. If <code class="highlight"><c- n>result</c-></code> is zero, than the user knows it’s zero and knows no bit was found. Otherwise, they can proceed and subtract 1 to get the index suitable for shifts. If a user has advanced knowledge, they can simply not branch and immediately subtract.</p>
   <p><code class="highlight"><c- n>ffs</c-></code> and its similar names covers the behavior behind <code class="highlight"><c- n>stdc_first_leading_one</c-></code>. The others are permutations on this behavior: we provide them for completeness, and for the fact that other architectures cover some or part of these other named operations. Whatever happens, <code class="highlight"><c- n>stdc_first_leading_one</c-></code> is incredibly important, if only for the fact that it is responsible for significant speedups in algorithms that scan over bits to find certain behaviors. The others can be built out of different the other existing intrinsics or with specially-crafted code, but not taxing the compiler’s optimize and simply providing the operations directly may be of great benefit.</p>
   <p>It is of note that users can implement the find_first_set by using the <code class="highlight"><c- n>stdc_</c-><c- p>(</c-><c- n>trailing</c-><c- o>/</c-><c- n>leading</c-><c- p>)</c-><c- n>_zeros</c-></code> functions.</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- b>int</c-> <c- nf>stdc_first_leading_zerouc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_zerous</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_zeroui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_zeroul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_zeroull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>int</c-> <c- nf>stdc_first_leading_oneuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_oneus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_oneui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_oneul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_oneull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>int</c-> <c- nf>stdc_first_trailing_zerouc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_zerous</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_zeroui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_zeroul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_zeroull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>int</c-> <c- nf>stdc_first_trailing_oneuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_oneus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_oneui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_oneul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_oneull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- c1>// type-generic macros</c->
<c- b>int</c-> <c- nf>stdc_first_leading_zero</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_leading_one</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_zero</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_first_trailing_one</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
   <h4 class="heading settled" data-level="3.6.9" id="design-bit-stdc_has_single_bit"><span class="secno">3.6.9. </span><span class="content"><code class="highlight"><c- n>stdc_has_single_bit</c-></code></span><a class="self-link" href="#design-bit-stdc_has_single_bit"></a></h4>
   <p>This is a function that determines if an unsigned integer is a power of 2. It can be written either using a normal expression such as <code class="highlight"><c- n>value</c-> <c- o>!=</c-> <c- mi>0</c-> <c- o>&amp;&amp;</c-> <c- p>((</c-><c- n>value</c-> <c- o>&amp;</c-> <c- p>(</c-><c- n>value</c-> <c- o>-</c-> <c- mi>1</c-><c- p>))</c-> <c- o>==</c-> <c- mi>0</c-><c- p>)</c-></code>, or by using <code class="highlight"><c- n>stdc_count_ones</c-><c- p>(</c-><c- n>value</c-><c- p>)</c-> <c- o>==</c-> <c- mi>1</c-></code>. Checking that something is a power of 2 (or that it has a single bit set) is an operation used for checking if something can be turned into a mask value efficiently (useful in specific kinds of containers which specific bit limits like hash tables) and many other applications. This one does not map directly to a hardware instruction.</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- n>_Bool</c-> <c- nf>stdc_has_single_bituc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bitus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bitui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bitul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bitull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- c1>// type-generic macro</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bit</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
   <h4 class="heading settled" data-level="3.6.10" id="design-bit-stdc_bit_ceil"><span class="secno">3.6.10. </span><span class="content"><code class="highlight"><c- n>stdc_bit_width</c-></code>/<code class="highlight"><c- n>stdc_bit_ceil</c-></code>/<code class="highlight"><c- n>stdc_bit_floor</c-></code></span><a class="self-link" href="#design-bit-stdc_bit_ceil"></a></h4>
   <p>These set of functions provide a way to determine the number of bits it takes to represent a given value (<code class="highlight"><c- n>bit_width</c-></code>), the next largest power of 2 from the value (<code class="highlight"><c- n>bit_ceil</c-></code>), the previous largest power of 2 from the value (<code class="highlight"><c- n>bit_floor</c-></code>), and the number of bits required to store the given value. All of these operations are extremely useful, especially in the context of GPUs. <code class="highlight"><c- n>bit_width</c-></code> can be used to drastically simplify the implementation of both <code class="highlight"><c- n>bit_ceil</c-></code> and <code class="highlight"><c- n>bit_floor</c-></code>.</p>
   <p><code class="highlight"><c- n>bit_width</c-></code> can be calculated with <code class="highlight"><c- n>VALUE_WIDTH</c-> <c- o>-</c-> <c- n>stdc_leading_zeros</c-><c- p>(</c-><c- n>value</c-><c- p>)</c-></code>, where <code class="highlight"><c- n>VALUE_WIDTH</c-></code> is one of the <code class="highlight"><c- o>&lt;</c-><c- n>limits</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> macros for the given unsigned integer type. <code class="highlight"><c- n>bit_ceil</c-></code>'s computation is subtle and involves a bit of preparation to avoid problems with integer promotions and bit shifts in specific cases (typically <code class="highlight"><c- b>unsigned</c-> <c- b>char</c-></code>, <code class="highlight"><c- b>char</c-></code>, and <code class="highlight"><c- b>unsigned</c-> <c- b>short</c-></code> on most implementations). This aids in making the case for a would make for a good candidate for standardization (since it can be hard to get right). One can detect integer promotion by checking if <code class="highlight"><c- o>+</c-><c- n>x</c-></code> and <code class="highlight"><c- n>x</c-></code> yield the same type. If not, then an integer promotion happens, and the implementation needs to account for that. See the <a href="#appendix-stdc_bit_ceil">appendix for an implementation</a>. <code class="highlight"><c- n>stdc_bit_floor</c-></code> is simpler, and is comprised of a simple computation of <code class="highlight"><c- n>x</c-> <c- o>==</c-> <c- mi>0</c-> <c- o>?</c-> <c- mi>0</c-> <c- o>:</c-> <c- p>(</c-><c- mi>1</c-> <c- o>&lt;&lt;</c-> <c- p>(</c-><c- n>stdc_bit_width</c-><c- p>(</c-><c- n>x</c-><c- p>)</c-> <c- o>-</c-> <c- mi>1</c-><c- p>))</c-></code> (with appropriately typed / casted constants so the right type is returned without promotions or casts).</p>
   <p>The declarations look as follows:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_bit_flooruc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_bit_floorus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_bit_floorui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_bit_floorul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_bit_floorull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_bit_ceiluc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_bit_ceilus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_bit_ceilui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_bit_ceilul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_bit_ceilull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_bit_widthuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_bit_widthus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_bit_widthui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_bit_widthul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_bit_widthull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- c1>// type-generic macro</c->
<c- n>generic_return_type</c-> <c- nf>stdc_bit_floor</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- n>generic_return_type</c-> <c- nf>stdc_bit_ceil</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
<c- n>generic_return_type</c-> <c- nf>stdc_bit_width</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
   <p>Notably, <code class="highlight"><c- n>stdc_bit_width</c-></code> requires that the number is big enough to fit the representation. Conceivably, it might be beneficial to synchronize these return types and just return <code class="highlight"><c- b>int</c-></code>. But, in the case of something like an implementation for <code class="highlight"><c- n>_BitInt</c-><c- p>(</c-><c- n>N</c-><c- p>)</c-></code>, <code class="highlight"><c- n>N</c-></code> can be so catastrophically enormous that we could not count it in a (presumably 16 or 32-bit) <code class="highlight"><c- b>int</c-></code> or <code class="highlight"><c- b>unsigned</c-> <c- b>int</c-></code> type. C++ always returns the type <code class="highlight"><c- n>T</c-></code> that was put in, and we follow that here since any type is large enough to hold its own width in bits. However, in anticipation of a potentially enormous <code class="highlight"><c- n>N</c-></code> in <code class="highlight"><c- n>_BitWidth</c-><c- p>(</c-><c- n>N</c-><c- p>)</c-></code> — and not wanting to return an e.g. 4 GB <code class="highlight"><c- n>_BitInt</c-></code> to represent a <code class="highlight"><c- n>_BitWidth</c-></code> that has an <code class="highlight"><c- n>N</c-></code> of 4 billion — we allow the return type for the generic functions to be a "suitably large (unsigned/signed) integer type".</p>
   <h2 class="heading settled" data-level="4" id="questions"><span class="secno">4. </span><span class="content">Committee Polls / Questions</span><a class="self-link" href="#questions"></a></h2>
   <p>For the Committee, this proposal is, effectively, five parts:</p>
   <ol>
    <li data-md>
     <p>the endianness definitions;</p>
    <li data-md>
     <p>the <code class="highlight"><c- n>stdc_memreverse8</c-></code> functions (generic and width-specific);</p>
    <li data-md>
     <p>the <code class="highlight"><c- n>stdc_load8_</c-><c- o>*</c-></code>/<code class="highlight"><c- n>stdc_store8_</c-><c- o>*</c-></code> endianness functions;</p>
    <li data-md>
     <p>the suite of low-level bit functions:</p>
     <ul>
      <li data-md>
       <p><code class="highlight"><c- n>stdc_count_</c-><c- p>(</c-><c- n>leading</c-><c- o>/</c-><c- n>trailing</c-><c- p>)</c-><c- n>_</c-><c- p>(</c-><c- n>ones</c-><c- o>/</c-><c- n>zeros</c-><c- p>)</c-></code>,</p>
      <li data-md>
       <p><code class="highlight"><c- n>stdc_count_</c-><c- p>(</c-><c- n>ones</c-><c- o>/</c-><c- n>zeros</c-><c- p>)</c-></code>,</p>
      <li data-md>
       <p><code class="highlight"><c- n>stdc_rotate_</c-><c- p>(</c-><c- n>left</c-><c- o>/</c-><c- n>right</c-><c- p>)</c-></code>, and,</p>
      <li data-md>
       <p><code class="highlight"><c- n>stdc_first_</c-><c- p>(</c-><c- n>leading</c-><c- o>/</c-><c- n>trailing</c-><c- p>)</c-><c- n>_</c-><c- p>(</c-><c- n>zero</c-><c- o>/</c-><c- n>one</c-><c- p>)</c-></code>,</p>
     </ul>
     <p>which map directly to instructions and/or intrinsics; and,</p>
    <li data-md>
     <p>the suite of useful bit functions:</p>
     <ul>
      <li data-md>
       <p><code class="highlight"><c- n>stdc_bit_ceil</c-></code>,</p>
      <li data-md>
       <p><code class="highlight"><c- n>stdc_bit_floor</c-></code>,</p>
      <li data-md>
       <p><code class="highlight"><c- n>stdc_bit_width</c-></code>, and,</p>
      <li data-md>
       <p><code class="highlight"><c- n>stdc_has_single_bit</c-></code>,</p>
     </ul>
     <p>which may not map directly to instructions but are useful nonetheless in a wide variety of contexts</p>
   </ol>
   <p>These can be polled together or separately, depending on what the Committee desires. It is the author’s recommendation that all are adopted to make serialization and bit work with scalars much simpler and easier.</p>
   <h2 class="heading settled" data-level="5" id="wording"><span class="secno">5. </span><span class="content">Wording</span><a class="self-link" href="#wording"></a></h2>
   <p>The following wording is <a data-link-type="biblio" href="#biblio-n2596">relative to N2596</a>.</p>
   <h3 class="heading settled" data-level="5.1" id="wording-4p6"><span class="secno">5.1. </span><span class="content">Add <code class="highlight"><c- o>&lt;</c-><c- n>stdbit</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> to freestanding headers in §4, paragraph 6</span><a class="self-link" href="#wording-4p6"></a></h3>
   <blockquote>
     A conforming freestanding implementation shall accept any strictly conforming program in which the use of the features specified in the library clause (Clause 7) is confined to the contents of the standard headers <code class="highlight"><c- o>&lt;</c-><c- b>float</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>iso646</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>limits</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>stdalign</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>stdarg</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>stdbool</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>stddef</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>, <code class="highlight"><c- o>&lt;</c-><c- n>stdint</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>,
    <ins> <code class="highlight"><c- o>&lt;</c-><c- n>stdbit</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code>,</ins>
     and <code class="highlight"><c- o>&lt;</c-><c- n>stdnoreturn</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> 
   </blockquote>
   <h3 class="heading settled" data-level="5.2" id="wording-7.1.3p1"><span class="secno">5.2. </span><span class="content">Add a new bullet point at the top for globally-reserved macro and library names to §7.1.3 "Reserved Identifiers, paragraph 1.</span><a class="self-link" href="#wording-7.1.3p1"></a></h3>
   <blockquote>
    <p>
     <ins>— All identifiers starting with <code class="highlight"><c- n>stdc_</c-></code> are reserved for future use.</ins>
    </p>
   </blockquote>
   <h3 class="heading settled" data-level="5.3" id="wording-7.3�x"><span class="secno">5.3. </span><span class="content">Add a new §7.3�x sub-clause for "Bit and Byte Utilities" in §7</span><a class="self-link" href="#wording-7.3�x"></a></h3>
   <blockquote>
    <ins>
     <div class="wording-section">
      <p><b>7.3�x Bit and Byte Utilities <code class="highlight"><c- o>&lt;</c-><c- n>stdbit</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code></b> </p>
      <div class="wording-numbered"> The header <code class="highlight"><c- o>&lt;</c-><c- n>stdbit</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> defines the following macros, types, and functions, to work with the byte and bit representation of many types, typically integer types. This header makes available the <code class="highlight"><c- b>size_t</c-></code> type name (7.19) and any <code class="highlight"><c- n>uint</c-><i><c- n>N</c-></i><c- n>_t</c-></code> or <code class="highlight"><c- n>uint_least</c-><i><c- n>N</c-></i><c- n>_t</c-></code> type names defined by the implementation (7.20). </div>
     </div>
    </ins>
   </blockquote>
   <h4 class="heading settled" data-level="5.3.1" id="wording-7.3�x-endianness"><span class="secno">5.3.1. </span><span class="content">Add a new §7.3�x.1 sub-sub-clause for "Endian" in §7.3�x</span><a class="self-link" href="#wording-7.3�x-endianness"></a></h4>
   <blockquote>
    <ins>
     <div class="wording-section">
      <p><b>7.3�x.1 Endian</b> </p>
      <div class="wording-numbered"> Two common methods of byte ordering in multi-byte scalar types are <b>big-endian</b> and <b>little-endian</b>. Big-endian is a format for storage of binary data in which the least significant byte is placed first, with the rest in ascending order. Little-endian is a format for storage or transmission of binary data in which the most significant byte is placed first, with the rest in descending order. Other byte orderings are also possible. Declarations and definitions in 7.3�x, a suffix containing <code class="highlight"><c- n>le</c-></code> typically represents little-endian. A suffix containing <code class="highlight"><c- n>be</c-></code> typically represents big-endian. This clause describes the endianness of the execution environment with respect to bit-precise integer types without padding bits, standard integer types, and extended integer types. </div>
      <div class="wording-numbered"> It is unspecified whether any generic function declared in <code class="highlight"><c- o>&lt;</c-><c- n>stdbit</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> is a macro or an identifier declared with external linkage. If a macro definition is suppressed in order to access an actual function, or a program defines an external identifier with the name of a generic function, the behavior is undefined. </div>
      <div class="wording-numbered">
        The macros are: 
       <blockquote>
<pre class="language-cpp highlight"><c- n>__STDC_ENDIAN_LITTLE__</c->
</pre>
       </blockquote>
       <p>which represents a method of byte order storage least significant byte is placed first, and the rest are in ascending order is suitable for use in an <code class="highlight"><c- cp>#if</c-></code> preprocessing directive;</p>
       <blockquote>
<pre class="language-cpp highlight"><c- n>__STDC_ENDIAN_BIG__</c->
</pre>
       </blockquote>
       <p>which represents a method of byte order storage most significant byte is placed first, and the rest are in descending order is suitable for use in an <code class="highlight"><c- cp>#if</c-></code> preprocessing directive;</p>
       <blockquote>
<pre class="language-cpp highlight"><c- n>__STDC_ENDIAN_NATIVE__</c-> <c- d>/* see below */</c->
</pre>
       </blockquote>
       <p>which represents the method of byte order storage for the execution environment and is suitable for use in an <code class="highlight"><c- cp>#if</c-></code> preprocessing directive.</p>
      </div>
      <div class="wording-numbered">
       <p><code class="highlight"><c- n>__STDC_ENDIAN_NATIVE__</c-></code> shall be identical to <code class="highlight"><c- n>__STDC_ENDIAN_LITTLE__</c-></code> if the execution environment is little-endian. Otherwise, <code class="highlight"><c- n>__STDC_ENDIAN_NATIVE__</c-></code> shall be identical to <code class="highlight"><c- n>__STDC_ENDIAN_BIG__</c-></code> if the execution environment is big-endian. If <code class="highlight"><c- n>__STDC_ENDIAN_NATIVE__</c-></code> is not equivalent to either, then the byte order for the execution environment is implementation-defined.</p>
      </div>
     </div>
    </ins>
   </blockquote>
   <h4 class="heading settled" data-level="5.3.2" id="wording-7.3�x-reordering"><span class="secno">5.3.2. </span><span class="content">Add a new §7.3�x.2 sub-sub-clause for "Memory Reordering" in §7.3�x</span><a class="self-link" href="#wording-7.3�x-reordering"></a></h4>
   <blockquote>
    <ins>
     <p><b>7.3�x.2 8-bit Memory Reversal</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>
<c- cp>#include</c-> &lt;limit.h>

<c- cp>#if (CHAR_BIT % 8) == 0</c->
<c- b>void</c-> <c- nf>stdc_memreverse8</c-><c- p>(</c-><c- b>size_t</c-> <c- n>n</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- n>n</c-><c- p>]);</c->
<c- cp>#endif</c->
</pre>
       </blockquote>
      </div>
      <p><b>Description</b> </p>
      <div class="wording-numbered">
       <p>The <code class="highlight"><c- n>stdc_memreverse8</c-></code> function provides an interface to reverse the order of a given sequence of bytes by treating them as sequences of 8 bits at a time. The function is only present if <code class="highlight"><c- n>CHAR_BIT</c-></code> is a multiple of 8. It is equivalent to the following algorithm:</p>
<pre class="language-cpp highlight"><c- k>for</c-> <c- p>(</c-><c- b>size_t</c-> <c- n>index</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c-> <c- n>index</c-> <c- o>&lt;</c-> <c- p>(</c-><c- n>n</c-> <c- o>/</c-> <c- mi>2</c-><c- p>);</c-> <c- o>++</c-><c- n>index</c-><c- p>)</c-> <c- p>{</c->
	<c- k>const</c-> <c- b>size_t</c-> <c- n>reverse_index</c-> <c- o>=</c-> <c- n>n</c-> <c- o>-</c-> <c- mi>1</c-> <c- o>-</c-> <c- n>index</c-><c- p>;</c->
	<c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-><c- o>*</c-> <c- n>p</c-> <c- o>=</c-> <c- n>ptr</c-> <c- o>+</c-> <c- n>index</c-><c- p>;</c->
	<c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-><c- o>*</c-> <c- n>reverse_p</c-> <c- o>=</c-> <c- n>ptr</c-> <c- o>+</c-> <c- n>reverse_index</c-><c- p>;</c->
	<c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>b_temp</c-> <c- o>=</c-> <c- o>*</c-><c- n>p</c-><c- p>;</c->
	<c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>reverse_b_temp</c-> <c- o>=</c-> <c- o>*</c-><c- n>reverse_p</c-><c- p>;</c->
	<c- o>*</c-><c- n>p</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c->
	<c- o>*</c-><c- n>reverse_p</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c->
	<c- k>for</c-> <c- p>(</c-><c- b>size_t</c-> <c- n>bit_index</c-> <c- o>=</c-> <c- mi>0</c-><c- p>;</c-> <c- n>bit_index</c-> <c- o>&lt;</c-> <c- n>CHAR_BIT</c-><c- p>;</c-> <c- n>bit_index</c-> <c- o>+=</c-> <c- mi>8</c-><c- p>)</c-> <c- p>{</c->
		<c- k>const</c-> <c- b>size_t</c-> <c- n>reverse_bit_index</c-> <c- o>=</c-> <c- n>CHAR_BIT</c-> <c- o>-</c-> <c- mi>8</c-> <c- o>-</c-> <c- n>bit_index</c-><c- p>;</c->
		<c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>bit_mask</c-> <c- o>=</c-> <c- mh>0xFF</c-> <c- o>&lt;&lt;</c-> <c- n>bit_index</c-><c- p>;</c->
		<c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>reverse_bit_mask</c-> <c- o>=</c-> <c- mh>0xFF</c-> <c- o>&lt;&lt;</c-> <c- n>reverse_bit_index</c-><c- p>;</c->
		<c- o>*</c-><c- n>p</c-> <c- o>|=</c-> <c- p>((</c-><c- n>reverse_b_temp</c-> <c- o>&amp;</c-> <c- n>reverse_bit_mask</c-><c- p>)</c-> <c- o>&lt;&lt;</c-> <c- n>bit_index</c-><c- p>);</c->
		<c- o>*</c-><c- n>reverse_p</c-> <c- o>|=</c-> <c- p>((</c-><c- n>b_temp</c-> <c- o>&amp;</c-> <c- n>bit_mask</c-><c- p>)</c-> <c- o>&lt;&lt;</c-> <c- n>reverse_bit_index</c-><c- p>);</c->
	<c- p>}</c->
<c- p>}</c->
</pre>
      </div>
     </div>
     <p><b>7.3�x.3 Exact-width 8-bit Memory Reversal</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>
<c- cp>#include</c-> &lt;limits.h>
<c- cp>#include</c-> &lt;stdint.h>

<c- cp>#if ((N % 8) == 0) &amp;&amp; ((CHAR_BIT % 8) == 0)</c->
<c- n>uint_t</c-> <c- nf>stdc_memreverse8uN</c-><c- p>(</c-><c- n>uint_t</c-> <c- n>value</c-><c- p>);</c->
<c- cp>#endif</c->
</pre>
       </blockquote>
      </div>
      <p><b>Description</b> </p>
      <div class="wording-numbered">
       <p>The <code class="highlight"><c- n>stdc_memreverse8u</c-><i><c- n>N</c-></i></code> functions provide an interface to swap the bytes of a corresponding <code class="highlight"><c- n>uint</c-><i><c- n>N</c-></i><c- n>_t</c-></code> object, where <i>N</i> matches one of the exact-width integer types (7.20.1.1). If an implementation provides the corresponding <code class="highlight"><c- n>uint</c-><i><c- n>N</c-></i><c- n>_t</c-></code> typedef, it shall define the corresponding byte swap function for that value of <code class="highlight"><i><c- n>N</c-></i></code>.</p>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered">
       <p>The <code class="highlight"><c- n>stdc_memreverse8u</c-><i><c- n>N</c-></i></code> functions returns the 8-bit memory reversed <code class="highlight"><c- n>uint</c-><i><c- n>N</c-></i><c- n>_t</c-></code> value, as if by invoking <code class="highlight"><c- n>stdc_memreverse8</c-><c- p>(</c-><c- k>sizeof</c-><c- p>(</c-><c- n>value</c-><c- p>),</c-> <c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-><c- o>*</c-><c- p>)</c-><c- o>&amp;</c-><c- n>value</c-><c- p>)</c-></code>.</p>
      </div>
     </div>
    </ins>
   </blockquote>
   <h4 class="heading settled" data-level="5.3.3" id="wording-7.3�x-endian.aware.load.store"><span class="secno">5.3.3. </span><span class="content">Add a new §7.3�x.4 sub-sub-clause for "Endian Aware" functions in §7.3�x</span><a class="self-link" href="#wording-7.3�x-endian.aware.load.store"></a></h4>
   <blockquote>
    <ins>
     <p><b>7.3�x.4 Endian-Aware 8-bit Load</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- cp>#if ((N % 8) == 0) &amp;&amp; ((CHAR_BIT % 8) == 0)</c->
<c- n>uint_leastN_t</c-> <c- nf>stdc_load8_leuN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>uint_leastN_t</c-> <c- nf>stdc_load8_beuN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>uint_leastN_t</c-> <c- nf>stdc_load8_aligned_leuN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>uint_leastN_t</c-> <c- nf>stdc_load8_aligned_beuN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->

<c- n>int_leastN_t</c-> <c- nf>stdc_load8_lesN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>int_leastN_t</c-> <c- nf>stdc_load8_besN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>int_leastN_t</c-> <c- nf>stdc_load8_aligned_lesN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- n>int_leastN_t</c-> <c- nf>stdc_load8_aligned_besN</c-><c- p>(</c-><c- k>const</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- cp>#endif</c->
</pre>
       </blockquote>
      </div>
      <p><b>Description</b> </p>
      <div class="wording-numbered">
       <p>The 8-bit load family of functions functions read a <code class="highlight"><c- n>int_least</c-><i><c- n>N</c-></i><c- n>_t</c-></code> or <code class="highlight"><c- n>uint_least</c-><i><c- n>N</c-></i><c- n>_t</c-></code> object from the provided <code class="highlight"><c- n>ptr</c-></code> in an endian-aware (7.3�x.1) manner, where <i>N</i> matches an existing minimum-width integer type (7.20.1.2). If this function is present, <i>N</i> shall be a multiple of 8 and <code class="highlight"><c- n>CHAR_BIT</c-></code> shall be a multiple of 8. The functions containing <code class="highlight"><c- n>_aligned</c-></code> in the name shall assume that <code class="highlight"><c- n>ptr</c-></code> is suitably aligned to access a signed or unsigned integer of width <i>N</i>. If the function name contains the <code class="highlight"><c- n>s</c-><i><c- n>N</c-></i></code> suffix in the name, it is a <i>signed variant</i>. Otherwise, the function is an <i>unsigned variant</i>. If the function name contains the <code class="highlight"><c- n>les</c-><i><c- n>N</c-></i></code> or <code class="highlight"><c- n>leu</c-><i><c- n>N</c-></i></code> suffix, it is a <i>little-endian variant</i>. Otherwise, if the function name contains the <code class="highlight"><c- n>bes</c-><i><c- n>N</c-></i></code> or <code class="highlight"><c- n>beu</c-><i><c- n>N</c-></i></code> suffix, it is a <i>big-endian variant</i>.</p>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered">
       <p>Let <code class="highlight"><c- n>value</c-></code> be an object of either <code class="highlight"><c- n>int_least</c-><i><c- n>N</c-></i><c- n>_t</c-></code> if the function is a signed variant or <code class="highlight"><c- n>uint_least</c-><i><c- n>N</c-></i><c- n>_t</c-></code> if the function is an unsigned variant initialized to 0. Let <code class="highlight"><c- n>index</c-></code> be an integer in a sequence that</p>
       <dl>
        <dd>— starts from 0 and increments by 8 in the range of [0, N), if the function is a little endian variant;
        <dd>— starts from <code class="highlight"><c- n>CHAR_BIT</c-> <c- o>-</c-> <c- mi>8</c-></code> and decrements by 8 in the range of [0, N), if the function is a big endian variant.
       </dl>
       <p>Let <code class="highlight"><c- n>ptr_bit_index</c-></code> be an integer that starts from 0. Let <code class="highlight"><c- n>byte_index8</c-></code> be <code class="highlight"><c- n>index</c-> <c- o>%</c-> <c- n>CHAR_BIT</c-></code>. For each <code class="highlight"><c- n>index</c-></code> in the order of the above-specified sequence:</p>
       <dl>
        <dd>
         1. let <code class="highlight"><c- n>byte_mask8</c-></code> be: 
         <dl>
          <dd>— <code class="highlight"><c- p>(</c-><c- mh>0x7F</c-> <c- o>&lt;&lt;</c-> <c- n>byte_index8</c-><c- p>)</c-></code>, if the function is a signed variant, <code class="highlight"><c- n>byte8_index</c-></code> is equal to <code class="highlight"><c- p>(</c-><c- n>CHAR_BIT</c-> <c- o>-</c-> <c- mi>8</c-><c- p>)</c-></code>, and <code class="highlight"><c- n>ptr_bit_index</c-></code> is equal to <code class="highlight"><c- n>N</c-> <c- o>-</c-> <c- mi>8</c-></code>;
          <dd>— otherwise, <code class="highlight"><c- p>(</c-><c- mh>0xFF</c-> <c- o>&lt;&lt;</c-> <c- n>byte_index8</c-><c- p>)</c-></code>.
         </dl>
        <dd>2. computes <code class="highlight"><c- n>value</c-> <c- o>|=</c-> <c- p>(((</c-><c- n>ptr</c-><c- p>[</c-><c- n>ptr_bit_index</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>]</c-> <c- o>&amp;</c-> <c- n>byte8_mask</c-><c- p>)</c-> <c- o>>></c-> <c- n>byte_index8</c-><c- p>)</c-> <c- o>&lt;&lt;</c-> <c- n>index</c-><c- p>)</c-></code>;
        <dd>3. increments <code class="highlight"><c- n>ptr_bit_index</c-></code> by 8.
       </dl>
       <p>Finally, if the function is a signed variant, and either:</p>
       <dl>
        <dd>— <code class="highlight"><c- p>(</c-><c- n>ptr</c-><c- p>[</c-><c- mi>0</c-><c- p>]</c-> <c- o>>></c-> <c- p>(</c-><c- n>CHAR_BIT</c-> <c- o>-</c-> <c- mi>1</c-><c- p>))</c-> <c- o>&amp;</c-> <c- mh>0x1</c-></code> is nonzero for the little endian variant;
        <dd>— or, <code class="highlight"><c- p>(</c-><c- n>ptr</c-><c- p>[(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)</c-> <c- o>-</c-> <c- mi>1</c-><c- p>]</c-> <c- o>>></c-> <c- p>(</c-><c- n>CHAR_BIT</c-> <c- o>-</c-> <c- mi>1</c-><c- p>))</c-> <c- o>&amp;</c-> <c- mh>0x1</c-></code> is nonzero for the big endian variant;
       </dl>
       <p>then the most significant bit is set to <code class="highlight"><c- mi>1</c-></code>. Otherwise, it is set to <code class="highlight"><c- mi>0</c-></code>.</p>
      </div>
      <div class="wording-numbered"> Returns the computed <code class="highlight"><c- n>value</c-></code>. </div>
      <p><b>7.3�x.5 Endian-Aware 8-bit Store</b> </p>
      <div class="wording-section">
       <p><b>Synopsis</b> </p>
       <div class="wording-numbered">
        <blockquote>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdbit.h>

<c- cp>#if ((N % CHAR_BIT) == 0 &amp;&amp; (CHAR_BIT % 8 == 0))</c->
<c- b>void</c-> <c- nf>stdc_store8_leuN</c-><c- p>(</c-><c- n>uint_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_beuN</c-><c- p>(</c-><c- n>uint_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_aligned_leuN</c-><c- p>(</c-><c- n>uint_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_aligned_beuN</c-><c- p>(</c-><c- n>uint_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->

<c- b>void</c-> <c- nf>stdc_store8_lesN</c-><c- p>(</c-><c- n>int_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_besN</c-><c- p>(</c-><c- n>int_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_aligned_lesN</c-><c- p>(</c-><c- n>int_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- b>void</c-> <c- nf>stdc_store8_aligned_besN</c-><c- p>(</c-><c- n>int_leastN_t</c-> <c- n>value</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- p>(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)]);</c->
<c- cp>#endif</c->
</pre>
        </blockquote>
       </div>
       <p><b>Description</b> </p>
       <div class="wording-numbered">
        <p>The 8-bit store family of functions functions write a <code class="highlight"><c- n>int_least</c-><i><c- n>N</c-></i><c- n>_t</c-></code> or <code class="highlight"><c- n>uint_least</c-><i><c- n>N</c-></i><c- n>_t</c-></code> object into the provided <code class="highlight"><c- n>ptr</c-></code> in an endian-aware (7.3�x.1) manner, where <i>N</i> matches an existing minimum-width integer type (7.20.1.2). If this function is present, <i>N</i> shall be a multiple of 8 and <code class="highlight"><c- n>CHAR_BIT</c-></code> shall be a multiple of 8. The functions containing <code class="highlight"><c- n>_aligned</c-></code> in the name shall assume that <code class="highlight"><c- n>ptr</c-></code> is suitably aligned to access a signed or unsigned integer of width <i>N</i>. If the function name contains the <code class="highlight"><c- n>s</c-><i><c- n>N</c-></i></code> suffix in the name, it is a <i>signed variant</i>. Otherwise, the function is an <i>unsigned variant</i>. If the function name contains the <code class="highlight"><c- n>les</c-><i><c- n>N</c-></i></code> or <code class="highlight"><c- n>leu</c-><i><c- n>N</c-></i></code> suffix, it is a <i>little-endian variant</i>. Otherwise, if the function name contains the <code class="highlight"><c- n>bes</c-><i><c- n>N</c-></i></code> or <code class="highlight"><c- n>beu</c-><i><c- n>N</c-></i></code> suffix, it is a <i>big-endian variant</i>.</p>
       </div>
       <div class="wording-numbered">
        <p>Let <code class="highlight"><c- n>index</c-></code> be an integer in a sequence that</p>
        <dl>
         <dd>— starts from 0 and increments by 8 in the range of [0, N), if the function is a little endian variant;
         <dd>— starts from <code class="highlight"><c- n>CHAR_BIT</c-> <c- o>-</c-> <c- mi>8</c-></code> and decrements by 8 in the range of [0, N), if the function is a big endian variant.
        </dl>
        <p>Let <code class="highlight"><c- n>ptr_bit_index</c-></code> be an integer that starts from 0. Let <code class="highlight"><c- n>byte_index8</c-></code> be <code class="highlight"><c- n>index</c-> <c- o>%</c-> <c- n>CHAR_BIT</c-></code>. For each <code class="highlight"><c- n>index</c-></code> in the order of the above-specified sequence:</p>
        <dl>
         <dd>
          1. let <code class="highlight"><c- n>byte_mask8</c-></code> be: 
          <dl>
           <dd>— <code class="highlight"><c- p>(</c-><c- mh>0x7F</c-> <c- o>&lt;&lt;</c-> <c- n>byte_index8</c-><c- p>)</c-></code>, if the function is a signed variant, <code class="highlight"><c- n>byte8_index</c-></code> is equal to <code class="highlight"><c- p>(</c-><c- n>CHAR_BIT</c-> <c- o>-</c-> <c- mi>8</c-><c- p>)</c-></code>, and <code class="highlight"><c- n>ptr_bit_index</c-></code> is equal to <code class="highlight"><c- n>N</c-> <c- o>-</c-> <c- mi>8</c-></code>;
           <dd>— otherwise, <code class="highlight"><c- p>(</c-><c- mh>0xFF</c-> <c- o>&lt;&lt;</c-> <c- n>byte_index8</c-><c- p>)</c-></code>.
          </dl>
         <dd>2. sets the 8 bits in <code class="highlight"><c- n>ptr</c-><c- p>[</c-><c- n>ptr_bit_index</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>]</c-></code> at offset <code class="highlight"><c- n>byte8_index</c-></code> to <code class="highlight"><c- p>(</c-><c- n>value</c-> <c- o>>></c-> <c- n>index</c-><c- p>)</c-> <c- o>&amp;</c-> <c- mh>0xFF</c-></code>;
         <dd>3. increments <code class="highlight"><c- n>ptr_bit_index</c-></code> by 8.
        </dl>
        <p>Finally, if the function is a signed variant, and <code class="highlight"><c- n>value</c-></code> is less than 0, then either:</p>
        <dl>
         <dd>— or, <code class="highlight"><c- n>ptr</c-><c- p>[</c-><c- mi>0</c-><c- p>]</c-></code> has its high bit set to 1 if the function is the little endian variant.
         <dd>— <code class="highlight"><c- n>ptr</c-><c- p>[(</c-><c- n>N</c-> <c- o>/</c-> <c- n>CHAR_BIT</c-><c- p>)</c-> <c- o>-</c-> <c- mi>1</c-><c- p>]</c-></code> has its high bit set to 1 if the function is the big endian variant;
        </dl>
       </div>
      </div>
     </div>
    </ins>
   </blockquote>
   <h4 class="heading settled" data-level="5.3.4" id="wording-7.3�x-low.level.bit"><span class="secno">5.3.4. </span><span class="content">Add a new §7.3�x.6 sub-sub-clause for Low-Level Bit Utilities in §7.3�x</span><a class="self-link" href="#wording-7.3�x-low.level.bit"></a></h4>
   <blockquote>
    <ins>
     <p><b>7.3�x.6 Count Leading Zeros</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>stdc_leading_zerosuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_leading_zerosus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_leading_zerosui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_leading_zerosul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_leading_zerosull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_return_type</c-> <c- nf>stdc_leading_zeros</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> Returns the number of consecutive 0 bits in <code class="highlight"><c- n>value</c-></code>, starting from the most significant bit. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the appropriate value based on the type of the input value, so long as it is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
        The <code class="highlight"><c- n>generic_return_type</c-></code> type for the type-generic function need not be the same as the type of <code class="highlight"><c- n>value</c-></code>. It shall be suitably large unsigned integer type capable of representing the computed result. 
      </div>
     </div>
     <p><b>7.3�x.7 Count Leading Ones</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>stdc_leading_onessuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_leading_onesus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_leading_onesui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_leading_onesul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_leading_onesull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_return_type</c-> <c- nf>stdc_leading_ones</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> Returns the number of consecutive 1 bits in <code class="highlight"><c- n>value</c-></code>, starting from the most significant bit. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the appropriate value based on the type of the input value, so long as it is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
        The <code class="highlight"><c- n>generic_return_type</c-></code> type for the type-generic function need not be the same as the type of <code class="highlight"><c- n>value</c-></code>. It shall be suitably large unsigned integer type capable of representing the computed result. 
      </div>
     </div>
     <p><b>7.3�x.8 Count Trailing Zeros</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>stdc_trailing_zerosuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_trailing_zerosus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_trailing_zerosui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_trailing_zerosul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_trailing_zerosull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_return_type</c-> <c- nf>stdc_trailing_zeros</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> Returns the number of consecutive 0 bits in <code class="highlight"><c- n>value</c-></code>, starting from the least significant bit. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the appropriate value based on the type of the input value, so long as it is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
        The <code class="highlight"><c- n>generic_return_type</c-></code> type for the type-generic function need not be the same as the type of <code class="highlight"><c- n>value</c-></code>. It shall be suitably large unsigned integer type capable of representing the computed result. 
      </div>
     </div>
     <p><b>7.3�x.9 Count Trailing Ones</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>stdc_trailing_onessuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_trailing_onesus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_trailing_onesui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_trailing_onesul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_trailing_onesull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_return_type</c-> <c- nf>stdc_trailing_ones</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> Returns the number of consecutive 1 bits in <code class="highlight"><c- n>value</c-></code>, starting from the least significant bit. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the appropriate value based on the type of the input value, so long as it is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
        The <code class="highlight"><c- n>generic_return_type</c-></code> type for the type-generic function need not be the same as the type of <code class="highlight"><c- n>value</c-></code>. It shall be suitably large unsigned integer type capable of representing the computed result. 
      </div>
     </div>
     <p><b>7.3�x.10 Rotate Left</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_rotate_leftuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_rotate_leftus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_rotate_leftui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_rotate_leftul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_rotate_leftull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->

<c- n>generic_integer_type</c-> <c- nf>stdc_rotate_left</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Description</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_rotate_left</c-></code> functions perform a bitwise rotate left. This operation is typically known as a left circular shift. </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered">
        Let N be the width corresponding to the type of the input <code class="highlight"><c- n>value</c-></code>. Let r be <code class="highlight"><c- n>count</c-> <c- o>%</c-> <c- n>N</c-></code>. 
       <dl>
        <dd>— If r is 0, returns <code class="highlight"><c- n>value</c-></code>;
        <dd>— otherwise, if r is positive, returns <code class="highlight"><c- p>(</c-><c- n>value</c-> <c- o>&lt;</c->​<c- o>&lt;</c-> <c- n>r</c-><c- p>)</c-> <c- o>|</c-> <c- p>(</c-><c- n>value</c-> <c- o>>></c-> <c- p>(</c-><c- n>N</c-> <c- o>-</c-> <c- n>r</c-><c- p>))</c-></code>.
        <dd>— otherwise, if r is negative, returns <code class="highlight"><c- n>stdc_rotate_right</c-><c- p>(</c-><c- n>value</c-><c- p>,</c-> <c- o>-</c-><c- n>r</c-><c- p>)</c-></code>;
       </dl>
      </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the above described result for a given input value so long as the <code class="highlight"><c- n>generic_integer_type</c-></code> is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
      </div>
     </div>
     <p><b>7.3�x.11 Rotate Right</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_rotate_rightuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_rotate_rightus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_rotate_rightui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_rotate_rightul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_rotate_rightull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->

<c- n>generic_integer_type</c-> <c- nf>stdc_rotate_right</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>,</c-> <c- b>int</c-> <c- n>count</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Description</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_rotate_right</c-></code> functions perform a bitwise rotate right. This operation is typically known as a right circular shift. </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered">
        Let N be the width corresponding to the type of the input <code class="highlight"><c- n>value</c-></code>.. Let r be <code class="highlight"><c- n>count</c-> <c- o>%</c-> <c- n>N</c-></code>. 
       <dl>
        <dd>— If r is 0, returns <code class="highlight"><c- n>value</c-></code>;
        <dd>— otherwise, if r is positive, returns <code class="highlight"><c- p>(</c-><c- n>value</c-> <c- o>>></c-> <c- n>r</c-><c- p>)</c-> <c- o>|</c-> <c- p>(</c-><c- n>value</c-> <c- o>&lt;&lt;</c-> <c- p>(</c-><c- n>N</c-> <c- o>-</c-> <c- n>r</c-><c- p>))</c-></code>;
        <dd>— otherwise, if r is negative, returns <code class="highlight"><c- n>stdc_rotate_left</c-><c- p>(</c-><c- n>value</c-><c- p>,</c-> <c- o>-</c-><c- n>r</c-><c- p>)</c-></code>;
       </dl>
      </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the above described result for a given input value so long as the <code class="highlight"><c- n>generic_integer_type</c-></code> is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
      </div>
     </div>
     <p><b>7.3�x.12 Count Ones</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>stdc_count_onesuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_onesus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_onesui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_onesul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_onesull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_return_type</c-> <c- nf>stdc_count_ones</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_count_ones</c-></code> functions returns the total number of 1 bits within the given <code class="highlight"><c- n>value</c-></code>. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the previously described result for a given input value so long as the <code class="highlight"><c- n>generic_integer_type</c-></code> is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
        The <code class="highlight"><c- n>generic_return_type</c-></code> type for the type-generic function need not be the same as the type of <code class="highlight"><c- n>value</c-></code>. It shall be suitably large unsigned integer type capable of representing the computed result. 
      </div>
     </div>
     <p><b>7.3�x.13 Count Zeros</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>stdc_count_zerosuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zerosus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zerosui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zerosul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>int</c-> <c- nf>stdc_count_zerosull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_return_type</c-> <c- nf>stdc_count_zeros</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_count_zeros</c-></code> functions returns the total number of 0 bits within the given <code class="highlight"><c- n>value</c-></code>. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the previously described result for a given input value so long as the <code class="highlight"><c- n>generic_integer_type</c-></code> is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
        The <code class="highlight"><c- n>generic_return_type</c-></code> type for the type-generic function need not be the same as the type of <code class="highlight"><c- n>value</c-></code>. It shall be suitably large unsigned integer type capable of representing the computed result. 
      </div>
     </div>
    </ins>
   </blockquote>
   <h4 class="heading settled" data-level="5.3.5" id="wording-7.3�x-fundamental.bit"><span class="secno">5.3.5. </span><span class="content">Add a new §7.3�x.3 sub-sub-clause for Fundamental Bit Utilities in §7.3�x</span><a class="self-link" href="#wording-7.3�x-fundamental.bit"></a></h4>
   <blockquote>
    <ins>
     <p><b>7.3�x.14 Single-bit Check</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- n>_Bool</c-> <c- nf>stdc_has_single_bituc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bitus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bitui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bitul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- n>_Bool</c-> <c- nf>stdc_has_single_bitull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>_Bool</c-> <c- nf>stdc_has_single_bit</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_has_single_bit</c-></code> functions returns true if and only if there is a single 1 bit in <code class="highlight"><c- n>value</c-></code>. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the previously described result for a given input value so long as the <code class="highlight"><c- n>generic_integer_type</c-></code> is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
      </div>
     </div>
     <p><b>7.3�x.15 Bit Width</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_bit_widthuc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_bit_widthus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_bit_widthui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_bit_widthul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_bit_widthull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_return_type</c-> <c- nf>stdc_bit_width</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Description</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_bit_width</c-></code> functions compute the smallest number of bits needed to store <code class="highlight"><c- n>value</c-></code>. </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_bit_width</c-></code> functions return 0 if <code class="highlight"><c- n>value</c-></code> is 0. Otherwise, they return <code class="highlight"><c- mi>1</c-> <c- o>+</c-> ⌊<c- n>log</c-><sub><c- n>2</c-></sub><c- p>(</c-><c- n>value</c-><c- p>)</c->⌋</code>. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the previously described result for a given input value so long as the <code class="highlight"><c- n>generic_integer_type</c-></code> is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
        The <code class="highlight"><c- n>generic_return_type</c-></code> type for the type-generic function need not be the same as the type of <code class="highlight"><c- n>value</c-></code>. It shall be suitably large unsigned integer type capable of representing the computed result. 
      </div>
     </div>
     <p><b>7.3�x.16 Bit Floor</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_bit_flooruc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_bit_floorus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_bit_floorui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_bit_floorul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_bit_floorull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_integer_type</c-> <c- nf>stdc_bit_floor</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Description</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_bit_floor</c-></code> functions compute the largest integral power of 2 that is not greater than <code class="highlight"><c- n>value</c-></code>. </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_bit_floor</c-></code> functions return 0 if <code class="highlight"><c- n>value</c-></code> is 0. Otherwise, they return the largest integral power of 2 that is not greater than <code class="highlight"><c- n>value</c-></code>. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the previously described result for a given input value so long as the <code class="highlight"><c- n>generic_integer_type</c-></code> is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
      </div>
     </div>
     <p><b>7.3�x.17 Bit Ceiling</b> </p>
     <div class="wording-section">
      <p><b>Synopsis</b> </p>
      <div class="wording-numbered">
       <blockquote>
<pre class="language-cpp highlight"><c- b>unsigned</c-> <c- b>char</c-> <c- n>stdc_bit_ceiluc</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>char</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>short</c-> <c- n>stdc_bit_ceilus</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>short</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>int</c-> <c- n>stdc_bit_ceilui</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>int</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- n>stdc_bit_ceilul</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>stdc_bit_ceilull</c-><c- p>(</c-><c- b>unsigned</c-> <c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->

<c- n>generic_integer_type</c-> <c- nf>stdc_bit_ceil</c-><c- p>(</c-><c- n>generic_integer_type</c-> <c- n>value</c-><c- p>);</c->
</pre>
       </blockquote>
      </div>
      <p><b>Description</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_bit_ceil</c-></code> functions compute the smallest integral power of 2 that is not less than <code class="highlight"><c- n>value</c-></code>. If the computation does not fit in the given return type, the behavior is undefined. </div>
      <p><b>Returns</b> </p>
      <div class="wording-numbered"> The <code class="highlight"><c- n>stdc_bit_ceil</c-></code> functions return the smallest integral power of 2 that is not less than <code class="highlight"><c- n>value</c-></code>. </div>
      <div class="wording-numbered">
        The type-generic function (marked by its <code class="highlight"><c- n>generic_integer_type</c-></code> argument) returns the previously described result for a given input value so long as the <code class="highlight"><c- n>generic_integer_type</c-></code> is an 
       <dl>
        <dd>— standard unsigned integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>;
        <dd>— extended unsigned integer type;
        <dd>— or, bit-precise unsigned integer type whose width matches a standard or extended integer type, excluding <code class="highlight"><c- b>_Bool</c-></code>.
       </dl>
      </div>
     </div>
    </ins>
   </blockquote>
   <h3 class="heading settled" data-level="5.4" id="wording-annexj.3"><span class="secno">5.4. </span><span class="content">Add one new entry for Implementation-Defined Behavior in Annex J.3</span><a class="self-link" href="#wording-annexj.3"></a></h3>
   <blockquote>
    <p>
     <ins>— The value of <code class="highlight"><c- n>__STDC_ENDIAN_NATIVE__</c-></code> if the execution environment is not big-endian or little-endian (7.3�x.1).</ins>
    </p>
    <p>
     <ins>— The value of <code class="highlight"><c- n>__STDC_ENDIAN_BIG__</c-></code>, and <code class="highlight"><c- n>__STDC_ENDIAN_LITTLE__</c-></code> if the execution environment is not big-endian or little-endian (7.3�x.1).</ins>
    </p>
   </blockquote>
   <h3 class="heading settled" data-level="5.5" id="wording-annexj.1"><span class="secno">5.5. </span><span class="content">Modify an existing entry for Unspecified behavior in Annex J.1</span><a class="self-link" href="#wording-annexj.1"></a></h3>
   <blockquote>
    <p>
     — The macro definition of a generic function is suppressed in order to access an actual function
(7.17.1)
     <ins>, (7.3�x).</ins>
    </p>
   </blockquote>
   <h2 class="heading settled" data-level="6" id="appendix"><span class="secno">6. </span><span class="content">Appendix</span><a class="self-link" href="#appendix"></a></h2>
   <p>A collection of miscellaneous and helpful bits of information and implementation.</p>
   <h3 class="heading settled" data-level="6.1" id="appendix-implementations"><span class="secno">6.1. </span><span class="content">Example Implementations in Publicly-Available Libraries</span><a class="self-link" href="#appendix-implementations"></a></h3>
   <p>Optimized routines following the naming conventions present in this paper can be found in the [Shepherd’s Oasis Industrial Development Kit (IDK) library](), compilable with a conforming C11 compiler and tested on MSVC, GCC, and Clang on Windows, Mac, and Linux:</p>
   <ul>
    <li data-md>
     <p><a href="https://ztdidk.readthedocs.io/en/latest/c_api/bit.intrinsic.html">Bit Intrinsics</a> (<a href="https://github.com/soasis/idk/blob/main/include/ztd/idk/detail/bit.intrinsic.h#L53">Declarations</a>) (<a href="https://github.com/soasis/idk/blob/main/source/ztd/idk/bit.intrinsic.c#L49">Source</a>)</p>
    <li data-md>
     <p><a href="https://ztdidk.readthedocs.io/en/latest/c_api/bit.memreverse.html">Memory Reverse</a> (<a href="https://github.com/soasis/idk/blob/main/include/ztd/idk/detail/bit.memreverse.h#L52">Declarations</a>) (<a href="https://github.com/soasis/idk/blob/main/source/ztd/idk/bit.memreverse.c#L46">Source</a>)</p>
    <li data-md>
     <p><a href="https://ztdidk.readthedocs.io/en/latest/c_api/bit.store_load.html">Endian Load/Store</a> (<a href="https://github.com/soasis/idk/blob/main/include/ztd/idk/detail/bit.load_store.h#L52">Declarations</a>) (<a href="https://github.com/soasis/idk/blob/main/source/ztd/idk/bit.load_store.c#L45">Sources</a>)</p>
   </ul>
   <p>Optimized routines following the basic principles present in this paper and used as motivation to improve several C++ Standard Libraries can be found in the Itsy Bitsy Bit Libraries, compilable with a conforming C++17 compiler and tested on MSVC, GCC, and Clang on Windows, Mac, and Linux:</p>
   <ul>
    <li data-md>
     <p>Bit Intrinsics (<a href="https://github.com/ThePhD/itsy_bitsy/blob/main/include/itsy/bit_operations.hpp#L63">Declarations</a>) (<a href="https://github.com/ThePhD/itsy_bitsy/blob/main/include/itsy/detail/bit_operations.hpp#L31">Sources</a>)</p>
   </ul>
   <p>Endianness routines and original motivation that spawned this proposal came from <a href="https://github.com/SoapGentoo/portable-endianness">David Seifert’s Portable Endianness library</a> and its deep dive into compiler optimizations and efficient code generation when alignment came into play:</p>
   <ul>
    <li data-md>
     <p>Endian Load/Store (<a href="https://github.com/SoapGentoo/portable-endianness/blob/main/include/portable-endianness.h#L11">Declarations</a>) (<a href="https://github.com/SoapGentoo/portable-endianness/blob/main/src/portable-endianness.c#L5">Sources</a>)</p>
   </ul>
   <h3 class="heading settled" data-level="6.2" id="appendix-stdc_count_ones"><span class="secno">6.2. </span><span class="content">Implementation of Generic <code class="highlight"><c- n>stdc_count_ones</c-></code></span><a class="self-link" href="#appendix-stdc_count_ones"></a></h3>
   <p>Sample implementation on <a href="https://godbolt.org/z/16d9xE78r">Godbolt (clang/gcc specific builtins)</a>:</p>
<pre class="language-cpp highlight"><c- cp>#define stdc_count_ones(...) \</c->
<c- cp>	_Generic((__VA_ARGS__), \</c->
<c- cp>		char: __builtin_popcount, \</c->
<c- cp>		unsigned char: __builtin_popcount, \</c->
<c- cp>		unsigned short: __builtin_popcount, \</c->
<c- cp>		unsigned int: __builtin_popcount, \</c->
<c- cp>		unsigned long: __builtin_popcountl, \</c->
<c- cp>		unsigned long long: __builtin_popcountll \</c->
<c- cp>	)(__VA_ARGS__)</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
	<c- k>return</c-> <c- n>stdc_count_ones</c-><c- p>((</c-><c- b>unsigned</c-> <c- b>char</c-><c- p>)</c-><c- sc>'0'</c-><c- p>)</c-> <c- o>+</c-> <c- n>stdc_count_ones</c-><c- p>(</c-><c- mi>13ull</c-><c- p>);</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="6.3" id="appendix-stdc_bit_ceil"><span class="secno">6.3. </span><span class="content">Implementation of Generic <code class="highlight"><c- n>stdc_bit_ceil</c-></code></span><a class="self-link" href="#appendix-stdc_bit_ceil"></a></h3>
   <p>Sample implementation on <a href="https://godbolt.org/z/7ePah1c8b">Godbolt (clang/gcc specific builtins)</a>:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;limits.h>

<c- cp>#define stdc_leading_zeros(...) \</c->
<c- cp>	(_Generic((__VA_ARGS__), \</c->
<c- cp>		char: __builtin_clz((__VA_ARGS__)) - ((sizeof(unsigned) - sizeof(char)) * CHAR_BIT), \</c->
<c- cp>		unsigned char: __builtin_clz((__VA_ARGS__)) - ((sizeof(unsigned) - sizeof(unsigned char)) * CHAR_BIT), \</c->
<c- cp>		unsigned short: __builtin_clz((__VA_ARGS__)) - ((sizeof(unsigned) - sizeof(unsigned short)) * CHAR_BIT), \</c->
<c- cp>		unsigned int: __builtin_clz((__VA_ARGS__)), \</c->
<c- cp>		unsigned long: __builtin_clzl((__VA_ARGS__)), \</c->
<c- cp>		unsigned long long: __builtin_clzll((__VA_ARGS__)) \</c->
<c- cp>	))</c->

<c- cp>#define stdc_bit_width(...) \</c->
<c- cp>	_Generic((__VA_ARGS__), \</c->
<c- cp>		char: (CHAR_BIT - stdc_leading_zeros((__VA_ARGS__))), \</c->
<c- cp>		unsigned char: (UCHAR_WIDTH - stdc_leading_zeros((__VA_ARGS__))), \</c->
<c- cp>		unsigned short: (USHRT_WIDTH - stdc_leading_zeros((__VA_ARGS__))), \</c->
<c- cp>		unsigned int: (UINT_WIDTH - stdc_leading_zeros((__VA_ARGS__))), \</c->
<c- cp>		unsigned long: (ULONG_WIDTH - stdc_leading_zeros((__VA_ARGS__))), \</c->
<c- cp>		unsigned long long: (ULLONG_WIDTH - stdc_leading_zeros((__VA_ARGS__))) \</c->
<c- cp>	)</c->

<c- c1>// integer promotion rules means we need to</c->
<c- c1>// precisely calculate the value here</c->
<c- cp>#define __stdc_bit_ceil_promotion_protection(_Type, _Value) \</c->
<c- cp>	_Generic((_Value), \</c->
<c- cp>		char: (_Value &lt;= (_Type)1) ? (_Type)0 : (_Type)(1u &lt;fake-production-placeholder class=production bs-autolink-syntax='&lt;&lt; (stdc_bit_width((_Type)(_Value - 1)) + (UINT_WIDTH - UCHAR_WIDTH)) >>'> (stdc_bit_width((_Type)(_Value - 1)) + (UINT_WIDTH - UCHAR_WIDTH)) &lt;/fake-production-placeholder> (UINT_WIDTH - UCHAR_WIDTH)), \</c->
<c- cp>		unsigned char: (_Value &lt;= (_Type)1) ? (_Type)0 : (_Type)(1u &lt;fake-production-placeholder class=production bs-autolink-syntax='&lt;&lt; (stdc_bit_width((_Type)(_Value - 1)) + (UINT_WIDTH - UCHAR_WIDTH)) >>'> (stdc_bit_width((_Type)(_Value - 1)) + (UINT_WIDTH - UCHAR_WIDTH)) &lt;/fake-production-placeholder> (UINT_WIDTH - UCHAR_WIDTH)), \</c->
<c- cp>		unsigned short: (_Value &lt;= (_Type)1) ? (_Type)0 : (_Type)(1u &lt;fake-production-placeholder class=production bs-autolink-syntax='&lt;&lt; (stdc_bit_width((_Type)(_Value - 1)) + (UINT_WIDTH - USHRT_WIDTH)) >>'> (stdc_bit_width((_Type)(_Value - 1)) + (UINT_WIDTH - USHRT_WIDTH)) &lt;/fake-production-placeholder> (UINT_WIDTH - USHRT_WIDTH)), \</c->
<c- cp>		default: (_Type)0 \</c->
<c- cp>	)</c->

<c- cp>#define stdc_bit_ceil(...) \</c->
<c- cp>	_Generic((__VA_ARGS__), \</c->
<c- cp>		char: __stdc_bit_ceil_promotion_protection(unsigned char, (__VA_ARGS__)), \</c->
<c- cp>		unsigned char: __stdc_bit_ceil_promotion_protection(unsigned char, (__VA_ARGS__)), \</c->
<c- cp>		unsigned short: __stdc_bit_ceil_promotion_protection(unsigned short, (__VA_ARGS__)), \</c->
<c- cp>		unsigned int: (unsigned int)(1u &lt;&lt; stdc_bit_width((unsigned int)((__VA_ARGS__) - 1))), \</c->
<c- cp>		unsigned long: (unsigned long)(1ul &lt;&lt; stdc_bit_width((unsigned long)((__VA_ARGS__) - 1))), \</c->
<c- cp>		unsigned long long: (unsigned long long)(1ull &lt;&lt; stdc_bit_width((unsigned long long)((__VA_ARGS__) - 1))) \</c->
<c- cp>	)</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
	<c- b>int</c-> <c- n>x</c-> <c- o>=</c-> <c- n>stdc_bit_ceil</c-><c- p>((</c-><c- b>unsigned</c-> <c- b>char</c-><c- p>)</c-><c- sc>'\x13'</c-><c- p>);</c->
	<c- b>int</c-> <c- n>y</c-> <c- o>=</c-> <c- n>stdc_bit_ceil</c-><c- p>(</c-><c- mi>33u</c-><c- p>);</c->
	<c- k>return</c-> <c- n>x</c-> <c- o>+</c-> <c- n>y</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="6.4" id="appendix-enumeration"><span class="secno">6.4. </span><span class="content">Endian Enumeration</span><a class="self-link" href="#appendix-enumeration"></a></h3>
   <p>The endian enumeration was struck from this paper. It had very marginal benefit and was mostly redundant for Standard C code, since the macros would suffice well enough. Nevertheless, the old rationale is presented below.</p>
   <h4 class="heading settled" data-level="6.4.1" id="appendix-enumeration-rationale"><span class="secno">6.4.1. </span><span class="content">Rationale</span><a class="self-link" href="#appendix-enumeration-rationale"></a></h4>
   <p>A <code class="highlight"><c- n>stdc_endian</c-></code> enumeration could have some benefits, and mirrors the same enumerations come from the (accepted) C++20 paper and idioms found in <a data-link-type="biblio" href="#biblio-p0463">[p0463]</a>, which also went into a <code class="highlight"><c- o>&lt;</c-><c- n>bit</c-><c- o>></c-></code> header. Similar ideas are also present in libraries such as <a data-link-type="biblio" href="#biblio-libcork-byte-order">[libcork-byte-order]</a>, which are hybrid C and C++ libraries that give definitions similar to the ones here. Compilers also define macros such as <code class="highlight"><c- n>__BYTE_ORDER__</c-></code> (Clang/GCC family), or are well-defined to be a certain endianness (Windows is always little-endian).</p>
   <p>The other portion of this is that providing an enumeration helps users pass this information along to functions. Users defining functions that take an endianness, without the enumeration, would define it as so:</p>
<pre class="language-cpp highlight"><c- b>void</c-> <c- nf>my_conversion_unsafe</c-><c- p>(</c-><c- b>int</c-> <c- n>endian</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>data_size</c-><c- p>,</c->
	<c- b>unsigned</c-> <c- b>char</c-> <c- n>data</c-><c- p>[</c-><c- k>static</c-> <c- n>data_size</c-><c- p>]);</c->
</pre>
   <p>The name may specify that it is for an endian, but the range of values is not really known without looking at the documentation. It is also impossible for the compiler to diagnose problematic uses: calling <code class="highlight"><c- n>my_conversion</c-><c- p>(</c-><c- mi>4595944</c-><c- p>,</c-> <c- mi>4</c-><c- p>,</c-> <c- n>ptr</c-><c- p>);</c-></code> is legal, and compilers will not diagnose such a call as wrong. Now, consider the same with the enumeration:</p>
<pre class="language-cpp highlight"><c- b>void</c-> <c- nf>my_conversion_safe</c-><c- p>(</c-><c- n>stdc_endian</c-> <c- n>endian</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>data_size</c-><c- p>,</c->
	<c- b>unsigned</c-> <c- b>char</c-> <c- n>data</c-><c- p>[</c-><c- k>static</c-> <c- n>data_size</c-><c- p>]);</c->
</pre>
   <p>This function call can get diagnosed in (some) implementations:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stddef.h>

<c- k>typedef</c-> <c- k>enum</c-> <c- nc>stdc_endian</c-> <c- p>{</c->
	<c- n>stdc_endian_little</c-> <c- o>=</c-> <c- n>__ORDER_LITTLE_ENDIAN__</c-><c- p>,</c->
	<c- n>stdc_endian_big</c-> <c- o>=</c-> <c- n>__ORDER_BIG_ENDIAN__</c-><c- p>,</c->
	<c- n>stdc_endian_native</c-> <c- o>=</c-> <c- n>__BYTE_ORDER__</c-><c- p>,</c->
<c- p>}</c-> <c- n>stdc_endian</c-><c- p>;</c->

<c- b>void</c-> <c- nf>my_conversion_unsafe</c-><c- p>(</c-><c- b>int</c-> <c- n>endian</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>n</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- n>n</c-><c- p>])</c-> <c- p>{}</c->
<c- b>void</c-> <c- nf>my_conversion_safe</c-><c- p>(</c-><c- n>stdc_endian</c-> <c- n>endian</c-><c- p>,</c-> <c- b>size_t</c-> <c- n>n</c-><c- p>,</c-> <c- b>unsigned</c-> <c- b>char</c-> <c- n>ptr</c-><c- p>[</c-><c- k>static</c-> <c- n>n</c-><c- p>])</c-> <c- p>{}</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
	<c- b>unsigned</c-> <c- b>char</c-> <c- n>arr</c-><c- p>[</c-><c- mi>4</c-><c- p>];</c->
	<c- n>my_conversion_unsafe</c-><c- p>(</c-><c- mi>48558395</c-><c- p>,</c-> <c- k>sizeof</c-><c- p>(</c-><c- n>arr</c-><c- p>),</c-> <c- n>arr</c-><c- p>);</c->
	<c- n>my_conversion_safe</c-><c- p>(</c-><c- mi>48558395</c-><c- p>,</c-> <c- k>sizeof</c-><c- p>(</c-><c- n>arr</c-><c- p>),</c-> <c- n>arr</c-><c- p>);</c->
	<c- c1>//                 ^</c->
	<c- c1>// &lt;source>:15:24: error: integer constant not in range </c->
	<c- c1>// of enumerated type 'stdc_endian' (aka 'enum stdc_endian') [-Werror,-Wassign-enum]</c->
	<c- n>my_conversion_unsafe</c-><c- p>((</c-><c- n>stdc_endian</c-><c- p>)</c-><c- mi>48558395</c-><c- p>,</c-> <c- k>sizeof</c-><c- p>(</c-><c- n>arr</c-><c- p>),</c-> <c- n>arr</c-><c- p>);</c->
	<c- n>my_conversion_safe</c-><c- p>((</c-><c- n>stdc_endian</c-><c- p>)</c-><c- mi>48558395</c-><c- p>,</c-> <c- k>sizeof</c-><c- p>(</c-><c- n>arr</c-><c- p>),</c-> <c- n>arr</c-><c- p>);</c->
	<c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>(Many current implementations do not diagnose it in the current landscape because such implicit conversions are, unfortunately, incredibly common, sometimes for good reason.)</p>
   <h2 class="heading settled" data-level="7" id="acknowledgements"><span class="secno">7. </span><span class="content">Acknowledgements</span><a class="self-link" href="#acknowledgements"></a></h2>
   <p>Many thanks to David Seifert, Aaron Bachmann, Jens Gustedt, Tony Finch, Erin AO Shepherd, and many others who helped fight to get the semantics and wording into the right form, providing motivation, giving example code, pointing out existing libraries, and helping to justify this proposal.</p>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-anderson-bit-hacks">[ANDERSON-BIT-HACKS]
   <dd>Sean Eron Anderson. <a href="https://graphics.stanford.edu/~seander/bithacks.html">Bit Twiddling Hacks</a>. May 5th, 2005. URL: <a href="https://graphics.stanford.edu/~seander/bithacks.html">https://graphics.stanford.edu/~seander/bithacks.html</a>
   <dt id="biblio-arm-setend">[ARM-SETEND]
   <dd>armKEIL. <a href="https://www.keil.com/support/man/docs/armasm/armasm_dom1361289895072.htm">SETEND instruction: ARM and Thumb instructions</a>. December 31st, 2019. URL: <a href="https://www.keil.com/support/man/docs/armasm/armasm_dom1361289895072.htm">https://www.keil.com/support/man/docs/armasm/armasm_dom1361289895072.htm</a>
   <dt id="biblio-clang-builtins">[CLANG-BUILTINS]
   <dd>LLVM Foundation; Clang Contributors. <a href="https://clang.llvm.org/docs/LanguageExtensions.html#intrinsics-support-within-constant-expressions">Clang Language Extensions: Clang Documentation</a>. September 1st, 2021. URL: <a href="https://clang.llvm.org/docs/LanguageExtensions.html#intrinsics-support-within-constant-expressions">https://clang.llvm.org/docs/LanguageExtensions.html#intrinsics-support-within-constant-expressions</a>
   <dt id="biblio-endian-fallacy">[ENDIAN-FALLACY]
   <dd>Rob Pike. <a href="https://commandcenter.blogspot.com/2012/04/byte-order-fallacy.html">The Byte Order Fallacy</a>. April 3rd, 2012. URL: <a href="https://commandcenter.blogspot.com/2012/04/byte-order-fallacy.html">https://commandcenter.blogspot.com/2012/04/byte-order-fallacy.html</a>
   <dt id="biblio-gcc-builtins">[GCC-BUILTINS]
   <dd>GCC Contributors. <a href="https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html">Other Built-in Functions Provided by GCC</a>. September 1st, 2021. URL: <a href="https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html">https://gcc.gnu.org/onlinedocs/gcc/Other-Builtins.html</a>
   <dt id="biblio-libcork-byte-order">[LIBCORK-BYTE-ORDER]
   <dd>Douglas Creager. <a href="https://libcork.io/0.15.0/byte-order.html">libcork: Byte order</a>. November 22nd, 2017. URL: <a href="https://libcork.io/0.15.0/byte-order.html">https://libcork.io/0.15.0/byte-order.html</a>
   <dt id="biblio-linux-endian">[LINUX-ENDIAN]
   <dd>Linux; BSD. <a href="https://linux.die.net/man/3/endian">endian(3)</a>. September 1st, 2021. URL: <a href="https://linux.die.net/man/3/endian">https://linux.die.net/man/3/endian</a>
   <dt id="biblio-msvc-builtins">[MSVC-BUILTINS]
   <dd>Microsoft. <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/byteswap-uint64-byteswap-ulong-byteswap-ushort?view=msvc-160">_byteswap_uint64, _byteswap_ulong, _byteswap_ushort</a>. November 4th, 2016. URL: <a href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/byteswap-uint64-byteswap-ulong-byteswap-ushort?view=msvc-160">https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/byteswap-uint64-byteswap-ulong-byteswap-ushort?view=msvc-160</a>
   <dt id="biblio-n2596">[N2596]
   <dd>ISO/IEC JTC1 SC22 WG14 - Programming Languages, C; JeanHeyd Meneide; Freek Wiedijk. <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2596.pdf">N2596: ISO/IEC 9899:202x - Programming Languages, C</a>. December 11th, 2020. URL: <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2596.pdf">http://www.open-std.org/jtc1/sc22/wg14/www/docs/n2596.pdf</a>
   <dt id="biblio-ntohl">[NTOHL]
   <dd>Linux. <a href="https://linux.die.net/man/3/ntohl">ntohl(3)</a>. September 30th, 2021. URL: <a href="https://linux.die.net/man/3/ntohl">https://linux.die.net/man/3/ntohl</a>
   <dt id="biblio-p0463">[P0463]
   <dd>Howard E. Hinnant. <a href="https://wg21.link/p0463">endian. Just endian.</a>. July 13th, 2017. URL: <a href="https://wg21.link/p0463">https://wg21.link/p0463</a>
   <dt id="biblio-p0553">[P0553]
   <dd>Jens Maurer. <a href="https://wg21.link/p0553">Bit operations</a>. March 1st, 2019. URL: <a href="https://wg21.link/p0553">https://wg21.link/p0553</a>
   <dt id="biblio-portable-endianness">[PORTABLE-ENDIANNESS]
   <dd>David Seifert. <a href="https://github.com/SoapGentoo/portable-endianness">portable-endianness</a>. May 16th, 2021. URL: <a href="https://github.com/SoapGentoo/portable-endianness">https://github.com/SoapGentoo/portable-endianness</a>
   <dt id="biblio-rust-count_ones">[RUST-COUNT_ONES]
   <dd>Rust Standard Library Collaborators. <a href="https://doc.rust-lang.org/std/primitive.u32.html#method.count_ones">u32 methods: count_ones</a>. November 10th, 2021. URL: <a href="https://doc.rust-lang.org/std/primitive.u32.html#method.count_ones">https://doc.rust-lang.org/std/primitive.u32.html#method.count_ones</a>
   <dt id="biblio-sdcc">[SDCC]
   <dd>Dr. Philipp K. Krause. <a href="http://sdcc.sourceforge.net/doc/sdccman.pdf">SDCC Manual §8.1.9 - Bit Rotations</a>. September 25th, 2021. URL: <a href="http://sdcc.sourceforge.net/doc/sdccman.pdf">http://sdcc.sourceforge.net/doc/sdccman.pdf</a>
   <dt id="biblio-ti-tms320c64x">[TI-TMS320C64X]
   <dd>Texas Instruments. <a href="https://www.ti.com/lit/ug/spru732j/spru732j.pdf">TMS320C64x/C64x+ DSP: CPU and Instruction Set</a>. July 31st, 2010. URL: <a href="https://www.ti.com/lit/ug/spru732j/spru732j.pdf">https://www.ti.com/lit/ug/spru732j/spru732j.pdf</a>
  </dl>