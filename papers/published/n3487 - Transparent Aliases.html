<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>N3487: Transparent Aliases</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
			border-bottom: 3px solid transparent;
			margin-bottom: -3px;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom-color: #054572;
			border-bottom-color: var(--toclink-underline);
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      vertical-align: top;
    }
    th, td {
      border-left: none;
      border-right: none;
      padding: 0px 10px;
    }
    th {
      text-align: center;
    }
  </style>
  <meta content="Bikeshed version ac5ea272d, updated Fri Dec 6 15:45:15 2024 -0800" name="generator">
  <link href="https://thephd.dev/_vendor/future_cxx/papers/C%20-%20Transparent%20Aliases.html" rel="canonical">
  <link href="https://isocpp.org/favicon.ico" rel="icon">
  <meta content="3d2766dd605336dd7395f059976682ad5a549199" name="revision">
  <meta content="dark light" name="color-scheme">
<style>
:root {
	/* Default (light) theme */
	--foreground-point: rgb(0,0,0);
	--background-point: rgb(255,255,255);

	--ins-text-color: rgb(0, 182, 15);
	--diff-ins-text-color: rgb(0, 176, 189);
	--del-text-color: rgb(255, 58, 58);
	--diff-del-text-color: rgb(139, 0, 194);
}

/* dark theme */
@media (prefers-color-scheme: dark) {
	:root {
		--foreground-point: rgb(255,255,255);
		--background-point: rgb(0,0,0);

		--ins-text-color: rgb(48, 255, 48);
		--diff-ins-text-color: rgb(91, 250, 255);
		--del-text-color: rgb(255, 52, 52);
		--diff-del-text-color: rgb(244, 129, 255);
	}
}

:root {
	--ins-text-background-color: color-mix(in srgb, var(--ins-text-color) 5%, var(--background-point));
	--ins-code-background-color: color-mix(in srgb, var(--ins-text-color) 15%, var(--background-point));
	--ins-text-decoration-color: color-mix(in srgb, var(--ins-text-color) 10%, var(--foreground-point));
	--ins-text-border-color: color-mix(in srgb, var(--ins-text-color) 50%, var(--foreground-point));
	--diff-ins-text-background-color: color-mix(in srgb, var(--diff-ins-text-color) 5%, var(--background-point));
	--diff-ins-code-background-color: color-mix(in srgb, var(--diff-ins-text-color) 15%, var(--background-point));
	--diff-ins-text-decoration-color: color-mix(in srgb, var(--diff-ins-text-color) 10%, var(--foreground-point));

	--del-text-background-color: color-mix(in srgb, var(--del-text-color) 5%, var(--background-point));
	--del-code-background-color: color-mix(in srgb, var(--del-text-color) 15%, var(--background-point));
	--del-text-decoration-color: color-mix(in srgb, var(--del-text-color) 10%, var(--foreground-point));
	--diff-del-text-background-color: color-mix(in srgb, var(--diff-del-text-color) 5%, var(--background-point));
	--diff-del-code-background-color: color-mix(in srgb, var(--diff-del-text-color) 15%, var(--background-point));
	--diff-del-text-decoration-color: color-mix(in srgb, var(--diff-del-text-color) 10%, var(--foreground-point));
}

@media print {
	.pagebreak { break-after: always }
}

ins .wording-section .highlight:not(.idl) { background: var(--ins-code-background-color); }
diff-ins .wording-section .highlight:not(.idl) { background: var(--diff-ins-code-background-color); }
del .wording-section .highlight:not(.idl) { background: var(--del-code-background-color); }
diff-del .wording-section .highlight:not(.idl) { background: var(--diff-del-code-background-color); }


.tg  {
	border-collapse: collapse;
	border-spacing:0;
}

.tg td{
	padding:10px 10px;
	border-style: solid;
	border-width:1px;
	overflow: hidden;
	word-break: normal;
	border-color: var(--table-border-color, unset);
}
.tg th{
	font-weight: normal;
	padding: 10px 10px;
	border-style: solid;
	border-width: 1px;
	overflow: hidden;
	word-break: normal;
	border-color: black;
}
.tg .tg-c3ow { 
	border-color: unset;
	text-align: center;
	vertical-align: top
}

.quote-ins, quote-ins, quote-ins p, quote-ins div, span.quote-ins, span.quote-ins * {
	border-color: var(--ins-text-border-color);
}

.ins, ins, ins p, ins div, span.ins, span.ins * {
	background-color: var(--ins-text-background-color);
	background: var(--ins-text-background-color);
	color: var(--ins-text-color);
	text-decoration: underline;
	text-decoration-color: var(--ins-text-decoration-color);
	border-color: var(--ins-text-decoration-color);
}

.diff-ins, diff-ins, diff-ins p, diff-ins div, span.diff-ins, span.diff-ins * {
	background-color: var(--diff-ins-text-background-color);
	background: var(--diff-ins-text-background-color);
	color: var(--diff-ins-text-color);
	text-decoration: underline double;
	text-decoration-color: var(--diff-ins-text-decoration-color);
}

.del, del, del p, del div, span.del, span.del * {
	background-color: var(--del-text-background-color);
	background: var(--del-text-background-color);
	color: var(--del-text-color);
	text-decoration: line-through;
	text-decoration-color: var(--del-text-decoration-color);
}

.diff-del, diff-del, diff-del p, diff-del div, span.diff-del, span.diff-del * {
	background-color: var(--diff-del-text-background-color);
	background: var(--diff-del-text-background-color);
	color: var(--diff-del-text-color);
	text-decoration: line-through double;
	text-decoration-color: var(--diff-del-text-decoration-color);
}

code.c-kw {
	font-weight: bold;
}

math, span.math {
	font-family: serif;
	font-style: italic;
}

ul {
	list-style-type: "— ";
}

.wording-clause {
	counter-reset: wording-paragraph;
}

.wording-clause-header {
	font-size: 115%;
	display: block;
	padding-bottom: 1em;
	clear: both;
}

.wording-clause-number {
	font-weight: bold;
}

.wording-clause-title {
	font-weight: bold;
	margin: 2em;
}

.wording-clause-stable-tag {
	float: right;
}

.wording-clause-section-title {
	font-size: 105%;
	font-weight: bold;
}

.clause-stable-tag {
	float: right;
}

.footnote-ref {
	font-size: 75%;
	vertical-align: super;
}

.footnote {
	font-size: 75%;
	vertical-align: bottom;
}

div.wording-section {
	counter-reset: wording-paragraph;
}

div.wording-numbered, div.wording-newnumbered {
	margin-left: 2.5em;
	margin-top: 1em;
	margin-bottom: 1em;
}

div.wording-numbered:before, div.wording-newnumbered:before {
	position: absolute;
	margin-left: -2.5em;
	display: block;
}

div.wording-numbered:before {
	content: counter(wording-paragraph);
	counter-increment: wording-paragraph;
	font-size: smaller;
}

div.wording-newnumbered:before {
	content: counter(wording-paragraph)"✨";
	counter-increment: wording-paragraph;
	font-size: smaller;
}

div.wording-numbered-list ul, div.wording-newnumbered ul {
	counter-reset: wording-list-item;
}

div.wording-numbered-list li, div.wording-newnumbered li {
	margin-left: 4em;
}

div.wording-numbered-list li:before, div.wording-newnumbered li:before {
	position: absolute;
	margin-left: -4em;
	display: block;
}

div.wording-numbered-list li:before {
	font-size: smaller;
	content: "(" counter(wording-paragraph) "." counter(wording-list-item) ")";
	counter-increment: wording-list-item;
}

div.wording-newnumbered-list li:before {
	content: "(✨" counter(wording-paragraph) "." counter(wording-list-item) ")";
	counter-increment: wording-list-item;
}

div.wording-numbered-0 {
	counter-reset: wording-paragraph -1;
}

div.wording-numbered-1 {
	counter-reset: wording-paragraph 0;
}

div.wording-numbered-2 {
	counter-reset: wording-paragraph 1;
}

div.wording-numbered-3 {
	counter-reset: wording-paragraph 2;
}

div.wording-numbered-4 {
	counter-reset: wording-paragraph 3;
}

div.wording-numbered-5 {
	counter-reset: wording-paragraph 4;
}

div.wording-numbered-6 {
	counter-reset: wording-paragraph 5;
}

div.wording-numbered-7 {
	counter-reset: wording-paragraph 6;
}

div.wording-numbered-8 {
	counter-reset: wording-paragraph 7;
}

div.wording-numbered-9 {
	counter-reset: wording-paragraph 8;
}

div.wording-numbered-10 {
	counter-reset: wording-paragraph 9;
}

div.wording-numbered-11 {
	counter-reset: wording-paragraph 10;
}

div.wording-numbered-12 {
	counter-reset: wording-paragraph 11;
}

div.wording-numbered-13 {
	counter-reset: wording-paragraph 12;
}

div.wording-numbered-14 {
	counter-reset: wording-paragraph 13;
}

div.wording-numbered-15 {
	counter-reset: wording-paragraph 14;
}

div.wording-numbered-16 {
	counter-reset: wording-paragraph 15;
}

div.wording-numbered-17 {
	counter-reset: wording-paragraph 16;
}

div.wording-numbered-18 {
	counter-reset: wording-paragraph 17;
}

div.wording-numbered-19 {
	counter-reset: wording-paragraph 18;
}

div.wording-numbered-20 {
	counter-reset: wording-paragraph 19;
}

div.wording-numbered-21 {
	counter-reset: wording-paragraph 20;
}

div.wording-numbered-22 {
	counter-reset: wording-paragraph 21;
}

div.wording-numbered-23 {
	counter-reset: wording-paragraph 22;
}

div.wording-numbered-24 {
	counter-reset: wording-paragraph 23;
}

div.wording-numbered-25 {
	counter-reset: wording-paragraph 24;
}
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">N3487<br>Transparent Aliases</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Published Proposal, <time class="dt-updated" datetime="2025-02-20">2025-02-20</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>Previous Revisions:
     <dd><a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3329.htm">N3329 (r4)</a>, <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3200.htm">N3200 (r3)</a>, <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2970.htm">N2970 (r2)</a>, <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2901.htm">N2901 (r1)</a>, <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2729.htm">N2729 (r0)</a>
     <dt class="editor">Authors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:phdofthehouse@gmail.com">JeanHeyd Meneide</a>
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:shepherd@soasis.org">Shepherd (Shepherd's Oasis LLC)</a>
     <dt>Paper Source:
     <dd><a href="https://thephd.dev/_vendor/future_cxx/papers/source/C%20-Transparent%20Aliases.bs">GitHub</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/ThePhD/future_cxx/issues">GitHub</a>
     <dt>Project:
     <dd>ISO/IEC 9899 Programming Languages — C, ISO/IEC JTC1/SC22/WG14
     <dt>Proposal Category:
     <dd>Change Request, Feature Request
     <dt>Target:
     <dd>C2y
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This proposals attempts to solve 2 intrinsic problems with Library Development in C, including its Standard Library. The first is the ability to have type definitions that are just aliases without functions that can do the same. The second is ABi issues resulting from the inability to provide a small, invisible indirection layer. Therefore, this proposal provides a simple, no-cost way to indirect a function’s identifier from the actual called function, opening the door to a C Standard Library that can be implemented without fear of backwards compatibility/ABI problems. It also enables general developers to upgrade their libraries seamlessly and without interruption to stability.</p>
  </div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#changelog"><span class="secno">1</span> <span class="content">Revision History</span></a>
     <ol class="toc">
      <li><a href="#changelog-r4"><span class="secno">1.1</span> <span class="content">Revision 5 - September 7<sup>th</sup>, 2024</span></a>
      <li><a href="#changelog-r4①"><span class="secno">1.2</span> <span class="content">Revision 4 - September 7<sup>th</sup>, 2024</span></a>
      <li><a href="#changelog-r3"><span class="secno">1.3</span> <span class="content">Revision 3 - December 10<sup>th</sup>, 2023</span></a>
      <li><a href="#changelog-r2"><span class="secno">1.4</span> <span class="content">Revision 2 - June 17<sup>th</sup>, 2022</span></a>
      <li><a href="#changelog-r1"><span class="secno">1.5</span> <span class="content">Revision 1 - September 15<sup>th</sup>, 2021</span></a>
      <li><a href="#changelog-r0"><span class="secno">1.6</span> <span class="content">Revision 0 - May 15<sup>th</sup>, 2021</span></a>
     </ol>
    <li>
     <a href="#motivation"><span class="secno">2</span> <span class="content">Introduction &amp; Motivation</span></a>
     <ol class="toc">
      <li><a href="#motivation-typedefs"><span class="secno">2.1</span> <span class="content">Remaining Core Problem - Typedefs, ABI, and Macros</span></a>
      <li><a href="#motivation-liaison"><span class="secno">2.2</span> <span class="content">Liaison Issue - Stopping C++ Improvements</span></a>
      <li><a href="#motivation-existing"><span class="secno">2.3</span> <span class="content">Standardizing Existing Practice</span></a>
      <li><a href="#motivation-dlsym"><span class="secno">2.4</span> <span class="content"><code class="highlight"><c- n>dlsym</c-></code>, <code class="highlight"><c- n>GetProcAddress</c-></code>, and More</span></a>
      <li><a href="#motivation-evolution"><span class="secno">2.5</span> <span class="content">C Issue - Prevented Evolution</span></a>
     </ol>
    <li>
     <a href="#existing"><span class="secno">3</span> <span class="content">Existing Practice</span></a>
     <ol class="toc">
      <li><a href="#existing-attribute.alias"><span class="secno">3.1</span> <span class="content"><code class="highlight"><c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(...)))</c-></code></span></a>
      <li><a href="#existing-asm"><span class="secno">3.2</span> <span class="content"><code class="highlight"><c- k>asm</c-><c- p>(</c-><c- s>"..."</c-><c- p>)</c-></code>/<code class="highlight"><c- kr>__asm</c-><c- p>(</c-><c- s>"..."</c-><c- p>)</c-></code>/<code class="highlight"><c- n>__asm__</c-><c- p>(</c-><c- s>"..."</c-><c- p>)</c-></code></span></a>
      <li><a href="#existing-pragmas"><span class="secno">3.3</span> <span class="content"><code class="highlight"><c- cp>#pragma</c-></code>s</span></a>
      <li><a href="#existing-ibm"><span class="secno">3.4</span> <span class="content">Other Existing Practice: IBM Compilers</span></a>
     </ol>
    <li>
     <a href="#design"><span class="secno">4</span> <span class="content">Design</span></a>
     <ol class="toc">
      <li><a href="#design-transparent"><span class="secno">4.1</span> <span class="content">Transparency - "Type Definitions, but for Functions"</span></a>
      <li><a href="#design-model"><span class="secno">4.2</span> <span class="content">Modeled after <strong>both</strong> <code class="highlight"><c- k>asm</c-><c- p>(...)</c-></code> and <code class="highlight"><c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(...)))</c-></code></span></a>
      <li>
       <a href="#design-attribute"><span class="secno">4.3</span> <span class="content">Why not an <code class="highlight"><c- p>[[</c-><c- n>attribute</c-><c- p>]]</c-></code>?</span></a>
       <ol class="toc">
        <li><a href="#design-attribute-ignored"><span class="secno">4.3.1</span> <span class="content">Standard Attributes may be ignored</span></a>
        <li><a href="#design-attribute-mangled"><span class="secno">4.3.2</span> <span class="content">There is no such thing as "mangled name" or "symbol name" in the Standard</span></a>
       </ol>
      <li>
       <a href="#design-compatibility"><span class="secno">4.4</span> <span class="content">Backwards-Compatibility with "Vanilla" C Standard Libraries</span></a>
       <ol class="toc">
        <li><a href="#design-compatibility-redeclaration"><span class="secno">4.4.1</span> <span class="content">Standard Library Redeclaration</span></a>
       </ol>
      <li><a href="#design-syntax"><span class="secno">4.5</span> <span class="content">The <code class="highlight"><c- n>_Alias</c-> <c- n>a</c-> <c- o>=</c-> <c- n>b</c-></code> syntax</span></a>
      <li><a href="#design-name"><span class="secno">4.6</span> <span class="content">The literal word <code class="highlight"><c- n>_Alias</c-></code></span></a>
      <li><a href="#design-variables"><span class="secno">4.7</span> <span class="content">Variables</span></a>
     </ol>
    <li>
     <a href="#implementation"><span class="secno">5</span> <span class="content">Implementation Experience</span></a>
     <ol class="toc">
      <li>
       <a href="#implementation-mangled"><span class="secno">5.1</span> <span class="content">What About Mangled Identifiers?</span></a>
       <ol class="toc">
        <li><a href="#implementation-mangled-macos"><span class="secno">5.1.1</span> <span class="content">Darwin / MacOS 15.0</span></a>
       </ol>
     </ol>
    <li>
     <a href="#future"><span class="secno">6</span> <span class="content">Future Directions</span></a>
     <ol class="toc">
      <li><a href="#future-weak"><span class="secno">6.1</span> <span class="content">Weak Declarations vs. Strong declarations</span></a>
     </ol>
    <li>
     <a href="#wording"><span class="secno">7</span> <span class="content">Wording</span></a>
     <ol class="toc">
      <li><a href="#wording-6.2.1p1"><span class="secno">7.1</span> <span class="content">Modify "§6.2.1 Scopes of identifiers", paragraph 1</span></a>
      <li><a href="#wording-6.2.1p4"><span class="secno">7.2</span> <span class="content">Modify "§6.2.1 Scopes of identifiers", paragraph 4</span></a>
      <li><a href="#wording-6.2.1p7"><span class="secno">7.3</span> <span class="content">Modify "§6.2.1 Scopes of identifiers", paragraph 7</span></a>
      <li><a href="#wording-6.2.2"><span class="secno">7.4</span> <span class="content">Modify "§6.2.2 Linkages of identifiers", paragraph 6</span></a>
      <li><a href="#wording-6.2.3"><span class="secno">7.5</span> <span class="content">Add transparent aliases to "§6.2.3 Name spaces of identifiers", paragraph 1, last bullet</span></a>
      <li><a href="#wording-6.4.1"><span class="secno">7.6</span> <span class="content">Add a new keyword to "§6.4.1 Keywords", Syntax, paragraph 1</span></a>
      <li><a href="#wording-6.5.2"><span class="secno">7.7</span> <span class="content">Modify §6.5.2 Primary expressions, Semantics, paragraph 2</span></a>
      <li>
       <a href="#wording-6.7"><span class="secno">7.8</span> <span class="content">Modify "§6.7 Declarations" as follows...</span></a>
       <ol class="toc">
        <li><a href="#wording-6.7.1-p1"><span class="secno">7.8.1</span> <span class="content">§6.7.1 General, Syntax, paragraph 1, with a new "declaration" production</span></a>
        <li><a href="#wording-6.7.1-p2.p4"><span class="secno">7.8.2</span> <span class="content">§6.7.1 General, Constraints, paragraphs 2 and 4</span></a>
        <li><a href="#wording-6.7.1-p7"><span class="secno">7.8.3</span> <span class="content">§6.7.1 General, Semantics, paragraph 7</span></a>
        <li><a href="#wording-6.7.5.p3"><span class="secno">7.8.4</span> <span class="content">Modify §6.7.5 Function specifiers, paragraph 3</span></a>
       </ol>
      <li><a href="#wording-6.6.1"><span class="secno">7.9</span> <span class="content">Modify "§6.6.1 General" paragraph 7</span></a>
      <li><a href="#wording-6.9"><span class="secno">7.10</span> <span class="content">Modify "§6.9 External definitions" paragraphs 3 and 5</span></a>
      <li><a href="#wording-6.7.✨"><span class="secno">7.11</span> <span class="content">Add a new sub-clause "§6.7.✨ Transparent alias" somewhere after "6.7.9 Type definitions"</span></a>
     </ol>
    <li>
     <a href="#appendix"><span class="secno">8</span> <span class="content">Appendix</span></a>
     <ol class="toc">
      <li><a href="#appendix-freebsd"><span class="secno">8.1</span> <span class="content">FreeBSD <code class="highlight"><c- n>cdefs</c-><c- p>.</c-><c- n>h</c-></code> with <code class="highlight"><c- n>__sym_compat</c-></code> macro</span></a>
      <li><a href="#appendix-macos.time.h"><span class="secno">8.2</span> <span class="content">MacOS 15.0 Sequoia <code class="highlight"><c- n>_time</c-><c- p>.</c-><c- n>h</c-></code> Code</span></a>
      <li>
       <a href="#appendix-musl"><span class="secno">8.3</span> <span class="content">musl-libc Aliasing/Renaming Features</span></a>
       <ol class="toc">
        <li><a href="#appendix-musl-redirect"><span class="secno">8.3.1</span> <span class="content">musl-libc "<code class="highlight"><c- n>redirect</c-></code>" Functionality</span></a>
        <li><a href="#appendix-musl-time32.h"><span class="secno">8.3.2</span> <span class="content">musl-libc 32-bit time compatibility compatibility shim</span></a>
       </ol>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <div class="pagebreak"></div>
   <h2 class="heading settled" data-level="1" id="changelog"><span class="secno">1. </span><span class="content">Revision History</span><a class="self-link" href="#changelog"></a></h2>
   <h3 class="heading settled" data-level="1.1" id="changelog-r4"><span class="secno">1.1. </span><span class="content">Revision 5 - September 7<sup>th</sup>, 2024</span><a class="self-link" href="#changelog-r4"></a></h3>
   <ul>
    <li data-md>
     <p>Add a change for ensuring that 6.7.5 function specifiers follows transparent aliases and that they are external definitions as part of the inline functions.</p>
    <li data-md>
     <p>Make sure "named constant" in 6.6.1 Constant expressions, General specifically blesses transparent aliases.</p>
   </ul>
   <h3 class="heading settled" data-level="1.2" id="changelog-r4①"><span class="secno">1.2. </span><span class="content">Revision 4 - September 7<sup>th</sup>, 2024</span><a class="self-link" href="#changelog-r4①"></a></h3>
   <ul>
    <li data-md>
     <p>Drastically improve the paper’s reasoning and examples in <a href="#design">§ 4 Design</a>.</p>
    <li data-md>
     <p>Add several real-life code examples from C standard and platform libraries in the <a href="#appendix">§ 8 Appendix</a>.</p>
    <li data-md>
     <p>Specifically address the idea that glibc and other libraries which have special names must keep linker names under a specific name and thus breaks this feature / breaks <code class="highlight"><c- n>dlsym</c-></code> in <a href="#motivation-dlsym">§ 2.4 dlsym, GetProcAddress, and More</a>.</p>
    <li data-md>
     <p>Specifically address the way composite types and other redeclarations of the types are done; refined the <a href="#wording">§ 7 Wording</a>.</p>
   </ul>
   <h3 class="heading settled" data-level="1.3" id="changelog-r3"><span class="secno">1.3. </span><span class="content">Revision 3 - December 10<sup>th</sup>, 2023</span><a class="self-link" href="#changelog-r3"></a></h3>
   <ul>
    <li data-md>
     <p>Clean up a few terribly written sentences in the explanation and prose.</p>
    <li data-md>
     <p>Rewrote large parts of the wording based on feedback from Joseph Myers.</p>
    <li data-md>
     <p>Completely clean up redeclarations and other interactions (redeclarations of existing functions do not matter to this feature, as explained in <a href="#design-compatibility-redeclaration">§ 4.4.1 Standard Library Redeclaration</a>).</p>
   </ul>
   <h3 class="heading settled" data-level="1.4" id="changelog-r2"><span class="secno">1.4. </span><span class="content">Revision 2 - June 17<sup>th</sup>, 2022</span><a class="self-link" href="#changelog-r2"></a></h3>
   <ul>
    <li data-md>
     <p>Provide implementation of Transparent Aliases, available at <a href="https://github.com/ThePhD/llvm-project/commit/d81faeefa01e7c57a222f5bdfe355bb6a7f4b84f">this Clang fork</a>.</p>
    <li data-md>
     <p>Provide <a href="https://github.com/ThePhD/transparent-aliases">a proof of concept</a> using the above implementation, which works on Windows, Mac, and Linux machines where the modified Clang compiler can be deployed.</p>
    <li data-md>
     <p>Tweak redeclaration rules for Aliases, to solve Standard Library and other library redeclarations in the face of Aliases.</p>
    <li data-md>
     <p>Add wording for functionality for variables, since all implementations support variables in the prior art.</p>
    <li data-md>
     <p>Mark release for C2y/C3a.</p>
   </ul>
   <h3 class="heading settled" data-level="1.5" id="changelog-r1"><span class="secno">1.5. </span><span class="content">Revision 1 - September 15<sup>th</sup>, 2021</span><a class="self-link" href="#changelog-r1"></a></h3>
   <ul>
    <li data-md>
     <p>Adjust motivation / explanation of <code class="highlight"><c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(</c->…<c- p>)))</c-></code> and how it relates to this proposal.</p>
   </ul>
   <h3 class="heading settled" data-level="1.6" id="changelog-r0"><span class="secno">1.6. </span><span class="content">Revision 0 - May 15<sup>th</sup>, 2021</span><a class="self-link" href="#changelog-r0"></a></h3>
   <ul>
    <li data-md>
     <p>Initial release. ✨</p>
   </ul>
   <h2 class="heading settled" data-level="2" id="motivation"><span class="secno">2. </span><span class="content">Introduction &amp; Motivation</span><a class="self-link" href="#motivation"></a></h2>
   <p>After at least 3 papers were burned through attempting to <a href="https://thephd.dev/intmax_t-hell-c++-c">solve the intmax_t problem</a>, a number of issues were unearthed with each individual solution (<a data-link-type="biblio" href="#biblio-n2465" title="intmax_t, a way forward">[N2465]</a>, <a data-link-type="biblio" href="#biblio-n2498" title="intmax_t, again">[N2498]</a>, <a data-link-type="biblio" href="#biblio-n2425" title="intmax_t, a way out v.2">[N2425]</a>, <a data-link-type="biblio" href="#biblio-n2525" title="Remove the `fromfp`, `ufromfp`, `fromfpx`, `ufromfpx`, and other intmax_t functions">[N2525]</a>). Whether it was having to specifically lift the ban that §7.1.4 places on macros for standard library functions, or having to break the promise that <code class="highlight"><c- b>intmax_t</c-></code> can keep expanding to fit larger integer types, the Committee and the community at large had a problem providing this functionality.</p>
   <p>Thankfully, progress is being made. With Robert Seacord’s "Specific-width length modifier" paper was approved for C23 (<a data-link-type="biblio" href="#biblio-n2680" title="Specific-width length modifier">[N2680]</a>), we solved one of the primary issues faced with <code class="highlight"><c- b>intmax_t</c-></code> improvements, which was that there was no way to print out a integral expression with a width greater than <code class="highlight"><c- b>long</c-> <c- b>long</c-></code>. Seacord’s addition to the C standard also prevented a security issue that commonly came from printing incorrectly sized integers as well: there’s a direct correlation between the bits of the supported types and the bits of the given in the formatting string now, without having to worry about the type beyond a <code class="highlight"><c- k>sizeof</c-><c- p>(...)</c-></code> check. This solved 1 of the 2 core problems.</p>
   <h3 class="heading settled" data-level="2.1" id="motivation-typedefs"><span class="secno">2.1. </span><span class="content">Remaining Core Problem - Typedefs, ABI, and Macros</span><a class="self-link" href="#motivation-typedefs"></a></h3>
   <p>Library functions in a "very vanilla" implementation of a C Standard Library (e.g., simply a sequence of function declarations/definitions of the exact form given in the C Standard) have a strong tie between the name of the function (e.g., <code class="highlight"><c- n>imaxabs</c-></code>) and the symbol present in the final, compiled binary (e.g., <code class="highlight"><c- n>_imaxabs</c-></code>). This symbol is tied to a specific numeric type (e.g., <code class="highlight"><c- k>typedef</c-> <c- b>long</c-> <c- b>long</c-> <c- b>intmax_t</c-></code>), which creates a strong relationship between the way the function is called (register usage, etc.) and more. Upgrading that type breaks old binaries that still call the old symbol; for example, <code class="highlight"><c- n>_imaxabs</c-></code> being handed a <code class="highlight"><c- n>__int128_t</c-></code> instead of a <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> as an old application anticipates can result in the wrong registers being used, or worse. Thusly, because the Standard Library is bound by these rules and because implementations rely on functions with <code class="highlight"><c- k>typedef</c-></code>-based types in them to resolve to a very specific symbol, we cannot upgrade any of the <code class="highlight"><c- k>typedef</c-></code>s (e.g., what <code class="highlight"><c- b>intmax_t</c-></code> is) or change anything about the functions (e.g., change <code class="highlight"><c- n>imaxabs</c-></code>’s declaration in any way consequential fashion).</p>
   <p>Furthermore, macros cannot be used to "smooth" over the "real function call" because §7.1.4 specifically states that a user of the standard library has the right to deploy macro-suppressing techniques (e.g., <code class="highlight"><c- p>(</c-><c- n>imaxabs</c-><c- p>)(</c-><c- mi>24</c-><c- p>)</c-></code>) to call a library function (unless the call is designated to be a macro). This also includes preventing their existence as a whole with <code class="highlight"><c- cp>#undef imaxabs</c-></code>: every call after that <code class="highlight"><c- cp>#undef</c-></code> directive to <code class="highlight"><c- n>imaxabs</c-><c- p>(...)</c-></code> must work and compile according to the Standard. While this guarantees users that they can always get a function pointer or a "real function name" from a given C Standard library function name, it also refuses implementations the ability to provide backwards compatibility shims using the only Standards-applicable tool in C and C++.</p>
   <h3 class="heading settled" data-level="2.2" id="motivation-liaison"><span class="secno">2.2. </span><span class="content">Liaison Issue - Stopping C++ Improvements</span><a class="self-link" href="#motivation-liaison"></a></h3>
   <p>This is both a C Standard Library issue and a C++ Standard Library issue. Not only is it impossible to change the C Standard Library, but because of these restrictions and because the C Standard Library is included by-reference into C++, we cannot make any of the necessary changes to solve this problem in C++. This elevates the level of this problem to a <strong>liaison issue</strong> that must be fixed if we are to make forward progress in both C and C++.</p>
   <h3 class="heading settled" data-level="2.3" id="motivation-existing"><span class="secno">2.3. </span><span class="content">Standardizing Existing Practice</span><a class="self-link" href="#motivation-existing"></a></h3>
   <p>While the C Standard Committee struggles with this issue, many other libraries that have binary interfaces communicated through shared or dynamically linked libraries have solved this problem. MSVC uses a complex versioning and symbol resolution scheme with its DLLs, which we will not (and could not) properly standardize here. But, other implementations have been using implementation-defined aliasing techniques that effectively change the symbol used in the final binary that is different from the "normal" symbol that would be produced by a given function declaration.</p>
   <p>These techniques, expanded upon in the design section as to why we chose the syntax we did for this proposal, have existed for at least 15 years in the forms discussed before, and longer with linker-specific techniques. Existing practice has allowed it for both functions and variables for as long as can be tracked using this code, so we make aim to make both functions (declarations and definitions) and variables work.</p>
   <h3 class="heading settled" data-level="2.4" id="motivation-dlsym"><span class="secno">2.4. </span><span class="content"><code class="highlight"><c- n>dlsym</c-></code>, <code class="highlight"><c- n>GetProcAddress</c-></code>, and More</span><a class="self-link" href="#motivation-dlsym"></a></h3>
   <p>There is, unfortunately, no guarantee that asking for e.g. <code class="highlight"><c- n>strftime</c-></code> or similar raw name from the C standard library will actually directly translate to having such a definition findable in a program with an appropriately loaded standard library with implementation-defined functionality such as <code class="highlight"><c- n>dlsym</c-></code> or <code class="highlight"><c- n>GetProcAddress</c-></code>. Oftentimes, users need to actually specifically ask for certain function names, including decorating them with <code class="highlight"><c- n>__</c-></code> and <code class="highlight"><c- mi>64</c-></code> (to match some musl-libc functions) or similar for glibc and otherwise. How long these symbols stick around is a matter of implementation quality, though sometimes such changes result in very difficult-to-change Application Binary Interfaces.</p>
   <p>From NetBSD, in large text in a heading:</p>
   <blockquote>
    <p><b>Programs that use dlsym(3), such as C foreign function interfaces in dynamic languages like Python, need to know that if they want the legacy 32-bit <code class="highlight"><c- n>time</c-><c- p>()</c-></code> function, they must use the symbol <code class="highlight"><c- n>time</c-></code>, and if they want the modern 64-bit time() function, they must use the symbol <code class="highlight"><c- n>__time50</c-></code>.</b></p>
    <p>— <a href="https://wiki.netbsd.org/symbol_versions/">NetBSD: Symbol Versions</a></p>
   </blockquote>
   <p>It is clear that C implementations do not require a 1:1 mapping between C standard library names and actual symbols on the machine.</p>
   <h3 class="heading settled" data-level="2.5" id="motivation-evolution"><span class="secno">2.5. </span><span class="content">C Issue - Prevented Evolution</span><a class="self-link" href="#motivation-evolution"></a></h3>
   <p>Not fixing this issue also comes with a grave problem without considering C++ at all. We have no way of seamlessly upgrading our libraries without forcing end-users to consider ABI breakage inherit in changes type definitions or having library authors jump through implementation-specific and frightening hoops for creating (transparent) layers of indirection between a function call and the final binary. This means large swaths of C’s standard library, due to §7.1.4, are entirely static and non-upgradeable, even if we write functions that use type definitions that can change.</p>
   <p>This is, by itself, a completely untenable situation that hampers the growth of C. If we cannot even change type definitions due to constraints such as linkage names from old code without needing a computer-splitting architectural change (e.g., the change from <code class="highlight"><c- n>i686</c-></code> "32-bit" architectures to <code class="highlight"><c- n>x86_64</c-></code> "64-bit" architectures that allowed for <code class="highlight"><c- b>size_t</c-></code> to change), with what hope could be possibly have in getting C to evolve? How can we have it meet current hardware specifications and software needs? Users have been raging on about the lack of an <code class="highlight"><c- n>int128_t</c-></code> in C, or a maximum integer type, and some implementers and platform users have stated:</p>
   <blockquote>
    <p>I am unreasonably angry about this, because the <code class="highlight"><c- b>intmax_t</c-></code> situation has kept me from enabling completely-working first-class <code class="highlight"><c- n>int128</c-></code> support out of clang for a decade. In that decade, I personally would have used 128b literals more times in personal and professional projects than the entire world has used <code class="highlight"><c- b>intmax_t</c-></code> to beneficial effect, ever, in total.</p>
    <p>— <a href="https://twitter.com/stephentyrone/status/1329796144193556482">Steve Canon, Mathematician &amp; Clang Developer</a></p>
   </blockquote>
   <p>At the surface of this issue and as illustrated by the many failed — and one successful — papers for <code class="highlight"><c- b>intmax_t</c-></code> is that we need a better way for type definitions to be used for interfaces in the C standard. Underlying it is a wound that has begun to fester in the presence of not having a reason to invent wildly new architectures that necessitate fundamentally recompiling the world. Our inability to present a stable interface for users in a separable and Standards-Compliant way from the binary representation of a function that we cherish so deeply is becoming an increasing liability. If every function (the fundamental unit of doing work) essentially becomes impossible to change in any way, shape, or form, then what we are curating is not a living and extensible programming language but a dying system that is unequivocally doomed to general failure and eventual replacement.</p>
   <h2 class="heading settled" data-level="3" id="existing"><span class="secno">3. </span><span class="content">Existing Practice</span><a class="self-link" href="#existing"></a></h2>
   <p>To solve this problem, we pull from heavily deployed existing practice across all toolchains, standard libraries, embedded and server toolchains, and many more commercial and non-commercial compilers. It is, perhaps, one of the most widely deployed existing practices in the world insofar as C is concerned.</p>
   <h3 class="heading settled" data-level="3.1" id="existing-attribute.alias"><span class="secno">3.1. </span><span class="content"><code class="highlight"><c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(...)))</c-></code></span><a class="self-link" href="#existing-attribute.alias"></a></h3>
   <p>It is not a coincidence that, in the initial example in <a href="#design">§ 4 Design</a>, we are using <code class="highlight"><c- n>__glibc</c->…</code> prefixes for the 2 <code class="highlight"><c- n>imaxabs</c-></code> function calls. Tying a function to a name it does not normally "mangle" to in the linker is a common implementation technique among more advanced C Standard Library Implementations, such as musl-libc and glibc. It is also a common technique deployed in many allocators to override symbols found in downstream binary artifacts, albeit this proposal does not cover the "weak symbol" portion of the alias techniques deployed by these libraries since that is sometimes limited to specific link-time configurations, binary artifact distributions, and platform architecture.</p>
   <p>Particularly, this proposal is focusing on the existing GCC-style attribute and a Clang-style attribute. The GCC attribute (<a data-link-type="biblio" href="#biblio-gcc-attribute" title="Function attributes: alias">[gcc-attribute]</a>) provides the behavioral inspiration (but not exactly) for this proposal in its requirements, by effectively allowing for an existing function declaration to have its address made identical to the function it is aliasing:</p>
<pre class="language-cpp highlight"><c- b>void</c-> <c- nf>__real_function</c-> <c- p>(</c-><c- b>void</c-><c- p>)</c-> <c- p>{</c-> <c- d>/* real work here... */</c-><c- p>;</c-> <c- p>}</c->
<c- b>void</c-> <c- n>function_decl</c-><c- p>(</c-><c- b>void</c-><c- p>)</c-> <c- n>__attribute__</c-> <c- p>((</c-><c- n>alias</c-> <c- p>(</c-><c- s>"__real_function"</c-><c- p>)));</c->
</pre>
   <p>This code will set up <code class="highlight"><c- n>function_decl</c-></code> to contain an <strong>additional</strong> (potentially external) entry point for the address of <code class="highlight"><c- n>__real_function</c-></code>. It is common implementation practice amongst compilers that are GCC-compatible and that focus on binary size reduction and macro-less, transparent, zero-cost indirection. It has the small caveat that it requires the target of the attribute to be fully defined before this happens, so it can definitively insert the address of the new entry point. For example, here is documentation from the Keil’s armcc compiler (<a data-link-type="biblio" href="#biblio-keil-attribute" title="__attribute__((alias)) function attribute">[keil-attribute]</a>):</p>
<pre class="language-cpp highlight"><c- k>static</c-> <c- b>int</c-> <c- nf>oldname</c-><c- p>(</c-><c- b>int</c-> <c- n>x</c-><c- p>,</c-> <c- b>int</c-> <c- n>y</c-><c- p>)</c-> <c- p>{</c->
  <c- k>return</c-> <c- n>x</c-> <c- o>+</c-> <c- n>y</c-><c- p>;</c->
<c- p>}</c->
<c- k>static</c-> <c- b>int</c-> <c- n>newname</c-><c- p>(</c-><c- b>int</c-> <c- n>x</c-><c- p>,</c-> <c- b>int</c-> <c- n>y</c-><c- p>)</c-> <c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(</c-><c- s>"oldname"</c-><c- p>)));</c->
<c- b>int</c-> <c- nf>caller</c-><c- p>(</c-><c- b>int</c-> <c- n>x</c-><c- p>,</c-> <c- b>int</c-> <c- n>y</c-><c- p>)</c-> <c- p>{</c->
  <c- k>return</c-> <c- n>oldname</c-><c- p>(</c-><c- n>x</c-><c- p>,</c-><c- n>y</c-><c- p>)</c-> <c- o>+</c-> <c- n>newname</c-><c- p>(</c-><c- n>x</c-><c- p>,</c-><c- n>y</c-><c- p>);</c->
<c- p>}</c->
</pre>
   <p>This code compiles to:</p>
<pre class="language-cpp highlight"><c- n>AREA</c-> <c- o>||</c-><c- p>.</c-><c- n>text</c-><c- o>||</c-><c- p>,</c-> <c- n>CODE</c-><c- p>,</c-> <c- n>READONLY</c-><c- p>,</c-> <c- n>ALIGN</c-><c- o>=</c-><c- mi>2</c->
<c- n>newname</c->                  <c- p>;</c-> <c- n>Alternate</c-> <c- n>entry</c-> <c- n>point</c->
<c- n>oldname</c-> <c- n>PROC</c->
  <c- n>MOV</c->      <c- n>r2</c-><c- p>,</c-><c- n>r0</c->
  <c- n>ADD</c->      <c- n>r0</c-><c- p>,</c-><c- n>r2</c-><c- p>,</c-><c- n>r1</c->
  <c- n>BX</c->       <c- n>lr</c->
  <c- n>ENDP</c->
<c- n>caller</c-> <c- n>PROC</c->
  <c- n>PUSH</c->     <c- p>{</c-><c- n>r4</c-><c- p>,</c-><c- n>r5</c-><c- p>,</c-><c- n>lr</c-><c- p>}</c->
  <c- n>MOV</c->      <c- n>r3</c-><c- p>,</c-><c- n>r0</c->
  <c- n>MOV</c->      <c- n>r4</c-><c- p>,</c-><c- n>r1</c->
  <c- n>MOV</c->      <c- n>r1</c-><c- p>,</c-><c- n>r4</c->
  <c- n>MOV</c->      <c- n>r0</c-><c- p>,</c-><c- n>r3</c->
  <c- n>BL</c->       <c- n>oldname</c->
  <c- n>MOV</c->      <c- n>r5</c-><c- p>,</c-><c- n>r0</c->
  <c- n>MOV</c->      <c- n>r1</c-><c- p>,</c-><c- n>r4</c->
  <c- n>MOV</c->      <c- n>r0</c-><c- p>,</c-><c- n>r3</c->
  <c- n>BL</c->       <c- n>oldname</c->
  <c- n>ADD</c->      <c- n>r0</c-><c- p>,</c-><c- n>r0</c-><c- p>,</c-><c- n>r5</c->
  <c- n>POP</c->      <c- p>{</c-><c- n>r4</c-><c- p>,</c-><c- n>r5</c-><c- p>,</c-><c- n>pc</c-><c- p>}</c->
  <c- n>ENDP</c->
</pre>
   <p>There are many compilers which implement exactly this behavior with exactly this GCC-extension syntax such as Oracle’s C Compiler, the Intel C Compiler, the Tiny C Compiler, and Clang (<a data-link-type="biblio" href="#biblio-oracle-attribute" title="2.9 Supported Attributes">[oracle-attribute]</a>, <a data-link-type="biblio" href="#biblio-intel-attribute" title="Documentation: attribute">[intel-attribute]</a>).</p>
   <p>Intermediate object files may still carry the name "<code class="highlight"><c- n>function_decl</c-></code>", as well as an "alternate" name for the chosen functionality. This gets up fairly close to the desired behavior but not quite: we want to create an entity that, ultimately, has no linkage and is specified in such a way that it will almost always disappear in both intermediate objects and final artifacts, wherever possible, while still providing a level of compile-time indirection. In this way this feature departs from how <code class="highlight"><c- n>alias</c-></code> in GCC’s attribute syntax works, but we find this departure to be worth the effort.</p>
   <p>In order to clean away the minor issue of always creating a secondary external declaration that produces a "second name" in final artifacts with <code class="highlight"><c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(</c->…<c- p>)))</c-></code> and similar, we then turn to another existing practice that does such renaming transparently, but does not require a second function declaration to map to a first one and does not always produce a secondary external name: <code class="highlight"><c- k>asm</c-><c- p>(</c->…<c- p>)</c-></code> labels and <code class="highlight"><c- cp>#pragma</c-></code> definitions.</p>
   <h3 class="heading settled" data-level="3.2" id="existing-asm"><span class="secno">3.2. </span><span class="content"><code class="highlight"><c- k>asm</c-><c- p>(</c-><c- s>"..."</c-><c- p>)</c-></code>/<code class="highlight"><c- kr>__asm</c-><c- p>(</c-><c- s>"..."</c-><c- p>)</c-></code>/<code class="highlight"><c- n>__asm__</c-><c- p>(</c-><c- s>"..."</c-><c- p>)</c-></code></span><a class="self-link" href="#existing-asm"></a></h3>
   <p>The second and equally as prominent existing practice for this behavior is what is known as "assembly labels". Clang also features this <code class="highlight"><c- k>asm</c-></code>-style attribute, where the function’s name is "mangled" to exactly the name given (<a data-link-type="biblio" href="#biblio-clang-asm" title="Attributes: asm">[clang-asm]</a>). GCC has this behavior as well (<a data-link-type="biblio" href="#biblio-gcc-attribute" title="Function attributes: alias">[gcc-attribute]</a>). This is how NetBSD and other BSDs have been solving their Application Binary Interface woes <a data-link-type="biblio" href="#biblio-netbsd-symbols" title="Symbol Versioning">for nearly 30 years now</a>. To borrow the example from NetBSD, they had an issue with their old, 32-bit time function being a 32-bit number. To solve this problem, they used 2 source files and 1 header file to export 2 differently-named symbols, but present the same declaration in the frontend for users:</p>
   <p><code class="highlight"><c- n>old_time</c-><c- p>.</c-><c- n>c</c-></code></p>
<pre class="language-cpp highlight"><c- c1>// old, fixed declarations</c->

<c- b>long</c-> <c- nf>time</c-><c- p>(</c-><c- b>long</c-> <c- o>*</c-><c- n>ptime</c-><c- p>)</c-> <c- p>{</c-> <c- c1>// no label: exports "time" symbol</c->
  <c- d>/* old source here... */</c->
<c- p>}</c->
</pre>
   <p><code class="highlight"><c- n>time</c-><c- p>.</c-><c- n>c</c-></code></p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;time.h>

<c- b>time_t</c-> <c- n>time</c-><c- p>(</c-><c- b>time_t</c-> <c- o>*</c-><c- n>ptime</c-><c- p>)</c-> <c- kr>__asm</c-><c- p>(</c-><c- s>"time50"</c-><c- p>)</c-> <c- p>{</c-> <c- c1>// label: exports "time50" symbol</c->
  <c- d>/* source here... */</c->
<c- p>}</c->
</pre>
   <p><code class="highlight"><c- n>time</c-><c- p>.</c-><c- n>h</c-></code></p>
<pre class="language-cpp highlight"><c- k>typedef</c-> <c- b>long</c-> <c- b>long</c-> <c- b>time_t</c-><c- p>;</c->

<c- b>time_t</c-> <c- n>time</c-><c- p>(</c-><c- b>time_t</c-> <c- o>*</c-><c- n>ptime</c-><c- p>)</c-> <c- kr>__asm</c-><c- p>(</c-><c- s>"time50"</c-><c- p>);</c->
</pre>
   <p>This sequence of header and source files accomplishes the goal precisely of:</p>
   <ul>
    <li data-md>
     <p>maintaining backwards binary compatibility with old binaries that expect a <code class="highlight"><c- n>time</c-></code> function to exist that works with the registers associated with taking a <code class="highlight"><c- b>long</c-></code> argument and returning a 32-bit <code class="highlight"><c- b>long</c-></code> argument;</p>
    <li data-md>
     <p>presenting the updated, user-facing, new <code class="highlight"><c- n>time</c-></code> function that will not overwrite the other symbol (as it’s name in the "assembly" has been changed to "<code class="highlight"><c- n>time50</c-></code>");</p>
    <li data-md>
     <p>allows a seamless upgrade experience in the right direction.</p>
   </ul>
   <p>Notice how this has allowed NetBSD to go from <code class="highlight"><c- b>long</c-></code> to <code class="highlight"><c- b>long</c-> <c- b>long</c-></code> without issue: in general, this works extraordinarily well for functions that are paired with a typ definition. Users can be seamlessly upgrading by changing the type definition and/or structure while updating a function to have a newer assembly label in lock-step. Code that compiles more recently gets the new version with the new binary name, while old code that is not recompiled or changed continues to have its structures, layouts, expected stack/register usage preserved. This provides a way to upgrade users compiling new code without breaking binary users: in effect, this gets around the Application Binary Interface Break (ABI Break) problem that exists for many libraries in C.</p>
   <h3 class="heading settled" data-level="3.3" id="existing-pragmas"><span class="secno">3.3. </span><span class="content"><code class="highlight"><c- cp>#pragma</c-></code>s</span><a class="self-link" href="#existing-pragmas"></a></h3>
   <p>Microsoft Visual C uses a (slightly more complex) stateful pragma mechanisms and external compiler markup (<a data-link-type="biblio" href="#biblio-msvc-exports" title="EXPORTS | Microsoft Docs">[msvc-exports]</a>). MSVC’s <code class="highlight"><c- cp>#pragma</c-></code>-based approach can be coordinated entirely inside of the compiler, or it can rely on <code class="highlight"><c- n>EXPORT</c-></code> commands and files given to a linker. Oracle’s <code class="highlight"><c- cp>#pragma redefine_extname</c-></code> (<a data-link-type="biblio" href="#biblio-oracle-pragma" title="2.12.22 redefine_extname">[oracle-pragma]</a>) is another similar extension that performs the equivalent of a find-and-replace for a given symbol name with the new symbol name. These are effectively assembly labels but done through blanket find-and-replace and similar implementation strategies. We will not expand upon it much further than that, as it is not much more interesting than "assembly labels through <code class="highlight"><c- cp>#pragma</c-></code>".</p>
   <p>They are harder to standardize because each mechanism relies too heavily on instructing the platform’s linker and the details of binary artifacts to get the job done. It is hard to work with these as there is very little meaningful semantic constraints that can be placed on their designs that are enforceable within the boundaries of the Abstract Machine for standard C, and the experience when working with either of these directly is subpar; there can be no linker errors at all until an executable that needs a specific function is loaded, and only then will an error be tossed by the application loader. This is not friendly design for library writers or application developers.</p>
   <h3 class="heading settled" data-level="3.4" id="existing-ibm"><span class="secno">3.4. </span><span class="content">Other Existing Practice: IBM Compilers</span><a class="self-link" href="#existing-ibm"></a></h3>
   <p>IBM has also stated that they have a similar extension in some of their non-public offerings, which create a compile-time link between two identifiers that does not perform any run-time or link-time replacement or changes.</p>
   <h2 class="heading settled" data-level="4" id="design"><span class="secno">4. </span><span class="content">Design</span><a class="self-link" href="#design"></a></h2>
   <p>Our goal with this feature is to create an identifier with no linkage (therefore costing no binary space even with a naïve implementation) that can point to any variable or function, following the widespread <a href="#existing">§ 3 Existing Practice</a>. From the motivation and analysis above, we need the following properties:</p>
   <ul>
    <li data-md>
     <p>It must be a concrete name (identifier), not a macro.</p>
    <li data-md>
     <p>It must be able to decay to a function pointer when referenced plainly by name, like a normal function declaration, and that value must be usable (unlike a function macro).</p>
    <li data-md>
     <p>It should not require producing a symbol on non-interpreter implementations of C for a simple, straightforward implementation of the feature.</p>
    <li data-md>
     <p>It should allow for an implementation to upgrade or change the arguments or return type of a concrete symbol without requiring a detectable binary break when used in the same way that the existing practice has been used for C implementations.</p>
   </ul>
   <p>To fulfill these requirements, we propose the a new <em>transparent-alias</em> construct that, in general, would be used like such:</p>
<pre class="language-cpp highlight"><c- k>extern</c-> <c- b>long</c-> <c- b>long</c-> <c- nf>__glibc_imaxabs228</c-><c- p>(</c-><c- b>long</c-> <c- b>long</c-><c- p>);</c->
<c- k>extern</c-> <c- n>__int128_t</c-> <c- nf>__glibc_imaxabs229</c-><c- p>(</c-><c- n>__int128_t</c-><c- p>);</c->

<c- d>/* ... */</c->

<c- cp>#if __GNU_LIBC &lt;= 228</c->
  <c- n>_Alias</c-> <c- n>imaxabs</c-> <c- o>=</c-> <c- n>__glibc_imaxabs228</c-><c- p>;</c->
<c- cp>#else</c->
  <c- n>_Alias</c-> <c- n>imaxabs</c-> <c- o>=</c-> <c- n>__glibc_imaxabs229</c-><c- p>;</c->
<c- cp>#endif</c->

<c- d>/* ... */</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- b>intmax_t</c-> <c- n>x</c-> <c- o>=</c-> <c- n>imaxabs</c-><c- p>(</c-><c- mi>-50</c-><c- p>);</c->
  <c- k>return</c-> <c- p>(</c-><c- b>int</c-><c- p>)</c-><c- n>x</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>It is composed of the <code class="highlight"><c- n>_Alias</c-></code> keyword, followed by an <em>identifier</em>, the <code class="highlight"><c- n>equal</c-> <c- n>sign</c-></code> token, and then another <em>identifier</em>. The identifier on the right hand side must be either a previously declared <em>transparent-alias</em> or name a function declaration. Below, we explore the merits of this design and its origins.</p>
   <h3 class="heading settled" data-level="4.1" id="design-transparent"><span class="secno">4.1. </span><span class="content">Transparency - "Type Definitions, but for Functions"</span><a class="self-link" href="#design-transparent"></a></h3>
   <p>We call this <strong>transparent</strong> because it is, effectively, unobservable from the position of a library consumer, that this mechanism has been deployed. The following code snippet illustrates the properties associated with Transparent Function Aliases:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;assert.h>

<c- b>int</c-> <c- nf>other_func</c-> <c- p>(</c-><c- b>double</c-> <c- n>d</c-><c- p>,</c-> <c- b>int</c-> <c- n>i</c-><c- p>)</c-> <c- p>{</c->
  <c- k>return</c-> <c- p>(</c-><c- b>int</c-><c- p>)(</c-><c- n>d</c-> <c- o>+</c-> <c- n>i</c-><c- p>)</c-> <c- o>+</c-> <c- mi>1</c-><c- p>;</c->
<c- p>}</c->

<c- b>int</c-> <c- nf>real_func</c-> <c- p>(</c-><c- b>double</c-> <c- n>d</c-><c- p>,</c-> <c- b>int</c-> <c- n>i</c-><c- p>)</c-> <c- p>{</c->
  <c- k>return</c-> <c- p>(</c-><c- b>int</c-><c- p>)(</c-><c- n>d</c-> <c- o>+</c-> <c- n>i</c-><c- p>);</c->
<c- p>}</c->

<c- n>_Alias</c-> <c- n>alias_func</c-> <c- o>=</c-> <c- n>real_func</c-><c- p>;</c->

<c- d>/* The below is a Constraint Violation. You cannot redeclare */</c->
<c- d>/* a function alias with an incompatible signature. */</c->
<c- c1>//void alias_func(void);</c->

<c- d>/* Constraint violation: */</c->
<c- d>/* the redeclaration of an ordinary identifier into a different entity. */</c->
<c- c1>//void alias_func(double d, int i);</c->


<c- d>/* No Constraint Violation: redeclaration of an alias pointing</c->
<c- d>/* to the same declaration is fine. */</c->
<c- n>_Alias</c-> <c- n>alias_func</c-> <c- o>=</c-> <c- n>real_func</c-><c- p>;</c->

<c- d>/* Constraint Violation: redeclaration of an alias pointing */</c->
<c- d>/* to a different declaration than the first one is not */</c->
<c- d>/* allowed. */</c->
<c- c1>//_Alias alias_func = other_func;</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>([[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>int</c-> <c- n>argc</c-><c- p>,</c-> <c- p>[[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>char</c-><c- o>*</c-> <c- n>argv</c-><c- p>[])</c-> <c- p>{</c->
  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>alias_func</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>real_func</c-><c- p>);</c-> <c- c1>// no constraint Violation</c->

  <c- k>typedef</c-> <c- b>int</c-><c- p>(</c-><c- n>real_func_t</c-><c- p>)(</c-><c- b>double</c-><c- p>,</c-> <c- b>int</c-><c- p>);</c->
  <c- n>real_func_t</c-><c- o>*</c-> <c- n>real_func_ptr</c-> <c- o>=</c-> <c- n>alias_func</c-><c- p>;</c-> <c- c1>// decays to function pointer of real_func</c->
  <c- n>real_func_t</c-><c- o>*</c-> <c- n>real_func_ptr2</c-> <c- o>=</c-> <c- o>&amp;</c-><c- n>alias_func</c-><c- p>;</c-> <c- c1>// function pointer to real_func</c->
  <c- p>[[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>int</c-> <c- n>is_3</c-> <c- o>=</c-> <c- n>alias_func</c-><c- p>(</c-><c- mf>2.0</c-><c- p>,</c-> <c- mi>1</c-><c- p>);</c-> <c- c1>// invokes real_func directly</c->
  <c- p>[[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>int</c-> <c- n>is_4</c-> <c- o>=</c-> <c- n>real_func_ptr</c-><c- p>(</c-><c- mf>3.0</c-><c- p>,</c-> <c- mi>1</c-><c- p>);</c-> <c- c1>// invokes real_func</c->
  <c- p>[[</c-><c- n>maybe_unused</c-><c- p>]]</c-> <c- b>int</c-> <c- n>is_5</c-> <c- o>=</c-> <c- n>real_func_ptr2</c-><c- p>(</c-><c- mf>3.0</c-><c- p>,</c-> <c- mi>2</c-><c- p>);</c-> <c- c1>// invokes real_func</c->
  <c- n>assert</c-><c- p>(</c-><c- n>is_3</c-> <c- o>==</c-> <c- mi>3</c-><c- p>);</c-> <c- c1>// no constraint violation</c->
  <c- n>assert</c-><c- p>(</c-><c- n>is_4</c-> <c- o>==</c-> <c- mi>4</c-><c- p>);</c-> <c- c1>// no constraint violation</c->
  <c- n>assert</c-><c- p>(</c-><c- n>is_5</c-> <c- o>==</c-> <c- mi>5</c-><c- p>);</c-> <c- c1>// no constraint violation</c->
  <c- n>assert</c-><c- p>(</c-><c- n>real_func_ptr</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>real_func</c-><c- p>);</c-> <c- c1>// no constraint violation</c->
  <c- n>assert</c-><c- p>(</c-><c- n>real_func_ptr</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>alias_func</c-><c- p>);</c-> <c- c1>// no constraint violation</c->
  <c- n>assert</c-><c- p>(</c-><c- n>real_func_ptr2</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>real_func</c-><c- p>);</c-> <c- c1>// no constraint violation</c->
  <c- n>assert</c-><c- p>(</c-><c- n>real_func_ptr2</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>alias_func</c-><c- p>);</c-> <c- c1>// no constraint violation</c->
<c- p>}</c->
</pre>
   <p>The notable properties are:</p>
   <ul>
    <li data-md>
     <p><code class="highlight"><c- n>alias_func</c-></code> always "forwards" its calls to <code class="highlight"><c- n>real_func</c-></code> without needing the end-user to call "<code class="highlight"><c- n>real_func</c-></code>" directly;</p>
    <li data-md>
     <p><code class="highlight"><c- n>alias_func</c-></code> can be used in constant expressions, just like normal functions with their address taken;</p>
    <li data-md>
     <p><code class="highlight"><c- n>alias_func</c-></code>, like any other function call, cannot be redeclared as a normal function declaration of any form;</p>
    <li data-md>
     <p><code class="highlight"><c- n>alias_func</c-></code> cannot be re-aliased to a different function call after the first;</p>
    <li data-md>
     <p>any function pointer obtained from <code class="highlight"><c- n>real_func</c-></code> is identical to a function pointer obtained <code class="highlight"><c- n>alias_func</c-></code>; and,</p>
    <li data-md>
     <p><code class="highlight"><c- n>real_func</c-></code> and <code class="highlight"><c- n>alias_func</c-></code> have identical addresses.</p>
   </ul>
   <p>In short, <code class="highlight"><c- n>alias_func</c-></code> works like any other function declaration would, but is not allowed to have its own function definition. It is simply an "alias" to an existing function at the language level. Given these properties, no implementation would need to emit a whole new function address for the given type; any binary-producing implementation would produce the same code whether the function was called through <code class="highlight"><c- n>alias_func</c-></code> or <code class="highlight"><c- n>real_func</c-></code>. It gets around the requirement of not being able to define C functions as macros, while maintaining all the desirable properties of a real C function declaration.</p>
   <p>It also serves as a layer of indirection to the "real function", which means function alias definitions and type definitions can be upgraded with one another while improving backwards compatibility.</p>
   <h3 class="heading settled" data-level="4.2" id="design-model"><span class="secno">4.2. </span><span class="content">Modeled after <strong>both</strong> <code class="highlight"><c- k>asm</c-><c- p>(...)</c-></code> and <code class="highlight"><c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(...)))</c-></code></span><a class="self-link" href="#design-model"></a></h3>
   <p>Transparent aliases have the practical effects of an <code class="highlight"><c- k>asm</c-><c- p>(...)</c-></code> label applied to a function or variable, but borrows some of the type checking and useful behavior that is behind <code class="highlight"><c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(...)))</c-></code>. Notably, the attribute alias approach <strong>requires</strong> that a previous, in-language definition exists. If that definition does not exist, the program has a constraint violation:</p>
<pre class="language-cpp highlight"><c- cp>#if 0</c->
<c- c>extern inline int foo () { return 1; }</c->
<c- cp>#endif</c->

<c- b>int</c-> <c- n>bar</c-> <c- p>()</c-> <c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(</c-><c- s>"foo"</c-><c- p>)));</c->
<c- c1>// &lt;source>:5:27: error: alias must point to a defined variable or function</c->
<c- c1>// int bar () __attribute__((alias("foo")));</c->
<c- c1>//                           ^</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- k>return</c-> <c- n>bar</c-><c- p>();</c->
<c- p>}</c->
</pre>
   <p><code class="highlight"><c- n>__attribute</c-><c- p>((</c-><c- n>alias</c-><c- p>(</c->…<c- p>)))</c-></code>’s entity-checking constraints are more suitable for Standard C, since we do not want to specify this in terms of effects on a binary artifact or "symbols". <code class="highlight"><c- k>asm</c-><c- p>(...)</c-></code> is also not suitable for the user-facing design of this because it requires someone to know the precise mangling of a function call. While this can be helpful in exotic situations, we are okay with letting the wide plethora of existing practice cover the more exotic cases while providing for a strongly-typed, compiler-checked version that simply provides an invisible layer of indirection that is similar to the design of <code class="highlight"><c- k>typedef</c-></code>.  Therefore, we gear our design to make no imposition on what may or may not happen to the exported symbols.</p>
   <p>Crucially important, though, is that this behaves like <code class="highlight"><c- k>asm</c-><c- p>(...)</c-></code> in that it does not actually export a symbol name for the Transparent Alias that is declared. This allows that name to be reused for binary artifacts in a more precise manner than was previously possible under these sorts of situations without implementation extensions. It only ties one Compilation Stage 5 entity to another Compilation Stage 5 entity in what is typically known as an implementation’s "front end". Whether or not final binary artifacts do the right thing is still up to an implementation (and always will be, because the Standard cannot specify such). This gives us proper semantics without undue burden on either specification or implementation.</p>
   <p>In short, as with <code class="highlight"><c- k>typedef</c-></code>s, we want to focus on creating an entity that <strong>has no linkage</strong> but for functions/variables (objects).</p>
   <h3 class="heading settled" data-level="4.3" id="design-attribute"><span class="secno">4.3. </span><span class="content">Why not an <code class="highlight"><c- p>[[</c-><c- n>attribute</c-><c- p>]]</c-></code>?</span><a class="self-link" href="#design-attribute"></a></h3>
   <p>At this point in time, one might wonder why we do not propose an attribute or similar for the task here. After all, almost all prior art that does not use compiler options and/or the preprocessor uses an attribute-like or literal <code class="highlight"><c- n>__attribute__</c-></code> syntax. Our reasons are 2-fold.</p>
   <h4 class="heading settled" data-level="4.3.1" id="design-attribute-ignored"><span class="secno">4.3.1. </span><span class="content">Standard Attributes may be ignored</span><a class="self-link" href="#design-attribute-ignored"></a></h4>
   <p>The ability to ignore an attribute and still have a conforming program is disastrous for this feature. It reduces portability of libraries that want to defend against binary breakages. Note that this is, effectively, the situation we are in now: compilers effectively ruin any implementation-defined extension by simply refusing to support that extension or coming up with one of their own. Somewhat ironically, those same vendors will attend C Committee meetings and complain about binary breakages. We then do not change anything related to that feature area, due to the potential of binary breakages.</p>
   <p>The cycle continues and will continue ad nauseum until Standard C provides a common-ground solution.</p>
   <h4 class="heading settled" data-level="4.3.2" id="design-attribute-mangled"><span class="secno">4.3.2. </span><span class="content">There is no such thing as "mangled name" or "symbol name" in the Standard</span><a class="self-link" href="#design-attribute-mangled"></a></h4>
   <p>Any attempt at producing normative text for a "symbol name" construct is incredibly fraught with peril and danger. Vendors deserve to have implementation freedom with respect to their what their implementation produces (or not). Solving this problem must be done without needing to draft specification for what a "binary artifact" or similar may be and how an attribute or attribute-like construct could affect it. If this feature relies primarily on non-normative encouragement or notes to provide ABI protection, then it is not fit for purpose.</p>
   <p>Therefore, we realize that the best way to achieve this is to effectively allow for a transparent aliasing technique for functions, similar to type definitions. It must be in the language and it must be Standard, otherwise we can never upgrade any of our type definitions without waiting for an enormous architectural break (like the 32-bit to 64-bit transition).</p>
   <h3 class="heading settled" data-level="4.4" id="design-compatibility"><span class="secno">4.4. </span><span class="content">Backwards-Compatibility with "Vanilla" C Standard Libraries</span><a class="self-link" href="#design-compatibility"></a></h3>
   <p>One of the driving goals behind this proposal is the ability to allow "vanilla" C Standard Library Implementations to use Standards-only techniques to provide the functions for their end-user. Let us consider an implementation — named <code class="highlight"><c- n>vanilla</c-></code>, that maybe produces a <code class="highlight"><c- n>vanilla</c-><c- p>.</c-><c- n>so</c-></code> binary — that, up until today, has been shipping a <code class="highlight"><c- k>extern</c-> <c- b>intmax_t</c-> <c- nf>imaxabs</c-><c- p>(</c-><c- b>intmax_t</c-> <c- n>value</c-><c- p>);</c-></code> function declaration for the last 2 decades. Using this feature, we can provide an _entirely backwards compatible_, binary-preserving upgraded implementation of <code class="highlight"><c- n>vanilla</c-><c- p>.</c-><c- n>so</c-></code> that decides to change it’s <code class="highlight"><c- n>imaxabs</c-></code> function declarations. For example, it can use 2 translation units <code class="highlight"><c- n>inttypes_compatibility</c-><c- p>.</c-><c- n>c</c-></code> and <code class="highlight"><c- n>inttypes</c-><c- p>.</c-><c- n>c</c-></code> and one header, <code class="highlight"><c- n>inttypes</c-><c- p>.</c-><c- n>h</c-></code>, to produce a conforming Standard Library implementation that is also backwards-compatible with binaries that continue to link against <code class="highlight"><c- n>vanilla</c-><c- p>.</c-><c- n>so</c-></code>:</p>
   <p><code class="highlight"><c- n>inttypes</c-><c- p>.</c-><c- n>c</c-></code>:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;inttypes.h>

<c- n>__int128_t</c-> <c- nf>__imaxabs_vanilla_v2</c-><c- p>(</c-><c- n>__int128_t</c-> <c- n>__value</c-><c- p>)</c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c-><c- n>__value</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>)</c->
    <c- k>return</c-> <c- o>-</c-><c- n>__value</c-><c- p>;</c->
  <c- k>return</c-> <c- n>__value</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p><code class="highlight"><c- n>inttypes_compatibility</c-><c- p>.</c-><c- n>c</c-></code>:</p>
<pre class="language-cpp highlight"><c- k>extern</c-> <c- kr>inline</c-> <c- b>long</c-> <c- b>long</c-> <c- nf>imaxabs</c-><c- p>(</c-><c- b>long</c-> <c- b>long</c-> <c- n>__value</c-><c- p>)</c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c-><c- n>__value</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>)</c->
    <c- k>return</c-> <c- o>-</c-><c- n>__value</c-><c- p>;</c->
  <c- k>return</c-> <c- n>__value</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p><code class="highlight"><c- n>inttypes</c-><c- p>.</c-><c- n>h</c-></code>:</p>
<pre class="language-cpp highlight"><c- d>/* upgraded from long long in v2 */</c->
<c- k>typedef</c-> <c- n>__int128_t</c-> <c- b>intmax_t</c-><c- p>;</c->

<c- k>extern</c-> <c- b>intmax_t</c-> <c- nf>__imaxabs_vanilla_v2</c-><c- p>(</c-><c- b>intmax_t</c-><c- p>);</c->

<c- n>_Alias</c-> <c- n>imaxabs</c-> <c- o>=</c-> <c- n>__imaxabs_vanilla_v2</c-><c- p>;</c->
</pre>
   <p>As long as <code class="highlight"><c- n>inttypes_compatibility</c-><c- p>.</c-><c- n>c</c-></code> is linked with the final binary artifact <code class="highlight"><c- n>vanilla</c-><c- p>.</c-><c- n>so</c-></code>, the presumed mangled symbol <code class="highlight"><c- n>_imaxabs</c-></code> will always be there. Meanwhile, the "standard" <code class="highlight"><c- n>inttypes</c-><c- p>.</c-><c- n>h</c-></code> will have the normal <code class="highlight"><c- n>imaxabs</c-></code> symbol that is tied in a transparent way to the "Version 2" of the vanilla implementation, <code class="highlight"><c- n>__imaxabs_vanilla_v2</c-></code>. This produces a perfectly backwards compatible interface for the previous users of <code class="highlight"><c- n>vanilla</c-><c- p>.</c-><c- n>so</c-></code>. It allows typedefs to be seamlessly upgraded, without breaking already-compiled end user code. Newly compiled code will directly reference the v2 functions with no performance loss or startup switching, getting an upgraded <code class="highlight"><c- b>intmax_t</c-></code>. Older programs compiled with the old <code class="highlight"><c- b>intmax_t</c-></code> continue to reference old symbols left by compatibility translation units in the code.</p>
   <h4 class="heading settled" data-level="4.4.1" id="design-compatibility-redeclaration"><span class="secno">4.4.1. </span><span class="content">Standard Library Redeclaration</span><a class="self-link" href="#design-compatibility-redeclaration"></a></h4>
   <p>One of the bigger problems that comes with this design space is that the C Standard Library specifically allows for a user to redeclare an existing standard library symbol:</p>
   <blockquote>
    <p>Provided that a library function can be declared without reference to any type defined in a header, it is also permissible to declare the function and use it without including its associated header.</p>
   </blockquote>
   <p>That means the following declaration in this translation unit is legal:</p>
<pre class="language-cpp highlight"><c- k>extern</c-> <c- b>char</c-><c- o>*</c-> <c- nf>strcpy</c-><c- p>(</c-><c- b>char</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>s1</c-><c- p>,</c-> <c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- kr>restrict</c-> <c- n>s2</c-><c- p>);</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>This is a restriction that is special to C. Thankfully, we are not particularly concerned about the ability to upgrade this function: users who are declaring Standard Library functions without including the header like this are doing this strictly as experts. They have a strong expectation of what symbol they are getting from their distribution. Transparent aliases are meant to be used for functions which rely on type definitions or structures which may change, prompting the need to provide updated global variables and updated functions without breaking old binaries. Some famous C standard library examples of this include (but are not limited to):</p>
   <ul>
    <li data-md>
     <p><code class="highlight"><c- k>struct</c-> <c- nc>timespec</c-></code> (<code class="highlight"><c- n>timespec_get</c-></code>, and other functions);</p>
    <li data-md>
     <p><code class="highlight"><c- b>time_t</c-></code> (<code class="highlight"><c- n>time</c-></code>, <code class="highlight"><c- n>mktime</c-></code>, <code class="highlight"><c- n>difftime</c-></code>, and more functions);</p>
    <li data-md>
     <p><code class="highlight"><c- b>intmax_t</c-></code> (<code class="highlight"><c- n>imaxabs</c-></code>, <code class="highlight"><c- n>strtoimax</c-></code>, and similar functions);</p>
    <li data-md>
     <p><code class="highlight"><c- n>strtoul</c-></code> and similar functions to handle changes to now working with a prefix <code class="highlight"><c- mi>0</c-><c- n>b</c-></code>/<code class="highlight"><c- mi>0</c-><c- n>B</c-></code> that might be breaking (even if there is no header-specific <code class="highlight"><c- k>typedef</c-></code> or struct);</p>
    <li data-md>
     <p>and so on, and so forth.</p>
   </ul>
   <p>These are types which are controlled in conjunction by the standard library, may have their interfaces updated to accept new run-time input data, and are known to change on 32-bit and 64-bit systems as well as transition based on locale and other compile-time settings. A single DLL can be distributed on a system and accommodate a variety of preprocessor-based switches or other compile-time information and allow an information to accommodate and/or upgrade a given system’s symbol table (or DLL/SO’s symbol table) without breaking old, original code.</p>
   <p>Therefore, we do not do anything to support or inhibit such declarations. Implementations looking to keep such declarations working from older versions of code should consider leaving those old symbols within their binary artifacts (system tables, shared/static libraries, etc.) to continue supporting such a use case; this proposal is not going to address it or the myriad of other issues around this (such as strong/weak symbols and other attributes/aliasing issues).</p>
   <h3 class="heading settled" data-level="4.5" id="design-syntax"><span class="secno">4.5. </span><span class="content">The <code class="highlight"><c- n>_Alias</c-> <c- n>a</c-> <c- o>=</c-> <c- n>b</c-></code> syntax</span><a class="self-link" href="#design-syntax"></a></h3>
   <p>The primary reason the syntax <code class="highlight"><c- n>_Alias</c-> <c- n>a</c-> <c- o>=</c-> <c- n>b</c-><c- p>;</c-></code> is chosen here is because we want to provide an in-language construct for doing this without requiring that the end-user completely re-declare the function they want to alias. For example, an alternative syntax was considered as follows:</p>
<pre class="language-cpp highlight"><c- k>extern</c-> <c- b>void</c-> <c- nf>b</c-><c- p>(</c-><c- b>int</c-> <c- n>w</c-><c- p>,</c-> <c- b>double</c-> <c- n>x</c-><c- p>,</c-> <c- k>struct</c-> <c- nc>yy</c-><c- o>*</c-> <c- n>y</c-><c- p>,</c-> <c- k>struct</c-> <c- nc>zz</c-><c- o>*</c-> <c- n>z</c-><c- p>);</c->

<c- b>void</c-> <c- nf>a</c-><c- p>(</c-><c- b>int</c-> <c- n>w</c-><c- p>,</c-> <c- b>double</c-> <c- n>x</c-><c- p>,</c-> <c- k>struct</c-> <c- nc>yy</c-><c- o>*</c-> <c- n>y</c-><c- p>,</c-> <c- k>struct</c-> <c- nc>zz</c-><c- o>*</c-> <c- n>z</c-><c- p>)</c-> <c- o>=</c-> <c- n>b</c-><c- p>;</c->
</pre>
   <p>This gave the "function" and "redeclaration" feeling to <code class="highlight"><c- n>a</c-></code>, but it required that all arguments essentially be reproduced exactly (or risk constraint violations). This introduces fault-intolerance, where function arguments could change and cause breakage in downstream code. This could result in a lot of unnecessary maintenance work for end-users and package maintainers alike responding to library developers changing their type definitions, or similar. It might end up tying future developer’s hands not for binary stability reasons, but for source breakage reasons.</p>
   <p>Now that <code class="highlight"><c- n>typeof</c-></code> is in C23, we can write the above as the following:</p>
<pre class="language-cpp highlight"><c- k>extern</c-> <c- b>void</c-> <c- nf>b</c-><c- p>(</c-><c- b>int</c-> <c- n>w</c-><c- p>,</c-> <c- b>double</c-> <c- n>x</c-><c- p>,</c-> <c- k>struct</c-> <c- nc>yy</c-><c- o>*</c-> <c- n>y</c-><c- p>,</c-> <c- k>struct</c-> <c- nc>zz</c-><c- o>*</c-> <c- n>z</c-><c- p>);</c->

<c- n>typeof</c-><c- p>(</c-><c- n>b</c-><c- p>)</c-> <c- n>a</c-> <c- o>=</c-> <c- n>b</c-><c- p>;</c->
</pre>
   <p>This is much more palatable, but violates the rule of "don’t repeat yourself". Repeating ourselves leaves the potential, still, for slight misspellings between what is inside of <code class="highlight"><c- n>typeof</c-></code> and what is at the other end of the equal (<code class="highlight"><c- o>=</c-></code>) sign. We would like to replace this potential redunancy with a simple token instead, as this would also allow us to avoid ambiguity or figure out how to work such syntax into the "declarator" grammar construction (which is not impossible, just less palatable). Therefore, we do not pursue this option for the syntax of this feature. The other problem with this is that no function definition/declaration works in this manner, and such types are usually "adjusted" to being function pointers anyways.</p>
   <h3 class="heading settled" data-level="4.6" id="design-name"><span class="secno">4.6. </span><span class="content">The literal word <code class="highlight"><c- n>_Alias</c-></code></span><a class="self-link" href="#design-name"></a></h3>
   <p><code class="highlight"><c- n>_Alias</c-></code> is the safe choice. Originally, we used the word <code class="highlight"><c- n>using</c-></code> as there was very little option to create a keyword that more appropriately mirrors "<code class="highlight"><c- k>typedef</c-></code> but for functions". <code class="highlight"><c- n>funcdef</c-></code> is already a prominent identifier in C codebases, and reusing <code class="highlight"><c- k>typedef</c-></code> is not a very good idea for something that does not declare a type.</p>
   <p>C++ took the keyword <code class="highlight"><c- n>using</c-></code>, and so far it seems to have made most C and C++ developers stay away from the keyword altogether. Nevertheless, the wording uses a stand-in <code class="highlight"><c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-></code>. The suggestions we have for the token are as follows, based on not being findable in publicly available codebase sets (either on <a href="https://isocpp.org">isocpp.org</a>'s code search of package manager code for Linux Distributions, GitHub’s dataset for code, and similar sources):</p>
   <ul>
    <li data-md>
     <p><code class="highlight"><c- n>using</c-></code> (made safer by C++ using it as a keyword) (however, C++ uses this as a type definition and does NOT include this for the ability to reference an existing function)</p>
    <li data-md>
     <p><code class="highlight"><c- n>using_alternate</c-></code> (long, pretty good name)</p>
    <li data-md>
     <p><code class="highlight"><c- n>alternate_alias</c-></code> (long, pretty good name)</p>
    <li data-md>
     <p><code class="highlight"><c- n>_Alias</c-></code>, with a <code class="highlight"><c- o>&lt;</c-><c- n>stdalias</c-><c- p>.</c-><c- n>h</c-><c- o>></c-></code> header and a <code class="highlight"><c- cp>#define alias _Alias</c-></code> in it (trying to avoid the underscore-capital keywords since some folk do not appreciate it)</p>
    <li data-md>
     <p><code class="highlight"><c- n>using_ref</c-></code>, since C++ has different semantics to this feature for the plain word <code class="highlight"><c- n>using</c-></code> (which acts like a typedef)</p>
    <li data-md>
     <p><code class="highlight"><c- n>sameysameynamename</c-></code> (long enough it conflicts with no developers, <a href="https://twitter.com/mattgodbolt/status/1398652784212385797">recommended by Godbolt himself</a>)</p>
   </ul>
   <p>Various names were also thought of and unfortunately discarded because they exist as macro names and identifier names in publicly available code today:</p>
   <ul>
    <li data-md>
     <p><code class="highlight"><c- n>using_name</c-></code></p>
    <li data-md>
     <p><code class="highlight"><c- n>decl_alias</c-></code>/<code class="highlight"><c- n>declalias</c-></code></p>
    <li data-md>
     <p><code class="highlight"><c- n>alias_decl</c-></code>/<code class="highlight"><c- n>aliasdecl</c-></code></p>
    <li data-md>
     <p><code class="highlight"><c- n>alias_def</c-></code>/<code class="highlight"><c- n>aliasdef</c-></code></p>
    <li data-md>
     <p><code class="highlight"><c- n>name_decl</c-></code>/<code class="highlight"><c- n>namedecl</c-></code></p>
    <li data-md>
     <p><code class="highlight"><c- n>name_def</c-></code>/<code class="highlight"><c- n>namedef</c-></code></p>
    <li data-md>
     <p><code class="highlight"><c- n>name_alias</c-></code>/<code class="highlight"><c- n>namealias</c-></code></p>
   </ul>
   <p>While we use the word <code class="highlight"><c- n>_Alias</c-></code> right now as a stand-in for some of the prose above and below, we would appreciate feedback on what name to pick. The specification working has <code class="highlight"><c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-></code> to signify that we have not settled on a specific token (or token sequence) for the name at the moment. This does not preclude a more thorough look at a <code class="highlight"><c- k>typedef</c-></code>-alike syntax. However, we do note that we do not employ declarator syntax and so a <code class="highlight"><c- k>typedef</c-></code>-style syntax is not necessarily the best idea.</p>
   <p>We would also like to note that C++ had a proposal to make the <code class="highlight"><c- n>using</c-></code> syntax work for function declarations and also allow them to be renamed, just like this proposal<a data-link-type="biblio" href="#biblio-p0945" title="Generalizing alias declarations">[p0945]</a>. However, the paper was dropped and never picked up and/or pursued in any other form again. It could be seen as taking design space or forcing a design upon C++ if we attempted to take the syntax <code class="highlight"><c- n>using</c-> <c- n>A</c-> <c- o>=</c-> <c- p>...;</c-></code>, and therefore while possible we would strongly advise against such a direction.</p>
   <h3 class="heading settled" data-level="4.7" id="design-variables"><span class="secno">4.7. </span><span class="content">Variables</span><a class="self-link" href="#design-variables"></a></h3>
   <p>The original revisions of this paper did not include variables with it, since it was very specifically scoped to solve the function and ABI problems around functions. But, both the assembly labels, <code class="highlight"><c- cp>#pragma</c-></code> redefinitions, and <code class="highlight"><c- n>__attribute</c-><c- p>((</c-><c- n>alias</c-><c- p>(...)))</c-></code> syntaxes all support using this to rename variables. Therefore, alias declarations</p>
   <p>There has been expressed want for transparent aliases for non-functions. That is:</p>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>f</c-> <c- p>(</c-><c- b>int</c-> <c- n>value</c-><c- p>)</c-> <c- p>{</c-> <c- k>return</c-> <c- n>value</c-> <c- o>+</c-> <c- n>value</c-><c- p>;</c-> <c- p>}</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- b>int</c-> <c- n>x</c-> <c- o>=</c-> <c- mi>1</c-><c- p>;</c->
  <c- n>_Alias</c-> <c- n>y</c-> <c- o>=</c-> <c- n>x</c-><c- p>;</c->
  <c- k>return</c-> <c- o>&amp;</c-><c- n>y</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>x</c-> <c- o>?</c-> <c- n>f</c-><c- p>(</c-><c- n>y</c-><c- p>)</c-> <c- o>:</c-> <c- mi>0</c-><c- p>;</c-> <c- c1>// returns f(x) == 2</c->
<c- p>}</c->
</pre>
   <p>We think this would be a useful <strong>general purpose compile-time renaming mechanism</strong>. Current implementations for both assembly labels and attributes allow this, and therefore we have added this functionality to the paper. Furthermore, it can allow for specific constructs constructs to be renamed and their old names to be marked with attributes. For example, occasionally APIs need to be reorganized for clarity purposes, but without fully breaking old code:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdio.h>

<c- k>const</c-> <c- b>char</c-><c- o>*</c-> <c- n>v1_name</c-> <c- o>=</c-> <c- s>"very.cool.name!"</c-><c- p>;</c->

<c- p>[[</c-><c- n>deprecatad</c-><c- p>(</c-><c- s>"this name will be removed in future versions, "</c->
<c- s>"please upgrade appropriately"</c-><c- p>)]]</c->
<c- n>_Alias</c-> <c- n>v0_name</c-> <c- o>=</c-> <c- n>v1_name</c-><c- p>;</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- n>printf</c-><c- p>(</c-><c- s>"v1: %s</c-><c- se>\n</c-><c- s>"</c-><c- p>,</c-> <c- n>v1_name</c-><c- p>);</c->
  <c- n>printf</c-><c- p>(</c-><c- s>"v0: %s</c-><c- se>\n</c-><c- s>"</c-><c- p>,</c-> <c- n>v0_name</c-><c- p>);</c-> <c- c1>// diagnostic encouraged</c->
<c- p>}</c->
</pre>
   <p>This can help migrate users to newer APIs that may change names or evolve over time, or offer better features/additional control parameters.</p>
   <h2 class="heading settled" data-level="5" id="implementation"><span class="secno">5. </span><span class="content">Implementation Experience</span><a class="self-link" href="#implementation"></a></h2>
   <p>An implementation of Transparent Aliases is available at <a href="https://github.com/ThePhD/llvm-project/commit/d81faeefa01e7c57a222f5bdfe355bb6a7f4b84f">this Clang fork</a>. It provides the feature and, when built and installed, can be used to run <a href="https://github.com/ThePhD/transparent-aliases">this suite of tests</a>. A writeup of the effects of that implementation can be found in <a href="https://thephd.dev/to-save-c-we-must-save-abi-fixing-c-function-abi">this blog post</a>.</p>
   <p>The test suite sets up a supposed ABI on both Linux, Mac, and Windows by creating a DLL with exported functions. Without redefining the functions, the tests show that taking an old Shared Object or a Windows DLL, upgrading it and doing an in-place replacement of that file with a newly built object that contains new definitions, still lets old applications work while new applications return the correct and proper functionality from the updated code.</p>
   <p>The test suite also outputs a version number while doing a comparison test. A negative, custom-defined <code class="highlight"><c- b>intmax_t</c-></code> number - which uses bits in all available registers on 2s complement 32-bit and 64-bit systems - is properly returned from a function <code class="highlight"><c- n>maxabs</c-></code> that computes its absolute value. That value is further compared equal to the size of a defined <code class="highlight"><c- b>intmax_t</c-></code>, which resolves to <code class="highlight"><c- mi>8</c-></code> in the old application (<code class="highlight"><c- b>long</c-> <c- b>long</c-></code>) and <code class="highlight"><c- mi>16</c-></code> in the new application (<code class="highlight"><c- n>__int128_t</c-></code>):</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;my_libc/maxabs.h>

<c- cp>#include</c-> &lt;stdio.h>

<c- b>int</c-> <c- nf>main</c-><c- p>()</c-> <c- p>{</c->
  <c- b>intmax_t</c-> <c- n>abi_is_hard</c-> <c- o>=</c-> <c- o>-</c-><c- p>(</c-><c- b>intmax_t</c-><c- p>)</c-><c- k>sizeof</c-><c- p>(</c-><c- b>intmax_t</c-><c- p>);</c->
  <c- b>intmax_t</c-> <c- n>but_not_that_hard</c-> <c- o>=</c-> <c- n>maxabs</c-><c- p>(</c-><c- n>abi_is_hard</c-><c- p>);</c->
  <c- n>printf</c-><c- p>(</c-><c- s>"%d</c-><c- se>\n</c-><c- s>"</c-><c- p>,</c-> <c- n>my_libc_magic_number</c-><c- p>());</c->
  <c- k>return</c-> <c- p>((</c-><c- b>int</c-><c- p>)(</c-><c- n>but_not_that_hard</c-><c- p>)</c-> <c- o>==</c-> <c- k>sizeof</c-><c- p>(</c-><c- b>intmax_t</c-><c- p>))</c-> <c- o>?</c-> <c- mi>0</c-> <c- o>:</c-> <c- mi>1</c-><c- p>;</c->
<c- p>}</c->
</pre>
   <p>The program only returns <code class="highlight"><c- mi>0</c-></code> (and passes the test suite) if the returned value is properly negated and compares equal to the original size. The test output on all 3 of Linux (Ubuntu and Debian), Mac (Mojave), and Windows (Version 10 and 11) is as follows:</p>
<pre class="language-bash highlight"><c- o>[</c->proc<c- o>]</c-> Executing command: ctest -j10 -C Debug -T test --output-on-failure
<c- o>[</c->ctest<c- o>]</c-> Cannot find file: transparent-aliases/.cmake/build/DartConfiguration.tcl
<c- o>[</c->ctest<c- o>]</c->    Site: 
<c- o>[</c->ctest<c- o>]</c->    Build name: <c- o>(</c->empty<c- o>)</c->
<c- o>[</c->ctest<c- o>]</c-> Cannot find file: transparent-aliases/.cmake/build/DartConfiguration.tcl
<c- o>[</c->ctest<c- o>]</c-> Test project transparent-aliases/.cmake/build
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>6</c->: discard_warning.compile.clean
<c- o>[</c->ctest<c- o>]</c->       Start <c- m>10</c->: app_old.lib_new-copy
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>8</c->: app_old.lib_old
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>9</c->: app_new.lib_new
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>3</c->: example3
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>5</c->: discard_warning
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>4</c->: example4
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>2</c->: example2
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>1</c->: example1
<c- o>[</c->ctest<c- o>]</c->  <c- m>1</c->/11 Test  <c- c1>#6: discard_warning.compile.clean ....   Passed    0.20 sec</c->
<c- o>[</c->ctest<c- o>]</c->       Start  <c- m>7</c->: discard_warning.compile
<c- o>[</c->ctest<c- o>]</c->  <c- m>2</c->/11 Test  <c- c1>#5: discard_warning ..................   Passed    0.12 sec</c->
<c- o>[</c->ctest<c- o>]</c->  <c- m>3</c->/11 Test <c- c1>#10: app_old.lib_new-copy .............   Passed    0.20 sec</c->
<c- o>[</c->ctest<c- o>]</c->       Start <c- m>11</c->: app_old.lib_new
<c- o>[</c->ctest<c- o>]</c->  <c- m>4</c->/11 Test  <c- c1>#4: example4 .........................   Passed    0.12 sec</c->
<c- o>[</c->ctest<c- o>]</c->  <c- m>5</c->/11 Test  <c- c1>#2: example2 .........................   Passed    0.09 sec</c->
<c- o>[</c->ctest<c- o>]</c->  <c- m>6</c->/11 Test  <c- c1>#1: example1 .........................   Passed    0.06 sec</c->
<c- o>[</c->ctest<c- o>]</c->  <c- m>7</c->/11 Test  <c- c1>#8: app_old.lib_old ..................   Passed    0.22 sec</c->
<c- o>[</c->ctest<c- o>]</c->  <c- m>8</c->/11 Test  <c- c1>#9: app_new.lib_new ..................   Passed    0.19 sec</c->
<c- o>[</c->ctest<c- o>]</c->  <c- m>9</c->/11 Test  <c- c1>#3: example3 .........................   Passed    0.16 sec</c->
<c- o>[</c->ctest<c- o>]</c-> <c- m>10</c->/11 Test <c- c1>#11: app_old.lib_new ..................   Passed    0.03 sec</c->
<c- o>[</c->ctest<c- o>]</c-> <c- m>11</c->/11 Test  <c- c1>#7: discard_warning.compile ..........   Passed    5.56 sec</c->
<c- o>[</c->ctest<c- o>]</c-> 
<c- o>[</c->ctest<c- o>]</c-> <c- m>100</c->% tests passed, <c- m>0</c-> tests failed out of <c- m>11</c->
<c- o>[</c->ctest<c- o>]</c-> 
<c- o>[</c->ctest<c- o>]</c-> Total Test time <c- o>(</c->real<c- o>)</c-> <c- o>=</c->   <c- m>5</c->.79 sec
<c- o>[</c->ctest<c- o>]</c-> CTest finished with <c- k>return</c-> code <c- m>0</c->
</pre>
   <p>We specifically make sure to turn off typical automatic RPATH handling on *Nix machines, and make sure they load the DLL present in <code class="highlight"><c- n>$</c-><c- p>{</c-><c- n>ORIGIN</c-><c- p>}</c-></code> (so that simply copying over the application-local DLL ensures it is loading the DLL associated with the test.</p>
   <p>This serves as concrete evidence that existing implementations can use the feature to produce upgradable libraries while keeping old symbols entirely intact. Users using the test compiler could reproduce these results successfully.</p>
   <h3 class="heading settled" data-level="5.1" id="implementation-mangled"><span class="secno">5.1. </span><span class="content">What About Mangled Identifiers?</span><a class="self-link" href="#implementation-mangled"></a></h3>
   <p>musl-libc, glibc, Darwin, and an excessively high amount of other standard library definitions make liberal use of both <code class="highlight"><c- n>__attribute__</c-><c- p>((</c-><c- n>alias</c-><c- p>(...)))</c-></code> and <code class="highlight"><c- k>asm</c-><c- p>(</c-><c- s>"..."</c-><c- p>)</c-></code>/<code class="highlight"><c- kr>__asm</c-><c- p>(</c-><c- s>"..."</c-><c- p>)</c-></code> labels to provide names in their binaries that do not represent typical mangling on existing systems. Below are snippets of such libraries and some declarations / code that they use to achieve this.</p>
   <h4 class="heading settled" data-level="5.1.1" id="implementation-mangled-macos"><span class="secno">5.1.1. </span><span class="content">Darwin / MacOS 15.0</span><a class="self-link" href="#implementation-mangled-macos"></a></h4>
   <p>Apple’s MacOS 15.0 "Sequoia" currently deploys and has been deploying these fixes for a long time now. Using a macro named <code class="highlight"><c- n>__DARWIN_ALIAS</c-><c- p>(...)</c-></code>, which translates to
the tokens put into that macro being stringified and concatenated with an extra underscore VIA the adjacent string literal <code class="highlight"><c- s>"_"</c-></code>, several variables <strong>and</strong> functions in their base runtime have a mangling different from what would be expected of a typical loading of e.g. the <code class="highlight"><c- n>timezone</c-></code> variable of the <code class="highlight"><c- n>strftime</c-></code> function. A reproduction of that code can be found in <a href="#appendix-macos.time.h">§ 8.2 MacOS 15.0 Sequoia _time.h Code</a>.</p>
   <h2 class="heading settled" data-level="6" id="future"><span class="secno">6. </span><span class="content">Future Directions</span><a class="self-link" href="#future"></a></h2>
   <h3 class="heading settled" data-level="6.1" id="future-weak"><span class="secno">6.1. </span><span class="content">Weak Declarations vs. Strong declarations</span><a class="self-link" href="#future-weak"></a></h3>
   <p>There were further suggestions to have the ability to make "<code class="highlight"><c- n>_Weak</c-></code>" aliases: that is, the ability to be able to define a compile-time alias, but be able to redeclare over it and completely erase the old declaration with an entirely incompatible/new declaration, at compile-time, with a new (and potentially incompatible) declaration. This is actually implemented in the current implementation, and it works as expected, but it is not provided in this paper.</p>
   <p>However, weak versus strong is still a separate concern. It is part of a conceptually separate feature for linkers.</p>
   <h2 class="heading settled" data-level="7" id="wording"><span class="secno">7. </span><span class="content">Wording</span><a class="self-link" href="#wording"></a></h2>
   <p>The following wording is against the latest draft of the C standard.</p>
   <h3 class="heading settled" data-level="7.1" id="wording-6.2.1p1"><span class="secno">7.1. </span><span class="content">Modify "§6.2.1 Scopes of identifiers", paragraph 1</span><a class="self-link" href="#wording-6.2.1p1"></a></h3>
   <blockquote>
    <div class="wording-numbered wording-numbered-1">
      An identifier can denote: 
     <ul>
      <li data-md>
       <p>a standard attribute, an attribute prefix, or an attribute name;</p>
      <li data-md>
       <p>an object;</p>
      <li data-md>
       <p>a function;</p>
      <li data-md>
       <p>a tag or a member of a structure, union, or enumeration;</p>
      <li data-md>
       <p>a typedef name;</p>
      <li data-md>
       <ins>a transparent alias name;</ins>
      <li data-md>
       <p>a label name;</p>
      <li data-md>
       <p>a macro name;</p>
      <li data-md>
       <p>or a macro parameter.</p>
     </ul>
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="7.2" id="wording-6.2.1p4"><span class="secno">7.2. </span><span class="content">Modify "§6.2.1 Scopes of identifiers", paragraph 4</span><a class="self-link" href="#wording-6.2.1p4"></a></h3>
   <p>
    Change every instance of "
    <del>declarator or type specifier</del>
    " to be "
    <ins>declarator, transparent alias, or type specifier</ins>
    ".
   </p>
   <h3 class="heading settled" data-level="7.3" id="wording-6.2.1p7"><span class="secno">7.3. </span><span class="content">Modify "§6.2.1 Scopes of identifiers", paragraph 7</span><a class="self-link" href="#wording-6.2.1p7"></a></h3>
   <blockquote>
    <div class="wording-numbered wording-numbered-7">
      Structure, union, and enumeration tags have scope that begins just after the appearance of the tag in a type specifier that declares the tag. Each enumeration constant has scope that begins just after the appearance of its defining enumerator in an enumerator list. An ordinary identifier that has an underspecified definition has scope that starts when the definition is completed; if the same ordinary identifier declares another entity with a scope that encloses the current block, that declaration is hidden as soon as the inner declarator is completed.<sup>19)</sup> 
     <ins>A transparent alias name has a scope that begins at the end of its definition.</ins>
      Any other identifier has scope that begins just after the completion of its declarator. 
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="7.4" id="wording-6.2.2"><span class="secno">7.4. </span><span class="content">Modify "§6.2.2 Linkages of identifiers", paragraph 6</span><a class="self-link" href="#wording-6.2.2"></a></h3>
   <blockquote>
    <div class="wording-numbered wording-numbered-6">
      The following identifiers have no linkage: an identifier declared to be anything other than an object or a function; 
     <ins>a transparent alias;</ins>
      an identifier declared to be a function parameter; a block scope identifier for an object declared without the storage-class specifier <b>extern</b>. 
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="7.5" id="wording-6.2.3"><span class="secno">7.5. </span><span class="content">Add transparent aliases to "§6.2.3 Name spaces of identifiers", paragraph 1, last bullet</span><a class="self-link" href="#wording-6.2.3"></a></h3>
   <blockquote>
    <div class="wording-numbered wording-numbered-1">
      … 
     <ul>
      <li>
       all other identifiers, called <em>ordinary identifiers</em> (declared in ordinary declarators
       <ins>, transparent aliases</ins>
       , or as enumeration constants).
     </ul>
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="7.6" id="wording-6.4.1"><span class="secno">7.6. </span><span class="content">Add a new keyword to "§6.4.1 Keywords", Syntax, paragraph 1</span><a class="self-link" href="#wording-6.4.1"></a></h3>
   <blockquote>
    <div class="wording-section">
     <div class="wording-numbered">
      <p><em>keyword</em>: one of</p>
      <dl>
       <dd data-md>
        <p>…</p>
       <dd data-md>
        <ins><strong>ALIAS-TOKEN</strong></ins>
      </dl>
     </div>
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="7.7" id="wording-6.5.2"><span class="secno">7.7. </span><span class="content">Modify §6.5.2 Primary expressions, Semantics, paragraph 2</span><a class="self-link" href="#wording-6.5.2"></a></h3>
   <blockquote>
    <div class="wording-section">
     <div class="wording-numbered-2 wording-numbered">
      <p>
       An identifier is a primary expression, provided it has been declared as designating an object (in which case it is an lvalue)
       <del> or</del>
       <ins>,</ins>
        a function (in which case it is a function designator)
       <ins>, or transparent alias (in which case it is either an lvalue or a function designator)</ins>
       .
      </p>
     </div>
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="7.8" id="wording-6.7"><span class="secno">7.8. </span><span class="content">Modify "§6.7 Declarations" as follows...</span><a class="self-link" href="#wording-6.7"></a></h3>
   <h4 class="heading settled" data-level="7.8.1" id="wording-6.7.1-p1"><span class="secno">7.8.1. </span><span class="content">§6.7.1 General, Syntax, paragraph 1, with a new "declaration" production</span><a class="self-link" href="#wording-6.7.1-p1"></a></h4>
   <blockquote>
    <div class="wording-numbered wording-numbered-1">
     <p><em>declaration</em>:</p>
     <dl>
      <dd data-md>
       <p><em>declaration-specifiers</em> <em>init-declarator-list</em><sub>opt</sub> <b>;</b></p>
      <dd data-md>
       <p><em>attribute-specifier-sequence</em> <em>declaration-specifiers</em> <em>init-declarator-list</em> <b>;</b></p>
      <dd data-md>
       <p><em>static_assert-declaration</em></p>
      <dd data-md>
       <p><em>attribute-declaration</em></p>
      <dd data-md>
       <ins><em>transparent-alias-declaration</em></ins>
     </dl>
    </div>
   </blockquote>
   <h4 class="heading settled" data-level="7.8.2" id="wording-6.7.1-p2.p4"><span class="secno">7.8.2. </span><span class="content">§6.7.1 General, Constraints, paragraphs 2 and 4</span><a class="self-link" href="#wording-6.7.1-p2.p4"></a></h4>
   <blockquote>
    <div class="wording-numbered wording-numbered-2">
     <p>
      A declaration other than a <em>static_assert</em>, 
      <ins><em>transparent alias</em>,</ins>
       or <em>attribute</em> declaration shall declare at least…
     </p>
    </div>
    <div class="wording-numbered wording-numbered-4">
      If an identifier has no linkage, there shall be no more than one declaration of the identifier (in a declarator or type specifier) with the same scope and in the same name space, except that: 
     <dl>
      <dd data-md>
       <p>— a typedef name may be redefined to denote the same type as it currently does, provided that type is not a variably modified type;</p>
      <dd data-md>
       <ins>— a transparent alias name may be redefined as specified in 6.7.✨; and</ins>
      <dd data-md>
       <p>— numeration constants and tags can be redeclared as specified in 6.7.3.3 and 6.7.3.4, respectively.</p>
     </dl>
    </div>
   </blockquote>
   <h4 class="heading settled" data-level="7.8.3" id="wording-6.7.1-p7"><span class="secno">7.8.3. </span><span class="content">§6.7.1 General, Semantics, paragraph 7</span><a class="self-link" href="#wording-6.7.1-p7"></a></h4>
   <blockquote>
    <div class="wording-section">
     <div class="wording-numbered wording-numbered-5">
      <p>A declaration specifies the interpretation and properties of a set of identifiers. A definition of an identifier is a declaration for that identifier that:</p>
      <dl>
       <dd data-md>
        <p>— for an object, causes storage to be reserved for that object;</p>
       <dd data-md>
        <p>— for a function, includes the function body;<span class="footnote-ref">123)</span></p>
       <dd data-md>
        <p>— for an enumeration constant, is the (only) declaration of the identifier;</p>
       <dd data-md>
        <p>
         — for a typedef name, is the first (or only) declaration of the identifier
         <del>.</del>
         <ins>; or</ins>
        </p>
       <dd data-md>
        <ins>— for a transparent alias name, is the first (or only) declaration of the identifier.</ins>
      </dl>
     </div>
    </div>
   </blockquote>
   <h4 class="heading settled" data-level="7.8.4" id="wording-6.7.5.p3"><span class="secno">7.8.4. </span><span class="content">Modify §6.7.5 Function specifiers, paragraph 3</span><a class="self-link" href="#wording-6.7.5.p3"></a></h4>
   <blockquote>
    <div class="wording-section">
     <div class="wording-numbered wording-numbered-3">
      <p>
       An inline definition of a function with external linkage shall not contain, anywhere in the tokens making up the function definition, a definition of a modifiable object with static or thread storage duration, and shall not contain, anywhere in the tokens making up the function definition, a reference to an identifier
       <ins> or transparent alias</ins>
        with internal linkage.
      </p>
     </div>
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="7.9" id="wording-6.6.1"><span class="secno">7.9. </span><span class="content">Modify "§6.6.1 General" paragraph 7</span><a class="self-link" href="#wording-6.6.1"></a></h3>
   <blockquote>
    <p>An identifier that is:</p>
    <ul>
     <li data-md>
      <p>an enumeration constant,</p>
     <li data-md>
      <p>
       a predefined constant,
       <del> or</del>
      </p>
     <li data-md>
      <p>declared with storage-class specifier <code class="highlight"><c- n>constexpr</c-></code> and has an object type,</p>
     <li data-md>
      <ins>or, a transparent alias to an object with storage-class specifier <code class="highlight"><c- n>constexpr</c-></code></ins>
      . 
    </ul>
    <p>is a <em>named constant</em>, as is a postfix expression that applies the <code class="highlight"><c- p>.</c-></code> member access operator to a named constant of structure or union type, even recursively. For enumeration and predefined constants, their value and type are defined in the respective clauses; for <code class="highlight"><c- n>constexpr</c-></code> objects, such a named constant is a constant expression with the type and value of the declared object.</p>
   </blockquote>
   <h3 class="heading settled" data-level="7.10" id="wording-6.9"><span class="secno">7.10. </span><span class="content">Modify "§6.9 External definitions" paragraphs 3 and 5</span><a class="self-link" href="#wording-6.9"></a></h3>
   <blockquote>
    <div class="wording-numbered wording-numbered-3">
      There shall be no more than one external definition for each identifier declared with internal linkage in a translation unit. Moreover, if an identifier declared with internal linkage is used 
     <ins>directly or indirectly (e.g., through a transparent alias)</ins>
      in an expression there shall be exactly one external definition for the identifier in the translation unit, … 
    </div>
    <p>…</p>
    <div class="wording-numbered wording-numbered-5">
      An external definition is an external declaration that is also a definition of a function (other than an
inline definition) or an object. If an identifier declared with external linkage is used 
     <ins>directly or indirectly (e.g., through a transparent alias)</ins>
      in an expression (other than as part of the operand of a typeof operator whose result is not a variably modified type, part of the controlling expression of a generic selection, part of the expression in a generic association that is not the result expression of its generic selection… 
    </div>
   </blockquote>
   <h3 class="heading settled" data-level="7.11" id="wording-6.7.✨"><span class="secno">7.11. </span><span class="content">Add a new sub-clause "§6.7.✨ Transparent alias" somewhere after "6.7.9 Type definitions"</span><a class="self-link" href="#wording-6.7.✨"></a></h3>
   <blockquote>
    <ins>
     <div class="wording-clause-header"> <span class="wording-clause-number">6.7.✨</span><span class="wording-clause-title">Transparent aliases</span> </div>
     <div class="wording-section">
      <div class="wording-clause-section-title"> Syntax </div>
      <div class="wording-numbered">
       <p><em>transparent-alias-declaration:</em></p>
       <dl>
        <dd data-md>
         <p><em>attribute-specifier-sequence</em><sub>opt</sub> <strong>ALIAS-TOKEN</strong> <em>identifier</em> <strong>=</strong> <em>identifier</em> <strong>;</strong></p>
       </dl>
      </div>
      <div class="wording-clause-section-title"> Description </div>
      <div class="wording-numbered">
       <p>Let the identifier on the left hand side be the <em>transparent alias name</em> and the identifier on the right hand side be the <em>transparent alias target</em>.</p>
      </div>
      <div class="wording-clause-section-title"> Constraints </div>
      <div class="wording-numbered">
       <p>A transparent alias target shall be an identifier which is an object, a function, or a transparent alias.</p>
      </div>
      <div class="wording-numbered">
       <p>A transparent alias being redeclared shall refer to the same object or function as in its initial declaration<sup>FN0✨)</sup> and the type of that identifier shall be compatible with all visible declarations of the declared transparent alias.</p>
       <div class="wording-footnote"> <sup>FN0✨)</sup> <sub>If the transparent alias target points to another transparent alias, then the alias target is first resolved. The resolution occurs recursively until a function or object is the alias target. Resolution of a transparent alias target happens before the synonym is declared or redeclared, meaning a transparent alias name may refer to itself when it is being redeclared, but not when it is first declared. This resolution is not recomputed every time the transparent aliases is declared.</sub> </div>
      </div>
      <div class="wording-clause-section-title"> Semantics </div>
      <div class="wording-numbered"> A transparent alias refers to an existing entity named by the transparent alias target. A transparent alias does not produce a new declaration; it is only a synonym for the transparent alias target specified. If the transparent alias target is another transparent alias, it is translated, recursively, until a non-transparent alias target is determined. A transparent alias target that is another transparent alias may be capable of referring to an entity that is no longer visible in the current scope. </div>
      <div class="wording-numbered"> A transparent alias may be used in any context where the target may be used. A transparent alias has the same type as the transparent alias target it refers to when declared. </div>
      <div class="wording-numbered">
       <p>The optional attribute specifier sequence before the <strong>ALIAS-TOKEN</strong> appertains to the transparent alias name.</p>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 1</strong> The following program contains no constraint violations nor any failed assertions:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;assert.h>

<c- b>void</c-> <c- nf>do_work</c-><c- p>(</c-><c- b>void</c-><c- p>);</c->
<c- b>void</c-> <c- nf>take_nap</c-><c- p>(</c-><c- b>void</c-><c- p>);</c->

<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>work_alias</c-> <c- o>=</c-> <c- n>do_work</c-><c- p>;</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>nap_alias</c-> <c- o>=</c-> <c- n>take_nap</c-><c- p>;</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>alias_of_work_alias</c-> <c- o>=</c-> <c- n>work_alias</c-><c- p>;</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>alias_of_nap_alias</c-> <c- o>=</c-> <c- n>nap_alias</c-><c- p>;</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>do_work</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>work_alias</c-><c- p>);</c->
  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>do_work</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>alias_of_work_alias</c-><c- p>);</c->
  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>work_alias</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>alias_of_work_alias</c-><c- p>);</c->

  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>take_nap</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>nap_alias</c-><c- p>);</c->
  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>take_nap</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>alias_of_nap_alias</c-><c- p>);</c->
  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>nap_alias</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>alias_of_nap_alias</c-><c- p>);</c->

  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>take_nap</c-> <c- o>!=</c-> <c- o>&amp;</c-><c- n>work_alias</c-><c- p>);</c->
  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>do_work</c-> <c- o>!=</c-> <c- o>&amp;</c-><c- n>alias_of_nap_alias</c-><c- p>);</c->

  <c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>local_work_alias</c-> <c- o>=</c-> <c- n>alias_of_work_alias</c-><c- p>;</c->
  <c- n>assert</c-><c- p>(</c-><c- o>&amp;</c-><c- n>local_work_alias</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>alias_of_work_alias</c-><c- p>);</c->

  <c- n>do_work</c-><c- p>();</c->
  <c- n>work_alias</c-><c- p>();</c-> <c- c1>// calls do_work</c->
  <c- n>alias_of_work_alias</c-><c- p>();</c-> <c- c1>// calls do_work</c->
  <c- n>local_work_alias</c-><c- p>();</c-> <c- c1>// calls do_work</c->

  <c- n>take_nap</c-><c- p>();</c->
  <c- n>nap_alias</c-><c- p>();</c-> <c- c1>// calls take_nap</c->
  <c- n>alias_of_nap_alias</c-><c- p>();</c-> <c- c1>// calls take_nap</c->

  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 2</strong> Valid redeclarations:</p>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>zzz</c-><c- p>(</c-><c- b>int</c-> <c- n>requested_sleep_time</c-><c- p>);</c->

<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>sleep_alias</c-> <c- o>=</c-> <c- n>zzz</c-><c- p>;</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>sleep_alias</c-> <c- o>=</c-> <c- n>sleep_alias</c-><c- p>;</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>sleep_alias_alias</c-> <c- o>=</c-> <c- n>zzz</c-><c- p>;</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>sleep_alias</c-> <c- o>=</c-> <c- n>sleep_alias_alias</c-><c- p>;</c->

<c- b>void</c-> <c- nf>func</c-><c- p>(</c-><c- b>void</c-><c- p>);</c->
<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- c1>// Inner scope: no constraint violation</c->
  <c- n>_Alias</c-> <c- n>func</c-> <c- o>=</c-> <c- n>zzz</c-><c- p>;</c->
<c- p>}</c->
</pre>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 3</strong> Invalid redeclarations:</p>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>zzz</c-><c- p>(</c-><c- b>int</c-> <c- n>requested_sleep_time</c-><c- p>);</c->
<c- b>int</c-> <c- nf>truncated_zzz</c-><c- p>(</c-><c- b>int</c-> <c- n>requested_sleep_time</c-><c- p>);</c->

<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>sleep_alias</c-> <c- o>=</c-> <c- n>sleep_alias</c-><c- p>;</c-> <c- c1>// constraint violation: sleep_alias does</c->
                                       <c- c1>// not exist until the</c->
                                       <c- c1>// semicolon is reached</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>zzz</c-> <c- o>=</c-> <c- n>truncated_zzz</c-><c- p>;</c-> <c- c1>// constraint violation: cannot hide</c->
                                 <c- c1>// existing declaration</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>truncated_zzz</c-> <c- o>=</c-> <c- n>truncated_zzz</c-><c- p>;</c-> <c- c1>// constraint violation: cannot change </c->
                                           <c- c1>// function declaration</c->
                                           <c- c1>// to transparent alias</c->

<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>valid_sleep_alias</c-> <c- o>=</c-> <c- n>zzz</c-><c- p>;</c->
<c- b>double</c-> <c- nf>valid_sleep_alias</c-><c- p>(</c-><c- b>double</c-> <c- n>requested_sleep_time</c-><c- p>);</c-> <c- c1>// constraint violation:</c->
                                                       <c- c1>// redeclaring a</c->
                                                       <c- c1>// transparent alias with</c->
                                                       <c- c1>// non-compatible type</c->
</pre>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 4</strong> An alias can be redeclared as either an alias or a function declaration so long as it is compatible:</p>
<pre class="language-cpp highlight"><c- b>double</c-> <c- nf>purr</c-><c- p>(</c-><c- b>void</c-><c- p>)</c-> <c- p>{</c-> <c- k>return</c-> <c- mf>1.0</c-><c- p>;</c-> <c- p>}</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>meow</c-> <c- o>=</c-> <c- n>purr</c-><c- p>;</c->
<c- b>double</c-> <c- nf>meow</c-><c- p>(</c-><c- b>void</c-><c- p>);</c-> <c- c1>// constraint violation: not a transparent alias</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>meow</c-> <c- o>=</c-> <c- n>purr</c-><c- p>;</c-> <c- c1>// compatible redeclaration</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- b>double</c-> <c- n>x</c-> <c- o>=</c-> <c- n>meow</c-><c- p>();</c-> <c- c1>// calls purr</c->
  <c- k>return</c-> <c- p>(</c-><c- b>int</c-><c- p>)(</c-><c- n>v</c-><c- p>);</c-> <c- c1>// returns 1</c->
<c- p>}</c->
</pre>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 5</strong> Compatible and completed types versus aliases:</p>
<pre class="language-cpp highlight"><c- b>void</c-> <c- nf>otter</c-><c- p>(</c-><c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[]);</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>water_noodle</c-> <c- o>=</c-> <c- n>otter</c-><c- p>;</c->
<c- b>void</c-> <c- nf>otter</c-><c- p>(</c-><c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[</c-><c- mi>2</c-><c- p>]);</c->
<c- k>static_assert</c-><c- p>(</c-><c- n>_Generic</c-><c- p>(</c-><c- n>typeof</c-><c- p>(</c-><c- n>water_noodle</c-><c- p>),</c->
  <c- b>void</c-> <c- p>(</c-><c- b>int</c-><c- p>(</c-><c- o>*</c-><c- p>)[])</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
  <c- k>default</c-><c- o>:</c-> <c- mi>0</c->
<c- p>));</c->
</pre>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 6</strong> Shadowing and compatible types through aliases:</p>
<pre class="language-cpp highlight"><c- b>void</c-> <c- nf>cookie</c-><c- p>(</c-><c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[</c-><c- mi>2</c-><c- p>]);</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>biscuit</c-> <c- o>=</c-> <c- n>cookie</c-><c- p>;</c->
  <c- p>{</c->
    <c- b>int</c-> <c- n>cookie</c-><c- p>;</c-> <c- c1>// Shadow outer declaration.</c->
    <c- p>{</c->
      <c- c1>// biscuit refers to declaration it was created with</c->
      <c- k>static_assert</c-><c- p>(</c-><c- n>_Generic</c-><c- p>(</c-><c- n>typeof</c-><c- p>(</c-><c- n>biscuit</c-><c- p>),</c->
        <c- b>void</c-> <c- p>(</c-><c- b>int</c-><c- p>(</c-><c- o>*</c-><c- p>)[</c-><c- mi>2</c-><c- p>])</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
        <c- k>default</c-><c- o>:</c-> <c- mi>0</c->
      <c- p>));</c->
    <c- p>}</c->
  <c- p>}</c->
  <c- k>return</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 7</strong> Composite and compatible types through aliases:</p>
<pre class="language-cpp highlight"><c- b>void</c-> <c- nf>otter</c-><c- p>(</c-><c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[],</c-> <c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[</c-><c- mi>2</c-><c- p>]);</c->
<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>water_sausage</c-> <c- o>=</c-> <c- n>otter</c-><c- p>;</c->
  <c- p>{</c->
    <c- b>void</c-> <c- n>otter</c-><c- p>(</c-><c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[</c-><c- mi>2</c-><c- p>],</c-> <c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[]);</c->
    <c- k>static_assert</c-><c- p>(</c-><c- n>_Generic</c-><c- p>(</c-><c- n>typeof</c-><c- p>(</c-><c- n>water_sausage</c-><c- p>),</c->
      <c- b>void</c-> <c- p>(</c-><c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[],</c-> <c- b>int</c-> <c- p>(</c-><c- o>*</c-><c- p>)[</c-><c- mi>2</c-><c- p>])</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
      <c- k>default</c-><c- o>:</c-> <c- mi>0</c->
    <c- p>));</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 8</strong> Equivalence of object and address through an alias:</p>
<pre class="language-cpp highlight"><c- b>int</c-> <c- nf>f</c-> <c- p>(</c-><c- b>int</c-> <c- n>value</c-><c- p>)</c-> <c- p>{</c-> <c- k>return</c-> <c- n>value</c-> <c- o>+</c-> <c- n>value</c-><c- p>;</c-> <c- p>}</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- k>const</c-> <c- b>int</c-> <c- n>x</c-> <c- o>=</c-> <c- mi>1</c-><c- p>;</c->
  <c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>y</c-> <c- o>=</c-> <c- n>x</c-><c- p>;</c->
  <c- c1>// equivalent to:</c->
  <c- c1>// return 2;</c->
  <c- k>return</c-> <c- o>&amp;</c-><c- n>y</c-> <c- o>==</c-> <c- o>&amp;</c-><c- n>x</c-> <c- o>?</c-> <c- n>f</c-><c- p>(</c-><c- n>y</c-><c- p>)</c-> <c- o>:</c-> <c- mi>0</c-><c- p>;</c->
<c- p>}</c->
</pre>
      </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 9</strong> Aliasing object declarations and adding attributes to aliases:</p>
<pre class="language-cpp highlight"><c- cp>#include</c-> &lt;stdio.h>

<c- cp>#define V0_DEPRECATED 1</c->

<c- k>const</c-> <c- b>char</c-><c- o>*</c-> <c- n>v1_name</c-> <c- o>=</c-> <c- s>"treehouse.systems!"</c-><c- p>;</c->

<c- cp>#if defined(V0_DEPRECATED) &amp;&amp; (V0_DEPRECATED != 0)</c->
<c- p>[[</c-><c- n>deprecatad</c-><c- p>(</c-><c- s>"v0_name will be removed in version 2, please upgrade"</c-><c- p>)]]</c->
<c- cp>#endif</c->
<c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>v0_name</c-> <c- o>=</c-> <c- n>v1_name</c-><c- p>;</c->

<c- b>int</c-> <c- nf>main</c-> <c- p>()</c-> <c- p>{</c->
  <c- n>printf</c-><c- p>(</c-><c- s>"v1: %s</c-><c- se>\n</c-><c- s>"</c-><c- p>,</c-> <c- n>v1_name</c-><c- p>);</c->
  <c- n>printf</c-><c- p>(</c-><c- s>"v0: %s</c-><c- se>\n</c-><c- s>"</c-><c- p>,</c-> <c- n>v0_name</c-><c- p>);</c-> <c- c1>// diagnostic encouraged</c->
<c- p>}</c->
</pre>
      </div>
      <p><b>Recommended Practice</b></p>
      <div class="wording-numbered"> Implementations and programs may use aliases as a way to produce stability for translation units which rely on specific function declaration and definitions being present while aliasing a common declaration name for a more suitable interface. It may be particularly helpful for function declarations which use type definitions (6.7.8) in return and parameter types. Programs may update and upgrade alias definitions alongside type definitions to preserve entities and symbols in a given program while letting newer programs take advantage of upgraded functionality. </div>
      <div class="wording-numbered">
       <p><strong>EXAMPLE 10</strong> Versioning of a function call <code class="highlight"><c- n>imaxabs</c-></code> while keeping old externally-defined function definitions available within the program. The below snippets use some exposition-only implementation-provided signed integer types <code class="highlight"><c- n>__int128_t</c-></code>, and <code class="highlight"><c- n>__int256_t</c-></code> within a <code class="highlight"><c- n>imaxabs</c-><c- p>.</c-><c- n>h</c-></code> file:</p>
<pre class="language-cpp highlight"><c- k>extern</c-> <c- b>__int128</c-> <c- nf>__imaxabs_128ish</c-><c- p>(</c-><c- b>__int128</c-> <c- n>value</c-><c- p>);</c->
<c- k>extern</c-> <c- n>__int256</c-> <c- nf>__imaxabs_256ish</c-><c- p>(</c-><c- n>__int256</c-> <c- n>value</c-><c- p>);</c->

<c- cp>#if VER1</c->
  <c- k>typedef</c-> <c- b>__int128</c-> <c- b>intmax_t</c-><c- p>;</c->
  <c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>imaxabs</c-> <c- o>=</c-> <c- n>__imaxabs_128ish</c-><c- p>;</c->
<c- cp>#elif VER2</c->
  <c- k>typedef</c-> <c- n>__int256_t</c-> <c- b>intmax_t</c-><c- p>;</c->
  <c- n>ALIAS</c-><c- o>-</c-><c- n>TOKEN</c-> <c- n>imaxabs</c-> <c- o>=</c-> <c- n>__imaxabs_256ish</c-><c- p>;</c->
<c- cp>#else</c->
  <c- k>typedef</c-> <c- b>long</c-> <c- b>long</c-> <c- b>intmax_t</c-><c- p>;</c->
  <c- k>extern</c-> <c- b>long</c-> <c- b>long</c-> <c- nf>imaxabs</c-><c- p>(</c-><c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>);</c->
<c- cp>#endif</c->
</pre>
       <p>and, with a <code class="highlight"><c- n>imaxabs</c-><c- p>.</c-><c- n>c</c-></code> file:</p>
<pre class="language-cpp highlight"><c- c1>// &lt;imaxabs.h> NOT included, intentionally</c->

<c- k>extern</c-> <c- b>__int128</c-> <c- nf>__imaxabs_128ish</c-><c- p>(</c-><c- b>__int128</c-> <c- n>value</c-><c- p>)</c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c-><c- n>value</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>)</c->
    <c- k>return</c-> <c- o>-</c-><c- n>value</c-><c- p>;</c->
  <c- k>return</c-> <c- n>value</c-><c- p>;</c->
<c- p>}</c->

<c- k>extern</c-> <c- n>__int256</c-> <c- nf>__imaxabs_256ish</c-><c- p>(</c-><c- n>__int256</c-> <c- n>value</c-><c- p>)</c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c-><c- n>value</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>)</c->
    <c- k>return</c-> <c- o>-</c-><c- n>value</c-><c- p>;</c->
  <c- k>return</c-> <c- n>value</c-><c- p>;</c->
<c- p>}</c->

<c- c1>// legacy external definition</c->
<c- k>extern</c-> <c- b>long</c-> <c- b>long</c-> <c- nf>imaxabs</c-><c- p>(</c-><c- b>long</c-> <c- b>long</c-> <c- n>value</c-><c- p>)</c-> <c- p>{</c->
  <c- k>if</c-> <c- p>(</c-><c- n>value</c-> <c- o>&lt;</c-> <c- mi>0</c-><c- p>)</c->
    <c- k>return</c-> <c- o>-</c-><c- n>value</c-><c- p>;</c->
  <c- k>return</c-> <c- n>value</c-><c- p>;</c->
<c- p>}</c->
</pre>
      </div>
     </div>
    </ins>
   </blockquote>
   <h2 class="heading settled" data-level="8" id="appendix"><span class="secno">8. </span><span class="content">Appendix</span><a class="self-link" href="#appendix"></a></h2>
   <p>A collection of code snippets, old information, and notes for the rest of the paper.</p>
   <h3 class="heading settled" data-level="8.1" id="appendix-freebsd"><span class="secno">8.1. </span><span class="content">FreeBSD <code class="highlight"><c- n>cdefs</c-><c- p>.</c-><c- n>h</c-></code> with <code class="highlight"><c- n>__sym_compat</c-></code> macro</span><a class="self-link" href="#appendix-freebsd"></a></h3>
   <p>FreeBSD uses a [sequence of macros to provide various levels of compatibility, all using various strengths and flavors of <code class="highlight"><c- kr>__asm</c-></code> labels](https://github.com/freebsd/freebsd-src/blob/main/sys/sys/cdefs.h#L369-L399):</p>
<pre class="language-cpp highlight"><c- c1>// …</c->
<c- cp>#define  __strong_reference(sym,aliassym)  \</c->
<c- cp>  extern __typeof (sym) aliassym __attribute__ ((__alias__ (#sym)))</c->
<c- cp>#ifdef __STDC__</c->
<c- cp>#define  __weak_reference(sym,alias)  \</c->
<c- cp>  __asm__(".weak " #alias);  \</c->
<c- cp>  __asm__(".equ "  #alias ", " #sym)</c->
<c- cp>#define  __warn_references(sym,msg)  \</c->
<c- cp>  __asm__(".section .gnu.warning." #sym);  \</c->
<c- cp>  __asm__(".asciz \"" msg "\"");  \</c->
<c- cp>  __asm__(".previous")</c->
<c- cp>#ifdef  __CC_SUPPORTS_SYMVER</c->
<c- cp>#define  __sym_compat(sym,impl,verid)  \</c->
<c- cp>  __asm__(".symver " #impl ", " #sym "@" #verid)</c->
<c- cp>#define  __sym_default(sym,impl,verid)  \</c->
<c- cp>  __asm__(".symver " #impl ", " #sym "@@@" #verid)</c->
<c- cp>#endif</c->
<c- cp>#else</c->
<c- cp>#define  __weak_reference(sym,alias)  \</c->
<c- cp>  __asm__(".weak alias");    \</c->
<c- cp>  __asm__(".equ alias, sym")</c->
<c- cp>#define  __warn_references(sym,msg)  \</c->
<c- cp>  __asm__(".section .gnu.warning.sym"); \</c->
<c- cp>  __asm__(".asciz \"msg\"");  \</c->
<c- cp>  __asm__(".previous")</c->
<c- cp>#ifdef  __CC_SUPPORTS_SYMVER</c->
<c- cp>#define  __sym_compat(sym,impl,verid)  \</c->
<c- cp>  __asm__(".symver impl, sym@verid")</c->
<c- cp>#define  __sym_default(impl,sym,verid)  \</c->
<c- cp>  __asm__(".symver impl, sym@@@verid")</c->
<c- cp>#endif</c->
<c- cp>#endif  </c-><c- d>/* __STDC__ */</c->
<c- c1>// …</c->
</pre>
   <p>This gets used effectively everywhere in FreeBSD for compatibility purposes, such as in <a href="https://github.com/freebsd/freebsd-src/blob/ce4cc746bb4171a131ab9099947a500c0de18ff4/include/libgen.h#L58-L61">libgen.h</a>.</p>
   <h3 class="heading settled" data-level="8.2" id="appendix-macos.time.h"><span class="secno">8.2. </span><span class="content">MacOS 15.0 Sequoia <code class="highlight"><c- n>_time</c-><c- p>.</c-><c- n>h</c-></code> Code</span><a class="self-link" href="#appendix-macos.time.h"></a></h3>
   <p>This is from the MacOS 15.0 Sequoia release, and comes from its <code class="highlight"><c- n>_time</c-><c- p>.</c-><c- n>h</c-></code> internal header. The specific macro that shows a redirect is the <code class="highlight"><c- n>_DARWIN_ALIAS</c-></code> macro, which is a simple <code class="highlight"><c- kr>__asm</c-></code> label.</p>
<pre class="language-cpp highlight"><c- d>/*</c->
<c- d>* Copyright (c) 2023 Apple Computer, Inc. All rights reserved.</c->
<c- d>*</c->
<c- d>* @APPLE_LICENSE_HEADER_START@</c->
<c- d>* </c->
<c- d>* This file contains Original Code and/or Modifications of Original Code</c->
<c- d>* as defined in and that are subject to the Apple Public Source License</c->
<c- d>* Version 2.0 (the 'License'). You may not use this file except in</c->
<c- d>* compliance with the License. Please obtain a copy of the License at</c->
<c- d>* http://www.opensource.apple.com/apsl/ and read it before using this</c->
<c- d>* file.</c->
<c- d>* </c->
<c- d>* The Original Code and all software distributed under the License are</c->
<c- d>* distributed on an 'AS IS' basis, WITHOUT WARRANTY OF ANY KIND, EITHER</c->
<c- d>* EXPRESS OR IMPLIED, AND APPLE HEREBY DISCLAIMS ALL SUCH WARRANTIES,</c->
<c- d>* INCLUDING WITHOUT LIMITATION, ANY WARRANTIES OF MERCHANTABILITY,</c->
<c- d>* FITNESS FOR A PARTICULAR PURPOSE, QUIET ENJOYMENT OR NON-INFRINGEMENT.</c->
<c- d>* Please see the License for the specific language governing rights and</c->
<c- d>* limitations under the License.</c->
<c- d>* </c->
<c- d>* @APPLE_LICENSE_HEADER_END@</c->
<c- d>*/</c->
<c- d>/*</c->
<c- d>* Copyright (c) 1989, 1993</c->
<c- d>*  The Regents of the University of California.  All rights reserved.</c->
<c- d>* (c) UNIX System Laboratories, Inc.</c->
<c- d>* All or some portions of this file are derived from material licensed</c->
<c- d>* to the University of California by American Telephone and Telegraph</c->
<c- d>* Co. or Unix System Laboratories, Inc. and are reproduced herein with</c->
<c- d>* the permission of UNIX System Laboratories, Inc.</c->
<c- d>*</c->
<c- d>* Redistribution and use in source and binary forms, with or without</c->
<c- d>* modification, are permitted provided that the following conditions</c->
<c- d>* are met:</c->
<c- d>* 1. Redistributions of source code must retain the above copyright</c->
<c- d>*    notice, this list of conditions and the following disclaimer.</c->
<c- d>* 2. Redistributions in binary form must reproduce the above copyright</c->
<c- d>*    notice, this list of conditions and the following disclaimer in the</c->
<c- d>*    documentation and/or other materials provided with the distribution.</c->
<c- d>* 3. All advertising materials mentioning features or use of this software</c->
<c- d>*    must display the following acknowledgement:</c->
<c- d>*  This product includes software developed by the University of</c->
<c- d>*  California, Berkeley and its contributors.</c->
<c- d>* 4. Neither the name of the University nor the names of its contributors</c->
<c- d>*    may be used to endorse or promote products derived from this software</c->
<c- d>*    without specific prior written permission.</c->
<c- d>*</c->
<c- d>* THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND</c->
<c- d>* ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</c->
<c- d>* IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</c->
<c- d>* ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE</c->
<c- d>* FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL</c->
<c- d>* DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS</c->
<c- d>* OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</c->
<c- d>* HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT</c->
<c- d>* LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY</c->
<c- d>* OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF</c->
<c- d>* SUCH DAMAGE.</c->
<c- d>*</c->
<c- d>*  @(#)time.h  8.3 (Berkeley) 1/21/94</c->
<c- d>*/</c->

<c- cp>#ifndef _TIME_H_</c->
<c- cp>#define  _TIME_H_</c->

<c- d>/* ... SOME CODE OMITTED ... */</c->

<c- k>extern</c-> <c- b>int</c-> <c- n>getdate_err</c-><c- p>;</c->
<c- cp>#if __DARWIN_UNIX03</c->
<c- k>extern</c-> <c- b>long</c-> <c- n>timezone</c-> <c- nf>__DARWIN_ALIAS</c-><c- p>(</c-><c- n>timezone</c-><c- p>);</c->
<c- cp>#endif </c-><c- d>/* __DARWIN_UNIX03 */</c->
<c- k>extern</c-> <c- b>int</c-> <c- n>daylight</c-><c- p>;</c->

<c- n>__BEGIN_DECLS</c->
<c- b>char</c-> <c- o>*</c-><c- n>asctime</c-><c- p>(</c-><c- k>const</c-> <c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- p>);</c->
<c- b>clock_t</c-> <c- nf>clock</c-><c- p>(</c-><c- b>void</c-><c- p>)</c-> <c- n>__DARWIN_ALIAS</c-><c- p>(</c-><c- n>clock</c-><c- p>);</c->
<c- b>char</c-> <c- o>*</c-><c- nf>ctime</c-><c- p>(</c-><c- k>const</c-> <c- b>time_t</c-> <c- o>*</c-><c- p>);</c->
<c- b>double</c-> <c- nf>difftime</c-><c- p>(</c-><c- b>time_t</c-><c- p>,</c-> <c- b>time_t</c-><c- p>);</c->
<c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- n>getdate</c-><c- p>(</c-><c- k>const</c-> <c- b>char</c-> <c- o>*</c-><c- p>);</c->
<c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- n>gmtime</c-><c- p>(</c-><c- k>const</c-> <c- b>time_t</c-> <c- o>*</c-><c- p>);</c->
<c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- n>localtime</c-><c- p>(</c-><c- k>const</c-> <c- b>time_t</c-> <c- o>*</c-><c- p>);</c->
<c- b>time_t</c-> <c- nf>mktime</c-><c- p>(</c-><c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- p>)</c-> <c- n>__DARWIN_ALIAS</c-><c- p>(</c-><c- n>mktime</c-><c- p>);</c->
<c- b>size_t</c-> <c- nf>strftime</c-><c- p>(</c-><c- b>char</c-> <c- o>*</c-> <c- k>__restrict</c-><c- p>,</c-> <c- b>size_t</c-><c- p>,</c-> <c- k>const</c-> <c- b>char</c-> <c- o>*</c-> <c- k>__restrict</c-><c- p>,</c-> <c- k>const</c-> <c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-> <c- k>__restrict</c-><c- p>)</c-> <c- n>__DARWIN_ALIAS</c-><c- p>(</c-><c- n>strftime</c-><c- p>);</c->
<c- b>char</c-> <c- o>*</c-><c- nf>strptime</c-><c- p>(</c-><c- k>const</c-> <c- b>char</c-> <c- o>*</c-> <c- k>__restrict</c-><c- p>,</c-> <c- k>const</c-> <c- b>char</c-> <c- o>*</c-> <c- k>__restrict</c-><c- p>,</c-> <c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-> <c- k>__restrict</c-><c- p>)</c-> <c- n>__DARWIN_ALIAS</c-><c- p>(</c-><c- n>strptime</c-><c- p>);</c->
<c- b>time_t</c-> <c- nf>time</c-><c- p>(</c-><c- b>time_t</c-> <c- o>*</c-><c- p>);</c->

<c- d>/* ... SOME CODE OMITTED ... */</c->
</pre>
   <h3 class="heading settled" data-level="8.3" id="appendix-musl"><span class="secno">8.3. </span><span class="content">musl-libc Aliasing/Renaming Features</span><a class="self-link" href="#appendix-musl"></a></h3>
   <p>musl-libc redirects function names frequently to prevent ABI collisions and compatibility failures. From [musl-libc’s <code class="highlight"><c- n>features</c-><c- p>.</c-><c- n>h</c-></code> header](https://github.com/bminor/musl/blob/047a16398b29d2702a41a0d6d15370d54b9d723c/include/features.h#L38):</p>
<pre class="language-cpp highlight"><c- c1>// …</c->
<c- cp>#define __REDIR(x,y) __typeof__(x) x __asm__(#y)</c->
<c- c1>// …</c->
</pre>
   <h4 class="heading settled" data-level="8.3.1" id="appendix-musl-redirect"><span class="secno">8.3.1. </span><span class="content">musl-libc "<code class="highlight"><c- n>redirect</c-></code>" Functionality</span><a class="self-link" href="#appendix-musl-redirect"></a></h4>
   <p>The redirect macro shown <a href="#appendix-musl">previously</a> has over 50 uses in the musl-libc library, primarily to change the name of functions that contain the time type definition. An [example of this is in <code class="highlight"><c- n>sys</c-><c- o>/</c-><c- n>time</c-><c- p>.</c-><c- n>h</c-></code>](https://github.com/bminor/musl/blob/047a16398b29d2702a41a0d6d15370d54b9d723c/include/sys/time.h#L59-L71):</p>
<pre class="language-cpp highlight"><c- c1>// …</c->
<c- cp>#if _REDIR_TIME64</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>gettimeofday</c-><c- p>,</c-> <c- n>__gettimeofday_time64</c-><c- p>);</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>getitimer</c-><c- p>,</c-> <c- n>__getitimer_time64</c-><c- p>);</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>setitimer</c-><c- p>,</c-> <c- n>__setitimer_time64</c-><c- p>);</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>utimes</c-><c- p>,</c-> <c- n>__utimes_time64</c-><c- p>);</c->
<c- cp>#if defined(_GNU_SOURCE) || defined(_BSD_SOURCE)</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>futimes</c-><c- p>,</c-> <c- n>__futimes_time64</c-><c- p>);</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>futimesat</c-><c- p>,</c-> <c- n>__futimesat_time64</c-><c- p>);</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>lutimes</c-><c- p>,</c-> <c- n>__lutimes_time64</c-><c- p>);</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>settimeofday</c-><c- p>,</c-> <c- n>__settimeofday_time64</c-><c- p>);</c->
<c- n>__REDIR</c-><c- p>(</c-><c- n>adjtime</c-><c- p>,</c-> <c- n>__adjtime64</c-><c- p>);</c->
<c- cp>#endif</c->
<c- cp>#endif</c->
<c- c1>// …</c->
</pre>
   <h4 class="heading settled" data-level="8.3.2" id="appendix-musl-time32.h"><span class="secno">8.3.2. </span><span class="content">musl-libc 32-bit time compatibility compatibility shim</span><a class="self-link" href="#appendix-musl-time32.h"></a></h4>
   <p>From [musl-libc’s <code class="highlight"><c- n>compat</c-><c- o>/</c-><c- n>time32</c-><c- o>/</c-><c- n>time32</c-><c- p>.</c-><c- n>h</c-></code> header](https://github.com/bminor/musl/blob/047a16398b29d2702a41a0d6d15370d54b9d723c/compat/time32/time32.h#L1-L91):</p>
<pre class="language-cpp highlight"><c- cp>#ifndef TIME32_H</c->
<c- cp>#define TIME32_H</c->

<c- cp>#include</c-> &lt;sys/types.h>

<c- k>typedef</c-> <c- b>long</c-> <c- n>time32_t</c-><c- p>;</c->

<c- k>struct</c-> <c- nc>timeval32</c-> <c- p>{</c->
  <c- b>long</c-> <c- n>tv_sec</c-><c- p>;</c->
  <c- b>long</c-> <c- n>tv_usec</c-><c- p>;</c->
<c- p>};</c->

<c- k>struct</c-> <c- nc>itimerval32</c-> <c- p>{</c->
  <c- k>struct</c-> <c- nc>timeval32</c-> <c- n>it_interval</c-><c- p>;</c->
  <c- k>struct</c-> <c- nc>timeval32</c-> <c- n>it_value</c-><c- p>;</c->
<c- p>};</c->

<c- k>struct</c-> <c- nc>timespec32</c-> <c- p>{</c->
  <c- b>long</c-> <c- n>tv_sec</c-><c- p>;</c->
  <c- b>long</c-> <c- n>tv_nsec</c-><c- p>;</c->
<c- p>};</c->

<c- k>struct</c-> <c- nc>itimerspec32</c-> <c- p>{</c->
  <c- k>struct</c-> <c- nc>timespec32</c-> <c- n>it_interval</c-><c- p>;</c->
  <c- k>struct</c-> <c- nc>timespec32</c-> <c- n>it_value</c-><c- p>;</c->
<c- p>};</c->

<c- b>int</c-> <c- n>__adjtime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"adjtime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__adjtimex_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"adjtimex"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__aio_suspend_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"aio_suspend"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__clock_adjtime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"clock_adjtime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__clock_getres_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"clock_getres"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__clock_gettime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"clock_gettime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__clock_nanosleep_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"clock_nanosleep"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__clock_settime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"clock_settime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__cnd_timedwait_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"cnd_timedwait"</c-><c- p>);</c->
<c- b>char</c-> <c- o>*</c-><c- n>__ctime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"ctime"</c-><c- p>);</c->
<c- b>char</c-> <c- o>*</c-><c- n>__ctime32_r</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"ctime_r"</c-><c- p>);</c->
<c- b>double</c-> <c- n>__difftime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"difftime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__fstat_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"fstat"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__fstatat_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"fstatat"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__ftime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"ftime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__futimens_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"futimens"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__futimes_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"futimes"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__futimesat_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"futimesat"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__getitimer_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"getitimer"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__getrusage_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"getrusage"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__gettimeofday_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"gettimeofday"</c-><c- p>);</c->
<c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- n>__gmtime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"gmtime"</c-><c- p>);</c->
<c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- n>__gmtime32_r</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"gmtime_r"</c-><c- p>);</c->
<c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- n>__localtime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"localtime"</c-><c- p>);</c->
<c- k>struct</c-> <c- nc>tm</c-> <c- o>*</c-><c- n>__localtime32_r</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"localtime_r"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__lstat_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"lstat"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__lutimes_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"lutimes"</c-><c- p>);</c->
<c- n>time32_t</c-> <c- n>__mktime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"mktime"</c-><c- p>);</c->
<c- b>ssize_t</c-> <c- n>__mq_timedreceive_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"mq_timedreceive"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__mq_timedsend_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"mq_timedsend"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__mtx_timedlock_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"mtx_timedlock"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__nanosleep_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"nanosleep"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__ppoll_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"ppoll"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__pselect_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"pselect"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__pthread_cond_timedwait_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"pthread_cond_timedwait"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__pthread_mutex_timedlock_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"pthread_mutex_timedlock"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__pthread_rwlock_timedrdlock_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"pthread_rwlock_timedrdlock"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__pthread_rwlock_timedwrlock_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"pthread_rwlock_timedwrlock"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__pthread_timedjoin_np_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"pthread_timedjoin_np"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__recvmmsg_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"recvmmsg"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__sched_rr_get_interval_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"sched_rr_get_interval"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__select_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"select"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__sem_timedwait_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"sem_timedwait"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__semtimedop_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"semtimedop"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__setitimer_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"setitimer"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__settimeofday_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"settimeofday"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__sigtimedwait_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"sigtimedwait"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__stat_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"stat"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__stime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"stime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__thrd_sleep_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"thrd_sleep"</c-><c- p>);</c->
<c- n>time32_t</c-> <c- n>__time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"time"</c-><c- p>);</c->
<c- n>time32_t</c-> <c- n>__time32gm</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"timegm"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__timer_gettime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"timer_gettime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__timer_settime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"timer_settime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__timerfd_gettime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"timerfd_gettime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__timerfd_settime32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"timerfd_settime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__timespec_get_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"timespec_get"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__utime_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"utime"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__utimensat_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"utimensat"</c-><c- p>);</c->
<c- b>int</c-> <c- n>__utimes_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"utimes"</c-><c- p>);</c->
<c- b>pid_t</c-> <c- n>__wait3_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"wait3"</c-><c- p>);</c->
<c- b>pid_t</c-> <c- n>__wait4_time32</c-><c- p>()</c-> <c- n>__asm__</c-><c- p>(</c-><c- s>"wait4"</c-><c- p>);</c->

<c- cp>#endif</c->
</pre>
  </main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don't scroll to compensate for the ToC if we're above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don't know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn't exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn't standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don't have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we're at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can't find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-clang-asm">[CLANG-ASM]
   <dd>LLVM Maintainers. <a href="https://clang.llvm.org/docs/AttributeReference.html#asm"><cite>Attributes: asm</cite></a>. August 15th, 2021. URL: <a href="https://clang.llvm.org/docs/AttributeReference.html#asm">https://clang.llvm.org/docs/AttributeReference.html#asm</a>
   <dt id="biblio-gcc-attribute">[GCC-ATTRIBUTE]
   <dd>GNU Compiler Collection. <a href="https://gcc.gnu.org/onlinedocs/gcc-4.0.2/gcc/Function-Attributes.html#Function-Attributes"><cite>Function attributes: alias</cite></a>. August 16th, 2021. URL: <a href="https://gcc.gnu.org/onlinedocs/gcc-4.0.2/gcc/Function-Attributes.html#Function-Attributes">https://gcc.gnu.org/onlinedocs/gcc-4.0.2/gcc/Function-Attributes.html#Function-Attributes</a>
   <dt id="biblio-intel-attribute">[INTEL-ATTRIBUTE]
   <dd>Intel Compiler Collection. <a href="https://software.intel.com/content/www/us/en/develop/articles/download-documentation-intel-compiler-current-and-previous.html"><cite>Documentation: attribute</cite></a>. June 28th, 2021. URL: <a href="https://software.intel.com/content/www/us/en/develop/articles/download-documentation-intel-compiler-current-and-previous.html">https://software.intel.com/content/www/us/en/develop/articles/download-documentation-intel-compiler-current-and-previous.html</a>
   <dt id="biblio-keil-attribute">[KEIL-ATTRIBUTE]
   <dd>Keil. <a href="https://www.keil.com/support/man/docs/armcc/armcc_chr1359124973698.htm"><cite>__attribute__((alias)) function attribute</cite></a>. December 31st, 2019. URL: <a href="https://www.keil.com/support/man/docs/armcc/armcc_chr1359124973698.htm">https://www.keil.com/support/man/docs/armcc/armcc_chr1359124973698.htm</a>
   <dt id="biblio-msvc-exports">[MSVC-EXPORTS]
   <dd>Microsoft Visual C++. <a href="https://docs.microsoft.com/en-us/cpp/build/reference/exports"><cite>EXPORTS | Microsoft Docs</cite></a>. September 7th, 2018. URL: <a href="https://docs.microsoft.com/en-us/cpp/build/reference/exports">https://docs.microsoft.com/en-us/cpp/build/reference/exports</a>
   <dt id="biblio-n2425">[N2425]
   <dd>Jens Gustedt. <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2425.pdf"><cite>intmax_t, a way out v.2</cite></a>. February 10th, 2020. URL: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2425.pdf">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2425.pdf</a>
   <dt id="biblio-n2465">[N2465]
   <dd>Robert Seacord. <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2465.pdf"><cite>intmax_t, a way forward</cite></a>. February 10th, 2020. URL: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2465.pdf">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2465.pdf</a>
   <dt id="biblio-n2498">[N2498]
   <dd>Martin Uecker. <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2498.pdf"><cite>intmax_t, again</cite></a>. February 9th, 2020. URL: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2498.pdf">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2498.pdf</a>
   <dt id="biblio-n2525">[N2525]
   <dd>Philipp Klaus Krause. <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2525.htm"><cite>Remove the `fromfp`, `ufromfp`, `fromfpx`, `ufromfpx`, and other intmax_t functions</cite></a>. May 11th, 2020. URL: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2525.htm">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2525.htm</a>
   <dt id="biblio-n2680">[N2680]
   <dd>Robert Seacord. <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2680.pdf"><cite>Specific-width length modifier</cite></a>. March 9th, 2021. URL: <a href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2680.pdf">https://www.open-std.org/jtc1/sc22/wg14/www/docs/n2680.pdf</a>
   <dt id="biblio-netbsd-symbols">[NETBSD-SYMBOLS]
   <dd>NetBSD &amp; Contributors. <a href="https://wiki.netbsd.org/symbol_versions/"><cite>Symbol Versioning</cite></a>. September 24th, 2024. URL: <a href="https://wiki.netbsd.org/symbol_versions/">https://wiki.netbsd.org/symbol_versions/</a>
   <dt id="biblio-oracle-attribute">[ORACLE-ATTRIBUTE]
   <dd>Oracle Solaris Studio. <a href="https://docs.oracle.com/cd/E24457_01/html/E21990/gjzke.html#scrolltoc"><cite>2.9 Supported Attributes</cite></a>. December 30th, 2012. URL: <a href="https://docs.oracle.com/cd/E24457_01/html/E21990/gjzke.html#scrolltoc">https://docs.oracle.com/cd/E24457_01/html/E21990/gjzke.html#scrolltoc</a>
   <dt id="biblio-oracle-pragma">[ORACLE-PRAGMA]
   <dd>Oracle Solaris Studio. <a href="https://docs.oracle.com/cd/E77782_01/html/E77788/bjaby.html#OSSCGbjacu"><cite>2.12.22 redefine_extname</cite></a>. July 1st, 2017. URL: <a href="https://docs.oracle.com/cd/E77782_01/html/E77788/bjaby.html#OSSCGbjacu">https://docs.oracle.com/cd/E77782_01/html/E77788/bjaby.html#OSSCGbjacu</a>
   <dt id="biblio-p0945">[P0945]
   <dd>Richard Smith. <a href="https://wg21.link/p0945"><cite>Generalizing alias declarations</cite></a>. February 10th, 2018. URL: <a href="https://wg21.link/p0945">https://wg21.link/p0945</a>
  </dl>